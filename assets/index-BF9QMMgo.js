var Rq=Object.defineProperty;var RA=e=>{throw TypeError(e)};var Iq=(e,t,n)=>t in e?Rq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var je=(e,t,n)=>Iq(e,typeof t!="symbol"?t+"":t,n),cw=(e,t,n)=>t.has(e)||RA("Cannot "+n);var z=(e,t,n)=>(cw(e,t,"read from private field"),n?n.call(e):t.get(e)),De=(e,t,n)=>t.has(e)?RA("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),we=(e,t,n,r)=>(cw(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ze=(e,t,n)=>(cw(e,t,"access private method"),n);var kg=(e,t,n,r)=>({set _(s){we(e,t,s,n)},get _(){return z(e,t,r)}});function $q(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Eg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var R4={exports:{}},u0={},I4={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up=Symbol.for("react.element"),Dq=Symbol.for("react.portal"),Lq=Symbol.for("react.fragment"),Fq=Symbol.for("react.strict_mode"),Bq=Symbol.for("react.profiler"),Vq=Symbol.for("react.provider"),Uq=Symbol.for("react.context"),zq=Symbol.for("react.forward_ref"),Wq=Symbol.for("react.suspense"),Hq=Symbol.for("react.memo"),qq=Symbol.for("react.lazy"),IA=Symbol.iterator;function Kq(e){return e===null||typeof e!="object"?null:(e=IA&&e[IA]||e["@@iterator"],typeof e=="function"?e:null)}var $4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D4=Object.assign,L4={};function gf(e,t,n){this.props=e,this.context=t,this.refs=L4,this.updater=n||$4}gf.prototype.isReactComponent={};gf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F4(){}F4.prototype=gf.prototype;function cC(e,t,n){this.props=e,this.context=t,this.refs=L4,this.updater=n||$4}var uC=cC.prototype=new F4;uC.constructor=cC;D4(uC,gf.prototype);uC.isPureReactComponent=!0;var $A=Array.isArray,B4=Object.prototype.hasOwnProperty,dC={current:null},V4={key:!0,ref:!0,__self:!0,__source:!0};function U4(e,t,n){var r,s={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)B4.call(t,r)&&!V4.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Up,type:e,key:a,ref:o,props:s,_owner:dC.current}}function Gq(e,t){return{$$typeof:Up,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fC(e){return typeof e=="object"&&e!==null&&e.$$typeof===Up}function Yq(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var DA=/\/+/g;function uw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Yq(""+e.key):t.toString(36)}function Ay(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Up:case Dq:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+uw(o,0):r,$A(s)?(n="",e!=null&&(n=e.replace(DA,"$&/")+"/"),Ay(s,t,n,"",function(u){return u})):s!=null&&(fC(s)&&(s=Gq(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(DA,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",$A(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+uw(a,l);o+=Ay(a,t,n,c,s)}else if(c=Kq(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+uw(a,l++),o+=Ay(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ag(e,t,n){if(e==null)return e;var r=[],s=0;return Ay(e,r,"","",function(a){return t.call(n,a,s++)}),r}function Xq(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ir={current:null},Ty={transition:null},Qq={ReactCurrentDispatcher:Ir,ReactCurrentBatchConfig:Ty,ReactCurrentOwner:dC};function z4(){throw Error("act(...) is not supported in production builds of React.")}rt.Children={map:Ag,forEach:function(e,t,n){Ag(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ag(e,function(){t++}),t},toArray:function(e){return Ag(e,function(t){return t})||[]},only:function(e){if(!fC(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};rt.Component=gf;rt.Fragment=Lq;rt.Profiler=Bq;rt.PureComponent=cC;rt.StrictMode=Fq;rt.Suspense=Wq;rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qq;rt.act=z4;rt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=D4({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=dC.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)B4.call(t,c)&&!V4.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Up,type:e.type,key:s,ref:a,props:r,_owner:o}};rt.createContext=function(e){return e={$$typeof:Uq,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vq,_context:e},e.Consumer=e};rt.createElement=U4;rt.createFactory=function(e){var t=U4.bind(null,e);return t.type=e,t};rt.createRef=function(){return{current:null}};rt.forwardRef=function(e){return{$$typeof:zq,render:e}};rt.isValidElement=fC;rt.lazy=function(e){return{$$typeof:qq,_payload:{_status:-1,_result:e},_init:Xq}};rt.memo=function(e,t){return{$$typeof:Hq,type:e,compare:t===void 0?null:t}};rt.startTransition=function(e){var t=Ty.transition;Ty.transition={};try{e()}finally{Ty.transition=t}};rt.unstable_act=z4;rt.useCallback=function(e,t){return Ir.current.useCallback(e,t)};rt.useContext=function(e){return Ir.current.useContext(e)};rt.useDebugValue=function(){};rt.useDeferredValue=function(e){return Ir.current.useDeferredValue(e)};rt.useEffect=function(e,t){return Ir.current.useEffect(e,t)};rt.useId=function(){return Ir.current.useId()};rt.useImperativeHandle=function(e,t,n){return Ir.current.useImperativeHandle(e,t,n)};rt.useInsertionEffect=function(e,t){return Ir.current.useInsertionEffect(e,t)};rt.useLayoutEffect=function(e,t){return Ir.current.useLayoutEffect(e,t)};rt.useMemo=function(e,t){return Ir.current.useMemo(e,t)};rt.useReducer=function(e,t,n){return Ir.current.useReducer(e,t,n)};rt.useRef=function(e){return Ir.current.useRef(e)};rt.useState=function(e){return Ir.current.useState(e)};rt.useSyncExternalStore=function(e,t,n){return Ir.current.useSyncExternalStore(e,t,n)};rt.useTransition=function(){return Ir.current.useTransition()};rt.version="18.3.1";I4.exports=rt;var v=I4.exports;const M=Mt(v),hC=$q({__proto__:null,default:M},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zq=v,Jq=Symbol.for("react.element"),eK=Symbol.for("react.fragment"),tK=Object.prototype.hasOwnProperty,nK=Zq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rK={key:!0,ref:!0,__self:!0,__source:!0};function W4(e,t,n){var r,s={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)tK.call(t,r)&&!rK.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Jq,type:e,key:a,ref:o,props:s,_owner:nK.current}}u0.Fragment=eK;u0.jsx=W4;u0.jsxs=W4;R4.exports=u0;var i=R4.exports,H4={exports:{}},_s={},q4={exports:{}},K4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,T){var O=R.length;R.push(T);e:for(;0<O;){var W=O-1>>>1,$=R[W];if(0<s($,T))R[W]=T,R[O]=$,O=W;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var T=R[0],O=R.pop();if(O!==T){R[0]=O;e:for(var W=0,$=R.length,Y=$>>>1;W<Y;){var U=2*(W+1)-1,ne=R[U],be=U+1,re=R[be];if(0>s(ne,O))be<$&&0>s(re,ne)?(R[W]=re,R[be]=O,W=be):(R[W]=ne,R[U]=O,W=U);else if(be<$&&0>s(re,O))R[W]=re,R[be]=O,W=be;else break e}}return T}function s(R,T){var O=R.sortIndex-T.sortIndex;return O!==0?O:R.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,y=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=R)r(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=n(u)}}function _(R){if(p=!1,b(R),!y)if(n(c)!==null)y=!0,B(j);else{var T=n(u);T!==null&&F(_,T.startTime-R)}}function j(R,T){y=!1,p&&(p=!1,w(C),C=-1),m=!0;var O=h;try{for(b(T),f=n(c);f!==null&&(!(f.expirationTime>T)||R&&!A());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var $=W(f.expirationTime<=T);T=e.unstable_now(),typeof $=="function"?f.callback=$:f===n(c)&&r(c),b(T)}else r(c);f=n(c)}if(f!==null)var Y=!0;else{var U=n(u);U!==null&&F(_,U.startTime-T),Y=!1}return Y}finally{f=null,h=O,m=!1}}var S=!1,N=null,C=-1,P=5,k=-1;function A(){return!(e.unstable_now()-k<P)}function E(){if(N!==null){var R=e.unstable_now();k=R;var T=!0;try{T=N(!0,R)}finally{T?I():(S=!1,N=null)}}else S=!1}var I;if(typeof g=="function")I=function(){g(E)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,V=D.port2;D.port1.onmessage=E,I=function(){V.postMessage(null)}}else I=function(){x(E,0)};function B(R){N=R,S||(S=!0,I())}function F(R,T){C=x(function(){R(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,B(j))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var O=h;h=T;try{return R()}finally{h=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,T){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var O=h;h=R;try{return T()}finally{h=O}},e.unstable_scheduleCallback=function(R,T,O){var W=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?W+O:W):O=W,R){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=O+$,R={id:d++,callback:T,priorityLevel:R,startTime:O,expirationTime:$,sortIndex:-1},O>W?(R.sortIndex=O,t(u,R),n(c)===null&&R===n(u)&&(p?(w(C),C=-1):p=!0,F(_,O-W))):(R.sortIndex=$,t(c,R),y||m||(y=!0,B(j))),R},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(R){var T=h;return function(){var O=h;h=T;try{return R.apply(this,arguments)}finally{h=O}}}})(K4);q4.exports=K4;var sK=q4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aK=v,ys=sK;function ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var G4=new Set,hm={};function Uc(e,t){Sd(e,t),Sd(e+"Capture",t)}function Sd(e,t){for(hm[e]=t,e=0;e<t.length;e++)G4.add(t[e])}var Mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c_=Object.prototype.hasOwnProperty,iK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,LA={},FA={};function oK(e){return c_.call(FA,e)?!0:c_.call(LA,e)?!1:iK.test(e)?FA[e]=!0:(LA[e]=!0,!1)}function lK(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cK(e,t,n,r){if(t===null||typeof t>"u"||lK(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $r(e,t,n,r,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){cr[e]=new $r(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];cr[t]=new $r(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){cr[e]=new $r(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){cr[e]=new $r(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){cr[e]=new $r(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){cr[e]=new $r(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){cr[e]=new $r(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){cr[e]=new $r(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){cr[e]=new $r(e,5,!1,e.toLowerCase(),null,!1,!1)});var mC=/[\-:]([a-z])/g;function pC(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mC,pC);cr[t]=new $r(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mC,pC);cr[t]=new $r(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mC,pC);cr[t]=new $r(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){cr[e]=new $r(e,1,!1,e.toLowerCase(),null,!1,!1)});cr.xlinkHref=new $r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){cr[e]=new $r(e,1,!1,e.toLowerCase(),null,!0,!0)});function gC(e,t,n,r){var s=cr.hasOwnProperty(t)?cr[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cK(t,n,s,r)&&(n=null),r||s===null?oK(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Gi=aK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tg=Symbol.for("react.element"),Pu=Symbol.for("react.portal"),ku=Symbol.for("react.fragment"),yC=Symbol.for("react.strict_mode"),u_=Symbol.for("react.profiler"),Y4=Symbol.for("react.provider"),X4=Symbol.for("react.context"),vC=Symbol.for("react.forward_ref"),d_=Symbol.for("react.suspense"),f_=Symbol.for("react.suspense_list"),xC=Symbol.for("react.memo"),mo=Symbol.for("react.lazy"),Q4=Symbol.for("react.offscreen"),BA=Symbol.iterator;function nh(e){return e===null||typeof e!="object"?null:(e=BA&&e[BA]||e["@@iterator"],typeof e=="function"?e:null)}var rn=Object.assign,dw;function Ah(e){if(dw===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);dw=t&&t[1]||""}return`
`+dw+e}var fw=!1;function hw(e,t){if(!e||fw)return"";fw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{fw=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ah(e):""}function uK(e){switch(e.tag){case 5:return Ah(e.type);case 16:return Ah("Lazy");case 13:return Ah("Suspense");case 19:return Ah("SuspenseList");case 0:case 2:case 15:return e=hw(e.type,!1),e;case 11:return e=hw(e.type.render,!1),e;case 1:return e=hw(e.type,!0),e;default:return""}}function h_(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ku:return"Fragment";case Pu:return"Portal";case u_:return"Profiler";case yC:return"StrictMode";case d_:return"Suspense";case f_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case X4:return(e.displayName||"Context")+".Consumer";case Y4:return(e._context.displayName||"Context")+".Provider";case vC:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xC:return t=e.displayName||null,t!==null?t:h_(e.type)||"Memo";case mo:t=e._payload,e=e._init;try{return h_(e(t))}catch{}}return null}function dK(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return h_(t);case 8:return t===yC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Z4(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fK(e){var t=Z4(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Og(e){e._valueTracker||(e._valueTracker=fK(e))}function J4(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Z4(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function tv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function m_(e,t){var n=t.checked;return rn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function VA(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=tl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function e5(e,t){t=t.checked,t!=null&&gC(e,"checked",t,!1)}function p_(e,t){e5(e,t);var n=tl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?g_(e,t.type,n):t.hasOwnProperty("defaultValue")&&g_(e,t.type,tl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function UA(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function g_(e,t,n){(t!=="number"||tv(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Th=Array.isArray;function Xu(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+tl(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function y_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ue(91));return rn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zA(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ue(92));if(Th(n)){if(1<n.length)throw Error(ue(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:tl(n)}}function t5(e,t){var n=tl(t.value),r=tl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function WA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function n5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function v_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?n5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mg,r5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mg=Mg||document.createElement("div"),Mg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mm(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Uh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hK=["Webkit","ms","Moz","O"];Object.keys(Uh).forEach(function(e){hK.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Uh[t]=Uh[e]})});function s5(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Uh.hasOwnProperty(e)&&Uh[e]?(""+t).trim():t+"px"}function a5(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=s5(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var mK=rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function x_(e,t){if(t){if(mK[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ue(62))}}function b_(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var w_=null;function bC(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var __=null,Qu=null,Zu=null;function HA(e){if(e=Hp(e)){if(typeof __!="function")throw Error(ue(280));var t=e.stateNode;t&&(t=p0(t),__(e.stateNode,e.type,t))}}function i5(e){Qu?Zu?Zu.push(e):Zu=[e]:Qu=e}function o5(){if(Qu){var e=Qu,t=Zu;if(Zu=Qu=null,HA(e),t)for(e=0;e<t.length;e++)HA(t[e])}}function l5(e,t){return e(t)}function c5(){}var mw=!1;function u5(e,t,n){if(mw)return e(t,n);mw=!0;try{return l5(e,t,n)}finally{mw=!1,(Qu!==null||Zu!==null)&&(c5(),o5())}}function pm(e,t){var n=e.stateNode;if(n===null)return null;var r=p0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ue(231,t,typeof n));return n}var j_=!1;if(Mi)try{var rh={};Object.defineProperty(rh,"passive",{get:function(){j_=!0}}),window.addEventListener("test",rh,rh),window.removeEventListener("test",rh,rh)}catch{j_=!1}function pK(e,t,n,r,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var zh=!1,nv=null,rv=!1,S_=null,gK={onError:function(e){zh=!0,nv=e}};function yK(e,t,n,r,s,a,o,l,c){zh=!1,nv=null,pK.apply(gK,arguments)}function vK(e,t,n,r,s,a,o,l,c){if(yK.apply(this,arguments),zh){if(zh){var u=nv;zh=!1,nv=null}else throw Error(ue(198));rv||(rv=!0,S_=u)}}function zc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function d5(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qA(e){if(zc(e)!==e)throw Error(ue(188))}function xK(e){var t=e.alternate;if(!t){if(t=zc(e),t===null)throw Error(ue(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return qA(s),e;if(a===r)return qA(s),t;a=a.sibling}throw Error(ue(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(ue(189))}}if(n.alternate!==r)throw Error(ue(190))}if(n.tag!==3)throw Error(ue(188));return n.stateNode.current===n?e:t}function f5(e){return e=xK(e),e!==null?h5(e):null}function h5(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=h5(e);if(t!==null)return t;e=e.sibling}return null}var m5=ys.unstable_scheduleCallback,KA=ys.unstable_cancelCallback,bK=ys.unstable_shouldYield,wK=ys.unstable_requestPaint,pn=ys.unstable_now,_K=ys.unstable_getCurrentPriorityLevel,wC=ys.unstable_ImmediatePriority,p5=ys.unstable_UserBlockingPriority,sv=ys.unstable_NormalPriority,jK=ys.unstable_LowPriority,g5=ys.unstable_IdlePriority,d0=null,qa=null;function SK(e){if(qa&&typeof qa.onCommitFiberRoot=="function")try{qa.onCommitFiberRoot(d0,e,void 0,(e.current.flags&128)===128)}catch{}}var _a=Math.clz32?Math.clz32:PK,NK=Math.log,CK=Math.LN2;function PK(e){return e>>>=0,e===0?32:31-(NK(e)/CK|0)|0}var Rg=64,Ig=4194304;function Oh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function av(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Oh(l):(a&=o,a!==0&&(r=Oh(a)))}else o=n&~s,o!==0?r=Oh(o):a!==0&&(r=Oh(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_a(t),s=1<<n,r|=e[n],t&=~s;return r}function kK(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EK(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-_a(a),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=kK(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function N_(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function y5(){var e=Rg;return Rg<<=1,!(Rg&4194240)&&(Rg=64),e}function pw(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zp(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_a(t),e[t]=n}function AK(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-_a(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function _C(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_a(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Pt=0;function v5(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var x5,jC,b5,w5,_5,C_=!1,$g=[],Bo=null,Vo=null,Uo=null,gm=new Map,ym=new Map,bo=[],TK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function GA(e,t){switch(e){case"focusin":case"focusout":Bo=null;break;case"dragenter":case"dragleave":Vo=null;break;case"mouseover":case"mouseout":Uo=null;break;case"pointerover":case"pointerout":gm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ym.delete(t.pointerId)}}function sh(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Hp(t),t!==null&&jC(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function OK(e,t,n,r,s){switch(t){case"focusin":return Bo=sh(Bo,e,t,n,r,s),!0;case"dragenter":return Vo=sh(Vo,e,t,n,r,s),!0;case"mouseover":return Uo=sh(Uo,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return gm.set(a,sh(gm.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,ym.set(a,sh(ym.get(a)||null,e,t,n,r,s)),!0}return!1}function j5(e){var t=ql(e.target);if(t!==null){var n=zc(t);if(n!==null){if(t=n.tag,t===13){if(t=d5(n),t!==null){e.blockedOn=t,_5(e.priority,function(){b5(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=P_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);w_=r,n.target.dispatchEvent(r),w_=null}else return t=Hp(n),t!==null&&jC(t),e.blockedOn=n,!1;t.shift()}return!0}function YA(e,t,n){Oy(e)&&n.delete(t)}function MK(){C_=!1,Bo!==null&&Oy(Bo)&&(Bo=null),Vo!==null&&Oy(Vo)&&(Vo=null),Uo!==null&&Oy(Uo)&&(Uo=null),gm.forEach(YA),ym.forEach(YA)}function ah(e,t){e.blockedOn===t&&(e.blockedOn=null,C_||(C_=!0,ys.unstable_scheduleCallback(ys.unstable_NormalPriority,MK)))}function vm(e){function t(s){return ah(s,e)}if(0<$g.length){ah($g[0],e);for(var n=1;n<$g.length;n++){var r=$g[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Bo!==null&&ah(Bo,e),Vo!==null&&ah(Vo,e),Uo!==null&&ah(Uo,e),gm.forEach(t),ym.forEach(t),n=0;n<bo.length;n++)r=bo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<bo.length&&(n=bo[0],n.blockedOn===null);)j5(n),n.blockedOn===null&&bo.shift()}var Ju=Gi.ReactCurrentBatchConfig,iv=!0;function RK(e,t,n,r){var s=Pt,a=Ju.transition;Ju.transition=null;try{Pt=1,SC(e,t,n,r)}finally{Pt=s,Ju.transition=a}}function IK(e,t,n,r){var s=Pt,a=Ju.transition;Ju.transition=null;try{Pt=4,SC(e,t,n,r)}finally{Pt=s,Ju.transition=a}}function SC(e,t,n,r){if(iv){var s=P_(e,t,n,r);if(s===null)Nw(e,t,r,ov,n),GA(e,r);else if(OK(s,e,t,n,r))r.stopPropagation();else if(GA(e,r),t&4&&-1<TK.indexOf(e)){for(;s!==null;){var a=Hp(s);if(a!==null&&x5(a),a=P_(e,t,n,r),a===null&&Nw(e,t,r,ov,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Nw(e,t,r,null,n)}}var ov=null;function P_(e,t,n,r){if(ov=null,e=bC(r),e=ql(e),e!==null)if(t=zc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=d5(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ov=e,null}function S5(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_K()){case wC:return 1;case p5:return 4;case sv:case jK:return 16;case g5:return 536870912;default:return 16}default:return 16}}var Io=null,NC=null,My=null;function N5(){if(My)return My;var e,t=NC,n=t.length,r,s="value"in Io?Io.value:Io.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[a-r];r++);return My=s.slice(e,1<r?1-r:void 0)}function Ry(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dg(){return!0}function XA(){return!1}function js(e){function t(n,r,s,a,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Dg:XA,this.isPropagationStopped=XA,this}return rn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dg)},persist:function(){},isPersistent:Dg}),t}var yf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},CC=js(yf),Wp=rn({},yf,{view:0,detail:0}),$K=js(Wp),gw,yw,ih,f0=rn({},Wp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:PC,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ih&&(ih&&e.type==="mousemove"?(gw=e.screenX-ih.screenX,yw=e.screenY-ih.screenY):yw=gw=0,ih=e),gw)},movementY:function(e){return"movementY"in e?e.movementY:yw}}),QA=js(f0),DK=rn({},f0,{dataTransfer:0}),LK=js(DK),FK=rn({},Wp,{relatedTarget:0}),vw=js(FK),BK=rn({},yf,{animationName:0,elapsedTime:0,pseudoElement:0}),VK=js(BK),UK=rn({},yf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zK=js(UK),WK=rn({},yf,{data:0}),ZA=js(WK),HK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GK(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=KK[e])?!!t[e]:!1}function PC(){return GK}var YK=rn({},Wp,{key:function(e){if(e.key){var t=HK[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ry(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qK[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:PC,charCode:function(e){return e.type==="keypress"?Ry(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ry(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),XK=js(YK),QK=rn({},f0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JA=js(QK),ZK=rn({},Wp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:PC}),JK=js(ZK),eG=rn({},yf,{propertyName:0,elapsedTime:0,pseudoElement:0}),tG=js(eG),nG=rn({},f0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rG=js(nG),sG=[9,13,27,32],kC=Mi&&"CompositionEvent"in window,Wh=null;Mi&&"documentMode"in document&&(Wh=document.documentMode);var aG=Mi&&"TextEvent"in window&&!Wh,C5=Mi&&(!kC||Wh&&8<Wh&&11>=Wh),e2=" ",t2=!1;function P5(e,t){switch(e){case"keyup":return sG.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Eu=!1;function iG(e,t){switch(e){case"compositionend":return k5(t);case"keypress":return t.which!==32?null:(t2=!0,e2);case"textInput":return e=t.data,e===e2&&t2?null:e;default:return null}}function oG(e,t){if(Eu)return e==="compositionend"||!kC&&P5(e,t)?(e=N5(),My=NC=Io=null,Eu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return C5&&t.locale!=="ko"?null:t.data;default:return null}}var lG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lG[e.type]:t==="textarea"}function E5(e,t,n,r){i5(r),t=lv(t,"onChange"),0<t.length&&(n=new CC("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hh=null,xm=null;function cG(e){B5(e,0)}function h0(e){var t=Ou(e);if(J4(t))return e}function uG(e,t){if(e==="change")return t}var A5=!1;if(Mi){var xw;if(Mi){var bw="oninput"in document;if(!bw){var r2=document.createElement("div");r2.setAttribute("oninput","return;"),bw=typeof r2.oninput=="function"}xw=bw}else xw=!1;A5=xw&&(!document.documentMode||9<document.documentMode)}function s2(){Hh&&(Hh.detachEvent("onpropertychange",T5),xm=Hh=null)}function T5(e){if(e.propertyName==="value"&&h0(xm)){var t=[];E5(t,xm,e,bC(e)),u5(cG,t)}}function dG(e,t,n){e==="focusin"?(s2(),Hh=t,xm=n,Hh.attachEvent("onpropertychange",T5)):e==="focusout"&&s2()}function fG(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return h0(xm)}function hG(e,t){if(e==="click")return h0(t)}function mG(e,t){if(e==="input"||e==="change")return h0(t)}function pG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Na=typeof Object.is=="function"?Object.is:pG;function bm(e,t){if(Na(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!c_.call(t,s)||!Na(e[s],t[s]))return!1}return!0}function a2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i2(e,t){var n=a2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=a2(n)}}function O5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?O5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function M5(){for(var e=window,t=tv();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=tv(e.document)}return t}function EC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gG(e){var t=M5(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&O5(n.ownerDocument.documentElement,n)){if(r!==null&&EC(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=i2(n,a);var o=i2(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yG=Mi&&"documentMode"in document&&11>=document.documentMode,Au=null,k_=null,qh=null,E_=!1;function o2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;E_||Au==null||Au!==tv(r)||(r=Au,"selectionStart"in r&&EC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qh&&bm(qh,r)||(qh=r,r=lv(k_,"onSelect"),0<r.length&&(t=new CC("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Au)))}function Lg(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tu={animationend:Lg("Animation","AnimationEnd"),animationiteration:Lg("Animation","AnimationIteration"),animationstart:Lg("Animation","AnimationStart"),transitionend:Lg("Transition","TransitionEnd")},ww={},R5={};Mi&&(R5=document.createElement("div").style,"AnimationEvent"in window||(delete Tu.animationend.animation,delete Tu.animationiteration.animation,delete Tu.animationstart.animation),"TransitionEvent"in window||delete Tu.transitionend.transition);function m0(e){if(ww[e])return ww[e];if(!Tu[e])return e;var t=Tu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in R5)return ww[e]=t[n];return e}var I5=m0("animationend"),$5=m0("animationiteration"),D5=m0("animationstart"),L5=m0("transitionend"),F5=new Map,l2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dl(e,t){F5.set(e,t),Uc(t,[e])}for(var _w=0;_w<l2.length;_w++){var jw=l2[_w],vG=jw.toLowerCase(),xG=jw[0].toUpperCase()+jw.slice(1);dl(vG,"on"+xG)}dl(I5,"onAnimationEnd");dl($5,"onAnimationIteration");dl(D5,"onAnimationStart");dl("dblclick","onDoubleClick");dl("focusin","onFocus");dl("focusout","onBlur");dl(L5,"onTransitionEnd");Sd("onMouseEnter",["mouseout","mouseover"]);Sd("onMouseLeave",["mouseout","mouseover"]);Sd("onPointerEnter",["pointerout","pointerover"]);Sd("onPointerLeave",["pointerout","pointerover"]);Uc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bG=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mh));function c2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,vK(r,t,void 0,e),e.currentTarget=null}function B5(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;c2(s,l,u),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;c2(s,l,u),a=c}}}if(rv)throw e=S_,rv=!1,S_=null,e}function Vt(e,t){var n=t[R_];n===void 0&&(n=t[R_]=new Set);var r=e+"__bubble";n.has(r)||(V5(t,e,2,!1),n.add(r))}function Sw(e,t,n){var r=0;t&&(r|=4),V5(n,e,r,t)}var Fg="_reactListening"+Math.random().toString(36).slice(2);function wm(e){if(!e[Fg]){e[Fg]=!0,G4.forEach(function(n){n!=="selectionchange"&&(bG.has(n)||Sw(n,!1,e),Sw(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fg]||(t[Fg]=!0,Sw("selectionchange",!1,t))}}function V5(e,t,n,r){switch(S5(t)){case 1:var s=RK;break;case 4:s=IK;break;default:s=SC}n=s.bind(null,t,n,e),s=void 0,!j_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Nw(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ql(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}u5(function(){var u=a,d=bC(n),f=[];e:{var h=F5.get(e);if(h!==void 0){var m=CC,y=e;switch(e){case"keypress":if(Ry(n)===0)break e;case"keydown":case"keyup":m=XK;break;case"focusin":y="focus",m=vw;break;case"focusout":y="blur",m=vw;break;case"beforeblur":case"afterblur":m=vw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=QA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=LK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=JK;break;case I5:case $5:case D5:m=VK;break;case L5:m=tG;break;case"scroll":m=$K;break;case"wheel":m=rG;break;case"copy":case"cut":case"paste":m=zK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=JA}var p=(t&4)!==0,x=!p&&e==="scroll",w=p?h!==null?h+"Capture":null:h;p=[];for(var g=u,b;g!==null;){b=g;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,w!==null&&(_=pm(g,w),_!=null&&p.push(_m(g,_,b)))),x)break;g=g.return}0<p.length&&(h=new m(h,y,null,n,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==w_&&(y=n.relatedTarget||n.fromElement)&&(ql(y)||y[Ri]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?ql(y):null,y!==null&&(x=zc(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(p=QA,_="onMouseLeave",w="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(p=JA,_="onPointerLeave",w="onPointerEnter",g="pointer"),x=m==null?h:Ou(m),b=y==null?h:Ou(y),h=new p(_,g+"leave",m,n,d),h.target=x,h.relatedTarget=b,_=null,ql(d)===u&&(p=new p(w,g+"enter",y,n,d),p.target=b,p.relatedTarget=x,_=p),x=_,m&&y)t:{for(p=m,w=y,g=0,b=p;b;b=au(b))g++;for(b=0,_=w;_;_=au(_))b++;for(;0<g-b;)p=au(p),g--;for(;0<b-g;)w=au(w),b--;for(;g--;){if(p===w||w!==null&&p===w.alternate)break t;p=au(p),w=au(w)}p=null}else p=null;m!==null&&u2(f,h,m,p,!1),y!==null&&x!==null&&u2(f,x,y,p,!0)}}e:{if(h=u?Ou(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=uG;else if(n2(h))if(A5)j=mG;else{j=fG;var S=dG}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=hG);if(j&&(j=j(e,u))){E5(f,j,n,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&g_(h,"number",h.value)}switch(S=u?Ou(u):window,e){case"focusin":(n2(S)||S.contentEditable==="true")&&(Au=S,k_=u,qh=null);break;case"focusout":qh=k_=Au=null;break;case"mousedown":E_=!0;break;case"contextmenu":case"mouseup":case"dragend":E_=!1,o2(f,n,d);break;case"selectionchange":if(yG)break;case"keydown":case"keyup":o2(f,n,d)}var N;if(kC)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Eu?P5(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(C5&&n.locale!=="ko"&&(Eu||C!=="onCompositionStart"?C==="onCompositionEnd"&&Eu&&(N=N5()):(Io=d,NC="value"in Io?Io.value:Io.textContent,Eu=!0)),S=lv(u,C),0<S.length&&(C=new ZA(C,e,null,n,d),f.push({event:C,listeners:S}),N?C.data=N:(N=k5(n),N!==null&&(C.data=N)))),(N=aG?iG(e,n):oG(e,n))&&(u=lv(u,"onBeforeInput"),0<u.length&&(d=new ZA("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=N))}B5(f,t)})}function _m(e,t,n){return{instance:e,listener:t,currentTarget:n}}function lv(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=pm(e,n),a!=null&&r.unshift(_m(e,a,s)),a=pm(e,t),a!=null&&r.push(_m(e,a,s))),e=e.return}return r}function au(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function u2(e,t,n,r,s){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=pm(n,a),c!=null&&o.unshift(_m(n,c,l))):s||(c=pm(n,a),c!=null&&o.push(_m(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var wG=/\r\n?/g,_G=/\u0000|\uFFFD/g;function d2(e){return(typeof e=="string"?e:""+e).replace(wG,`
`).replace(_G,"")}function Bg(e,t,n){if(t=d2(t),d2(e)!==t&&n)throw Error(ue(425))}function cv(){}var A_=null,T_=null;function O_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var M_=typeof setTimeout=="function"?setTimeout:void 0,jG=typeof clearTimeout=="function"?clearTimeout:void 0,f2=typeof Promise=="function"?Promise:void 0,SG=typeof queueMicrotask=="function"?queueMicrotask:typeof f2<"u"?function(e){return f2.resolve(null).then(e).catch(NG)}:M_;function NG(e){setTimeout(function(){throw e})}function Cw(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),vm(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);vm(t)}function zo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function h2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var vf=Math.random().toString(36).slice(2),Fa="__reactFiber$"+vf,jm="__reactProps$"+vf,Ri="__reactContainer$"+vf,R_="__reactEvents$"+vf,CG="__reactListeners$"+vf,PG="__reactHandles$"+vf;function ql(e){var t=e[Fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ri]||n[Fa]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=h2(e);e!==null;){if(n=e[Fa])return n;e=h2(e)}return t}e=n,n=e.parentNode}return null}function Hp(e){return e=e[Fa]||e[Ri],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ou(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ue(33))}function p0(e){return e[jm]||null}var I_=[],Mu=-1;function fl(e){return{current:e}}function Wt(e){0>Mu||(e.current=I_[Mu],I_[Mu]=null,Mu--)}function Ft(e,t){Mu++,I_[Mu]=e.current,e.current=t}var nl={},_r=fl(nl),qr=fl(!1),jc=nl;function Nd(e,t){var n=e.type.contextTypes;if(!n)return nl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Kr(e){return e=e.childContextTypes,e!=null}function uv(){Wt(qr),Wt(_r)}function m2(e,t,n){if(_r.current!==nl)throw Error(ue(168));Ft(_r,t),Ft(qr,n)}function U5(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(ue(108,dK(e)||"Unknown",s));return rn({},n,r)}function dv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nl,jc=_r.current,Ft(_r,e),Ft(qr,qr.current),!0}function p2(e,t,n){var r=e.stateNode;if(!r)throw Error(ue(169));n?(e=U5(e,t,jc),r.__reactInternalMemoizedMergedChildContext=e,Wt(qr),Wt(_r),Ft(_r,e)):Wt(qr),Ft(qr,n)}var pi=null,g0=!1,Pw=!1;function z5(e){pi===null?pi=[e]:pi.push(e)}function kG(e){g0=!0,z5(e)}function hl(){if(!Pw&&pi!==null){Pw=!0;var e=0,t=Pt;try{var n=pi;for(Pt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}pi=null,g0=!1}catch(s){throw pi!==null&&(pi=pi.slice(e+1)),m5(wC,hl),s}finally{Pt=t,Pw=!1}}return null}var Ru=[],Iu=0,fv=null,hv=0,Ts=[],Os=0,Sc=null,wi=1,_i="";function Rl(e,t){Ru[Iu++]=hv,Ru[Iu++]=fv,fv=e,hv=t}function W5(e,t,n){Ts[Os++]=wi,Ts[Os++]=_i,Ts[Os++]=Sc,Sc=e;var r=wi;e=_i;var s=32-_a(r)-1;r&=~(1<<s),n+=1;var a=32-_a(t)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,wi=1<<32-_a(t)+s|n<<s|r,_i=a+e}else wi=1<<a|n<<s|r,_i=e}function AC(e){e.return!==null&&(Rl(e,1),W5(e,1,0))}function TC(e){for(;e===fv;)fv=Ru[--Iu],Ru[Iu]=null,hv=Ru[--Iu],Ru[Iu]=null;for(;e===Sc;)Sc=Ts[--Os],Ts[Os]=null,_i=Ts[--Os],Ts[Os]=null,wi=Ts[--Os],Ts[Os]=null}var hs=null,fs=null,Gt=!1,pa=null;function H5(e,t){var n=Ms(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function g2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,hs=e,fs=zo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,hs=e,fs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Sc!==null?{id:wi,overflow:_i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ms(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,hs=e,fs=null,!0):!1;default:return!1}}function $_(e){return(e.mode&1)!==0&&(e.flags&128)===0}function D_(e){if(Gt){var t=fs;if(t){var n=t;if(!g2(e,t)){if($_(e))throw Error(ue(418));t=zo(n.nextSibling);var r=hs;t&&g2(e,t)?H5(r,n):(e.flags=e.flags&-4097|2,Gt=!1,hs=e)}}else{if($_(e))throw Error(ue(418));e.flags=e.flags&-4097|2,Gt=!1,hs=e}}}function y2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hs=e}function Vg(e){if(e!==hs)return!1;if(!Gt)return y2(e),Gt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!O_(e.type,e.memoizedProps)),t&&(t=fs)){if($_(e))throw q5(),Error(ue(418));for(;t;)H5(e,t),t=zo(t.nextSibling)}if(y2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){fs=zo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}fs=null}}else fs=hs?zo(e.stateNode.nextSibling):null;return!0}function q5(){for(var e=fs;e;)e=zo(e.nextSibling)}function Cd(){fs=hs=null,Gt=!1}function OC(e){pa===null?pa=[e]:pa.push(e)}var EG=Gi.ReactCurrentBatchConfig;function oh(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ue(309));var r=n.stateNode}if(!r)throw Error(ue(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(ue(284));if(!n._owner)throw Error(ue(290,e))}return e}function Ug(e,t){throw e=Object.prototype.toString.call(t),Error(ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function v2(e){var t=e._init;return t(e._payload)}function K5(e){function t(w,g){if(e){var b=w.deletions;b===null?(w.deletions=[g],w.flags|=16):b.push(g)}}function n(w,g){if(!e)return null;for(;g!==null;)t(w,g),g=g.sibling;return null}function r(w,g){for(w=new Map;g!==null;)g.key!==null?w.set(g.key,g):w.set(g.index,g),g=g.sibling;return w}function s(w,g){return w=Ko(w,g),w.index=0,w.sibling=null,w}function a(w,g,b){return w.index=b,e?(b=w.alternate,b!==null?(b=b.index,b<g?(w.flags|=2,g):b):(w.flags|=2,g)):(w.flags|=1048576,g)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,g,b,_){return g===null||g.tag!==6?(g=Rw(b,w.mode,_),g.return=w,g):(g=s(g,b),g.return=w,g)}function c(w,g,b,_){var j=b.type;return j===ku?d(w,g,b.props.children,_,b.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===mo&&v2(j)===g.type)?(_=s(g,b.props),_.ref=oh(w,g,b),_.return=w,_):(_=Vy(b.type,b.key,b.props,null,w.mode,_),_.ref=oh(w,g,b),_.return=w,_)}function u(w,g,b,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Iw(b,w.mode,_),g.return=w,g):(g=s(g,b.children||[]),g.return=w,g)}function d(w,g,b,_,j){return g===null||g.tag!==7?(g=gc(b,w.mode,_,j),g.return=w,g):(g=s(g,b),g.return=w,g)}function f(w,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Rw(""+g,w.mode,b),g.return=w,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Tg:return b=Vy(g.type,g.key,g.props,null,w.mode,b),b.ref=oh(w,null,g),b.return=w,b;case Pu:return g=Iw(g,w.mode,b),g.return=w,g;case mo:var _=g._init;return f(w,_(g._payload),b)}if(Th(g)||nh(g))return g=gc(g,w.mode,b,null),g.return=w,g;Ug(w,g)}return null}function h(w,g,b,_){var j=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(w,g,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Tg:return b.key===j?c(w,g,b,_):null;case Pu:return b.key===j?u(w,g,b,_):null;case mo:return j=b._init,h(w,g,j(b._payload),_)}if(Th(b)||nh(b))return j!==null?null:d(w,g,b,_,null);Ug(w,b)}return null}function m(w,g,b,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return w=w.get(b)||null,l(g,w,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Tg:return w=w.get(_.key===null?b:_.key)||null,c(g,w,_,j);case Pu:return w=w.get(_.key===null?b:_.key)||null,u(g,w,_,j);case mo:var S=_._init;return m(w,g,b,S(_._payload),j)}if(Th(_)||nh(_))return w=w.get(b)||null,d(g,w,_,j,null);Ug(g,_)}return null}function y(w,g,b,_){for(var j=null,S=null,N=g,C=g=0,P=null;N!==null&&C<b.length;C++){N.index>C?(P=N,N=null):P=N.sibling;var k=h(w,N,b[C],_);if(k===null){N===null&&(N=P);break}e&&N&&k.alternate===null&&t(w,N),g=a(k,g,C),S===null?j=k:S.sibling=k,S=k,N=P}if(C===b.length)return n(w,N),Gt&&Rl(w,C),j;if(N===null){for(;C<b.length;C++)N=f(w,b[C],_),N!==null&&(g=a(N,g,C),S===null?j=N:S.sibling=N,S=N);return Gt&&Rl(w,C),j}for(N=r(w,N);C<b.length;C++)P=m(N,w,C,b[C],_),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?C:P.key),g=a(P,g,C),S===null?j=P:S.sibling=P,S=P);return e&&N.forEach(function(A){return t(w,A)}),Gt&&Rl(w,C),j}function p(w,g,b,_){var j=nh(b);if(typeof j!="function")throw Error(ue(150));if(b=j.call(b),b==null)throw Error(ue(151));for(var S=j=null,N=g,C=g=0,P=null,k=b.next();N!==null&&!k.done;C++,k=b.next()){N.index>C?(P=N,N=null):P=N.sibling;var A=h(w,N,k.value,_);if(A===null){N===null&&(N=P);break}e&&N&&A.alternate===null&&t(w,N),g=a(A,g,C),S===null?j=A:S.sibling=A,S=A,N=P}if(k.done)return n(w,N),Gt&&Rl(w,C),j;if(N===null){for(;!k.done;C++,k=b.next())k=f(w,k.value,_),k!==null&&(g=a(k,g,C),S===null?j=k:S.sibling=k,S=k);return Gt&&Rl(w,C),j}for(N=r(w,N);!k.done;C++,k=b.next())k=m(N,w,C,k.value,_),k!==null&&(e&&k.alternate!==null&&N.delete(k.key===null?C:k.key),g=a(k,g,C),S===null?j=k:S.sibling=k,S=k);return e&&N.forEach(function(E){return t(w,E)}),Gt&&Rl(w,C),j}function x(w,g,b,_){if(typeof b=="object"&&b!==null&&b.type===ku&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Tg:e:{for(var j=b.key,S=g;S!==null;){if(S.key===j){if(j=b.type,j===ku){if(S.tag===7){n(w,S.sibling),g=s(S,b.props.children),g.return=w,w=g;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===mo&&v2(j)===S.type){n(w,S.sibling),g=s(S,b.props),g.ref=oh(w,S,b),g.return=w,w=g;break e}n(w,S);break}else t(w,S);S=S.sibling}b.type===ku?(g=gc(b.props.children,w.mode,_,b.key),g.return=w,w=g):(_=Vy(b.type,b.key,b.props,null,w.mode,_),_.ref=oh(w,g,b),_.return=w,w=_)}return o(w);case Pu:e:{for(S=b.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){n(w,g.sibling),g=s(g,b.children||[]),g.return=w,w=g;break e}else{n(w,g);break}else t(w,g);g=g.sibling}g=Iw(b,w.mode,_),g.return=w,w=g}return o(w);case mo:return S=b._init,x(w,g,S(b._payload),_)}if(Th(b))return y(w,g,b,_);if(nh(b))return p(w,g,b,_);Ug(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(n(w,g.sibling),g=s(g,b),g.return=w,w=g):(n(w,g),g=Rw(b,w.mode,_),g.return=w,w=g),o(w)):n(w,g)}return x}var Pd=K5(!0),G5=K5(!1),mv=fl(null),pv=null,$u=null,MC=null;function RC(){MC=$u=pv=null}function IC(e){var t=mv.current;Wt(mv),e._currentValue=t}function L_(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ed(e,t){pv=e,MC=$u=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zr=!0),e.firstContext=null)}function Us(e){var t=e._currentValue;if(MC!==e)if(e={context:e,memoizedValue:t,next:null},$u===null){if(pv===null)throw Error(ue(308));$u=e,pv.dependencies={lanes:0,firstContext:e}}else $u=$u.next=e;return t}var Kl=null;function $C(e){Kl===null?Kl=[e]:Kl.push(e)}function Y5(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,$C(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ii(e,r)}function Ii(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var po=!1;function DC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ci(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,dt&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ii(e,n)}return s=r.interleaved,s===null?(t.next=t,$C(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ii(e,n)}function Iy(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_C(e,n)}}function x2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function gv(e,t,n,r){var s=e.updateQueue;po=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,d=u=c=null,l=a;do{var h=l.lane,m=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,p=l;switch(h=t,m=n,p.tag){case 1:if(y=p.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=p.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=rn({},f,h);break e;case 2:po=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Cc|=o,e.lanes=o,e.memoizedState=f}}function b2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ue(191,s));s.call(r)}}}var qp={},Ka=fl(qp),Sm=fl(qp),Nm=fl(qp);function Gl(e){if(e===qp)throw Error(ue(174));return e}function LC(e,t){switch(Ft(Nm,t),Ft(Sm,e),Ft(Ka,qp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:v_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=v_(t,e)}Wt(Ka),Ft(Ka,t)}function kd(){Wt(Ka),Wt(Sm),Wt(Nm)}function Q5(e){Gl(Nm.current);var t=Gl(Ka.current),n=v_(t,e.type);t!==n&&(Ft(Sm,e),Ft(Ka,n))}function FC(e){Sm.current===e&&(Wt(Ka),Wt(Sm))}var Jt=fl(0);function yv(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kw=[];function BC(){for(var e=0;e<kw.length;e++)kw[e]._workInProgressVersionPrimary=null;kw.length=0}var $y=Gi.ReactCurrentDispatcher,Ew=Gi.ReactCurrentBatchConfig,Nc=0,nn=null,Rn=null,Wn=null,vv=!1,Kh=!1,Cm=0,AG=0;function ur(){throw Error(ue(321))}function VC(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Na(e[n],t[n]))return!1;return!0}function UC(e,t,n,r,s,a){if(Nc=a,nn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$y.current=e===null||e.memoizedState===null?RG:IG,e=n(r,s),Kh){a=0;do{if(Kh=!1,Cm=0,25<=a)throw Error(ue(301));a+=1,Wn=Rn=null,t.updateQueue=null,$y.current=$G,e=n(r,s)}while(Kh)}if($y.current=xv,t=Rn!==null&&Rn.next!==null,Nc=0,Wn=Rn=nn=null,vv=!1,t)throw Error(ue(300));return e}function zC(){var e=Cm!==0;return Cm=0,e}function Ma(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?nn.memoizedState=Wn=e:Wn=Wn.next=e,Wn}function zs(){if(Rn===null){var e=nn.alternate;e=e!==null?e.memoizedState:null}else e=Rn.next;var t=Wn===null?nn.memoizedState:Wn.next;if(t!==null)Wn=t,Rn=e;else{if(e===null)throw Error(ue(310));Rn=e,e={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},Wn===null?nn.memoizedState=Wn=e:Wn=Wn.next=e}return Wn}function Pm(e,t){return typeof t=="function"?t(e):t}function Aw(e){var t=zs(),n=t.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=e;var r=Rn,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Nc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,nn.lanes|=d,Cc|=d}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=l,Na(r,t.memoizedState)||(zr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,nn.lanes|=a,Cc|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Tw(e){var t=zs(),n=t.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Na(a,t.memoizedState)||(zr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Z5(){}function J5(e,t){var n=nn,r=zs(),s=t(),a=!Na(r.memoizedState,s);if(a&&(r.memoizedState=s,zr=!0),r=r.queue,WC(nL.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Wn!==null&&Wn.memoizedState.tag&1){if(n.flags|=2048,km(9,tL.bind(null,n,r,s,t),void 0,null),Hn===null)throw Error(ue(349));Nc&30||eL(n,t,s)}return s}function eL(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=nn.updateQueue,t===null?(t={lastEffect:null,stores:null},nn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tL(e,t,n,r){t.value=n,t.getSnapshot=r,rL(t)&&sL(e)}function nL(e,t,n){return n(function(){rL(t)&&sL(e)})}function rL(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Na(e,n)}catch{return!0}}function sL(e){var t=Ii(e,1);t!==null&&ja(t,e,1,-1)}function w2(e){var t=Ma();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pm,lastRenderedState:e},t.queue=e,e=e.dispatch=MG.bind(null,nn,e),[t.memoizedState,e]}function km(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=nn.updateQueue,t===null?(t={lastEffect:null,stores:null},nn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function aL(){return zs().memoizedState}function Dy(e,t,n,r){var s=Ma();nn.flags|=e,s.memoizedState=km(1|t,n,void 0,r===void 0?null:r)}function y0(e,t,n,r){var s=zs();r=r===void 0?null:r;var a=void 0;if(Rn!==null){var o=Rn.memoizedState;if(a=o.destroy,r!==null&&VC(r,o.deps)){s.memoizedState=km(t,n,a,r);return}}nn.flags|=e,s.memoizedState=km(1|t,n,a,r)}function _2(e,t){return Dy(8390656,8,e,t)}function WC(e,t){return y0(2048,8,e,t)}function iL(e,t){return y0(4,2,e,t)}function oL(e,t){return y0(4,4,e,t)}function lL(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cL(e,t,n){return n=n!=null?n.concat([e]):null,y0(4,4,lL.bind(null,t,e),n)}function HC(){}function uL(e,t){var n=zs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&VC(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function dL(e,t){var n=zs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&VC(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fL(e,t,n){return Nc&21?(Na(n,t)||(n=y5(),nn.lanes|=n,Cc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zr=!0),e.memoizedState=n)}function TG(e,t){var n=Pt;Pt=n!==0&&4>n?n:4,e(!0);var r=Ew.transition;Ew.transition={};try{e(!1),t()}finally{Pt=n,Ew.transition=r}}function hL(){return zs().memoizedState}function OG(e,t,n){var r=qo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mL(e))pL(t,n);else if(n=Y5(e,t,n,r),n!==null){var s=Mr();ja(n,e,r,s),gL(n,t,r)}}function MG(e,t,n){var r=qo(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mL(e))pL(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(s.hasEagerState=!0,s.eagerState=l,Na(l,o)){var c=t.interleaved;c===null?(s.next=s,$C(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Y5(e,t,s,r),n!==null&&(s=Mr(),ja(n,e,r,s),gL(n,t,r))}}function mL(e){var t=e.alternate;return e===nn||t!==null&&t===nn}function pL(e,t){Kh=vv=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gL(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_C(e,n)}}var xv={readContext:Us,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useInsertionEffect:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useSyncExternalStore:ur,useId:ur,unstable_isNewReconciler:!1},RG={readContext:Us,useCallback:function(e,t){return Ma().memoizedState=[e,t===void 0?null:t],e},useContext:Us,useEffect:_2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Dy(4194308,4,lL.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Dy(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dy(4,2,e,t)},useMemo:function(e,t){var n=Ma();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ma();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=OG.bind(null,nn,e),[r.memoizedState,e]},useRef:function(e){var t=Ma();return e={current:e},t.memoizedState=e},useState:w2,useDebugValue:HC,useDeferredValue:function(e){return Ma().memoizedState=e},useTransition:function(){var e=w2(!1),t=e[0];return e=TG.bind(null,e[1]),Ma().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=nn,s=Ma();if(Gt){if(n===void 0)throw Error(ue(407));n=n()}else{if(n=t(),Hn===null)throw Error(ue(349));Nc&30||eL(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,_2(nL.bind(null,r,a,e),[e]),r.flags|=2048,km(9,tL.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ma(),t=Hn.identifierPrefix;if(Gt){var n=_i,r=wi;n=(r&~(1<<32-_a(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Cm++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=AG++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},IG={readContext:Us,useCallback:uL,useContext:Us,useEffect:WC,useImperativeHandle:cL,useInsertionEffect:iL,useLayoutEffect:oL,useMemo:dL,useReducer:Aw,useRef:aL,useState:function(){return Aw(Pm)},useDebugValue:HC,useDeferredValue:function(e){var t=zs();return fL(t,Rn.memoizedState,e)},useTransition:function(){var e=Aw(Pm)[0],t=zs().memoizedState;return[e,t]},useMutableSource:Z5,useSyncExternalStore:J5,useId:hL,unstable_isNewReconciler:!1},$G={readContext:Us,useCallback:uL,useContext:Us,useEffect:WC,useImperativeHandle:cL,useInsertionEffect:iL,useLayoutEffect:oL,useMemo:dL,useReducer:Tw,useRef:aL,useState:function(){return Tw(Pm)},useDebugValue:HC,useDeferredValue:function(e){var t=zs();return Rn===null?t.memoizedState=e:fL(t,Rn.memoizedState,e)},useTransition:function(){var e=Tw(Pm)[0],t=zs().memoizedState;return[e,t]},useMutableSource:Z5,useSyncExternalStore:J5,useId:hL,unstable_isNewReconciler:!1};function oa(e,t){if(e&&e.defaultProps){t=rn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function F_(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:rn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var v0={isMounted:function(e){return(e=e._reactInternals)?zc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Mr(),s=qo(e),a=Ci(r,s);a.payload=t,n!=null&&(a.callback=n),t=Wo(e,a,s),t!==null&&(ja(t,e,s,r),Iy(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Mr(),s=qo(e),a=Ci(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Wo(e,a,s),t!==null&&(ja(t,e,s,r),Iy(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mr(),r=qo(e),s=Ci(n,r);s.tag=2,t!=null&&(s.callback=t),t=Wo(e,s,r),t!==null&&(ja(t,e,r,n),Iy(t,e,r))}};function j2(e,t,n,r,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!bm(n,r)||!bm(s,a):!0}function yL(e,t,n){var r=!1,s=nl,a=t.contextType;return typeof a=="object"&&a!==null?a=Us(a):(s=Kr(t)?jc:_r.current,r=t.contextTypes,a=(r=r!=null)?Nd(e,s):nl),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=v0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function S2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&v0.enqueueReplaceState(t,t.state,null)}function B_(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},DC(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Us(a):(a=Kr(t)?jc:_r.current,s.context=Nd(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(F_(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&v0.enqueueReplaceState(s,s.state,null),gv(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ed(e,t){try{var n="",r=t;do n+=uK(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Ow(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function V_(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var DG=typeof WeakMap=="function"?WeakMap:Map;function vL(e,t,n){n=Ci(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){wv||(wv=!0,Q_=r),V_(e,t)},n}function xL(e,t,n){n=Ci(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){V_(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){V_(e,t),typeof r!="function"&&(Ho===null?Ho=new Set([this]):Ho.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function N2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new DG;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=QG.bind(null,e,t,n),t.then(e,e))}function C2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function P2(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ci(-1,1),t.tag=2,Wo(n,t,1))),n.lanes|=1),e)}var LG=Gi.ReactCurrentOwner,zr=!1;function Pr(e,t,n,r){t.child=e===null?G5(t,null,n,r):Pd(t,e.child,n,r)}function k2(e,t,n,r,s){n=n.render;var a=t.ref;return ed(t,s),r=UC(e,t,n,r,a,s),n=zC(),e!==null&&!zr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$i(e,t,s)):(Gt&&n&&AC(t),t.flags|=1,Pr(e,t,r,s),t.child)}function E2(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!JC(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,bL(e,t,a,r,s)):(e=Vy(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:bm,n(o,r)&&e.ref===t.ref)return $i(e,t,s)}return t.flags|=1,e=Ko(a,r),e.ref=t.ref,e.return=t,t.child=e}function bL(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(bm(a,r)&&e.ref===t.ref)if(zr=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(zr=!0);else return t.lanes=e.lanes,$i(e,t,s)}return U_(e,t,n,r,s)}function wL(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ft(Lu,is),is|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ft(Lu,is),is|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ft(Lu,is),is|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ft(Lu,is),is|=r;return Pr(e,t,s,n),t.child}function _L(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function U_(e,t,n,r,s){var a=Kr(n)?jc:_r.current;return a=Nd(t,a),ed(t,s),n=UC(e,t,n,r,a,s),r=zC(),e!==null&&!zr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$i(e,t,s)):(Gt&&r&&AC(t),t.flags|=1,Pr(e,t,n,s),t.child)}function A2(e,t,n,r,s){if(Kr(n)){var a=!0;dv(t)}else a=!1;if(ed(t,s),t.stateNode===null)Ly(e,t),yL(t,n,r),B_(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Us(u):(u=Kr(n)?jc:_r.current,u=Nd(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&S2(t,o,r,u),po=!1;var h=t.memoizedState;o.state=h,gv(t,r,o,s),c=t.memoizedState,l!==r||h!==c||qr.current||po?(typeof d=="function"&&(F_(t,n,d,r),c=t.memoizedState),(l=po||j2(t,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,X5(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:oa(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Us(c):(c=Kr(n)?jc:_r.current,c=Nd(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&S2(t,o,r,c),po=!1,h=t.memoizedState,o.state=h,gv(t,r,o,s);var y=t.memoizedState;l!==f||h!==y||qr.current||po?(typeof m=="function"&&(F_(t,n,m,r),y=t.memoizedState),(u=po||j2(t,n,u,r,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return z_(e,t,n,r,a,s)}function z_(e,t,n,r,s,a){_L(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&p2(t,n,!1),$i(e,t,a);r=t.stateNode,LG.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Pd(t,e.child,null,a),t.child=Pd(t,null,l,a)):Pr(e,t,l,a),t.memoizedState=r.state,s&&p2(t,n,!0),t.child}function jL(e){var t=e.stateNode;t.pendingContext?m2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&m2(e,t.context,!1),LC(e,t.containerInfo)}function T2(e,t,n,r,s){return Cd(),OC(s),t.flags|=256,Pr(e,t,n,r),t.child}var W_={dehydrated:null,treeContext:null,retryLane:0};function H_(e){return{baseLanes:e,cachePool:null,transitions:null}}function SL(e,t,n){var r=t.pendingProps,s=Jt.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ft(Jt,s&1),e===null)return D_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=w0(o,r,0,null),e=gc(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=H_(n),t.memoizedState=W_,e):qC(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return FG(e,t,o,r,l,s,n);if(a){a=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ko(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Ko(l,a):(a=gc(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?H_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=W_,r}return a=e.child,e=a.sibling,r=Ko(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function qC(e,t){return t=w0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zg(e,t,n,r){return r!==null&&OC(r),Pd(t,e.child,null,n),e=qC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function FG(e,t,n,r,s,a,o){if(n)return t.flags&256?(t.flags&=-257,r=Ow(Error(ue(422))),zg(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=w0({mode:"visible",children:r.children},s,0,null),a=gc(a,s,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Pd(t,e.child,null,o),t.child.memoizedState=H_(o),t.memoizedState=W_,a);if(!(t.mode&1))return zg(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(ue(419)),r=Ow(a,r,void 0),zg(e,t,o,r)}if(l=(o&e.childLanes)!==0,zr||l){if(r=Hn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Ii(e,s),ja(r,e,s,-1))}return ZC(),r=Ow(Error(ue(421))),zg(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ZG.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,fs=zo(s.nextSibling),hs=t,Gt=!0,pa=null,e!==null&&(Ts[Os++]=wi,Ts[Os++]=_i,Ts[Os++]=Sc,wi=e.id,_i=e.overflow,Sc=t),t=qC(t,r.children),t.flags|=4096,t)}function O2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),L_(e.return,t,n)}function Mw(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function NL(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(Pr(e,t,r.children,n),r=Jt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&O2(e,n,t);else if(e.tag===19)O2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ft(Jt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&yv(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Mw(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&yv(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Mw(t,!0,n,null,a);break;case"together":Mw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ly(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $i(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Cc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ue(153));if(t.child!==null){for(e=t.child,n=Ko(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ko(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function BG(e,t,n){switch(t.tag){case 3:jL(t),Cd();break;case 5:Q5(t);break;case 1:Kr(t.type)&&dv(t);break;case 4:LC(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ft(mv,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ft(Jt,Jt.current&1),t.flags|=128,null):n&t.child.childLanes?SL(e,t,n):(Ft(Jt,Jt.current&1),e=$i(e,t,n),e!==null?e.sibling:null);Ft(Jt,Jt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return NL(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ft(Jt,Jt.current),r)break;return null;case 22:case 23:return t.lanes=0,wL(e,t,n)}return $i(e,t,n)}var CL,q_,PL,kL;CL=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};q_=function(){};PL=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Gl(Ka.current);var a=null;switch(n){case"input":s=m_(e,s),r=m_(e,r),a=[];break;case"select":s=rn({},s,{value:void 0}),r=rn({},r,{value:void 0}),a=[];break;case"textarea":s=y_(e,s),r=y_(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=cv)}x_(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hm.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Vt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};kL=function(e,t,n,r){n!==r&&(t.flags|=4)};function lh(e,t){if(!Gt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function dr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function VG(e,t,n){var r=t.pendingProps;switch(TC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dr(t),null;case 1:return Kr(t.type)&&uv(),dr(t),null;case 3:return r=t.stateNode,kd(),Wt(qr),Wt(_r),BC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Vg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pa!==null&&(ej(pa),pa=null))),q_(e,t),dr(t),null;case 5:FC(t);var s=Gl(Nm.current);if(n=t.type,e!==null&&t.stateNode!=null)PL(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ue(166));return dr(t),null}if(e=Gl(Ka.current),Vg(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Fa]=t,r[jm]=a,e=(t.mode&1)!==0,n){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(s=0;s<Mh.length;s++)Vt(Mh[s],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":VA(r,a),Vt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Vt("invalid",r);break;case"textarea":zA(r,a),Vt("invalid",r)}x_(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Bg(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Bg(r.textContent,l,e),s=["children",""+l]):hm.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Vt("scroll",r)}switch(n){case"input":Og(r),UA(r,a,!0);break;case"textarea":Og(r),WA(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=cv)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=n5(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Fa]=t,e[jm]=r,CL(e,t,!1,!1),t.stateNode=e;e:{switch(o=b_(n,r),n){case"dialog":Vt("cancel",e),Vt("close",e),s=r;break;case"iframe":case"object":case"embed":Vt("load",e),s=r;break;case"video":case"audio":for(s=0;s<Mh.length;s++)Vt(Mh[s],e);s=r;break;case"source":Vt("error",e),s=r;break;case"img":case"image":case"link":Vt("error",e),Vt("load",e),s=r;break;case"details":Vt("toggle",e),s=r;break;case"input":VA(e,r),s=m_(e,r),Vt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=rn({},r,{value:void 0}),Vt("invalid",e);break;case"textarea":zA(e,r),s=y_(e,r),Vt("invalid",e);break;default:s=r}x_(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?a5(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&r5(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&mm(e,c):typeof c=="number"&&mm(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(hm.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Vt("scroll",e):c!=null&&gC(e,a,c,o))}switch(n){case"input":Og(e),UA(e,r,!1);break;case"textarea":Og(e),WA(e);break;case"option":r.value!=null&&e.setAttribute("value",""+tl(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Xu(e,!!r.multiple,a,!1):r.defaultValue!=null&&Xu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=cv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return dr(t),null;case 6:if(e&&t.stateNode!=null)kL(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ue(166));if(n=Gl(Nm.current),Gl(Ka.current),Vg(t)){if(r=t.stateNode,n=t.memoizedProps,r[Fa]=t,(a=r.nodeValue!==n)&&(e=hs,e!==null))switch(e.tag){case 3:Bg(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bg(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fa]=t,t.stateNode=r}return dr(t),null;case 13:if(Wt(Jt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Gt&&fs!==null&&t.mode&1&&!(t.flags&128))q5(),Cd(),t.flags|=98560,a=!1;else if(a=Vg(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ue(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ue(317));a[Fa]=t}else Cd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;dr(t),a=!1}else pa!==null&&(ej(pa),pa=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Jt.current&1?Dn===0&&(Dn=3):ZC())),t.updateQueue!==null&&(t.flags|=4),dr(t),null);case 4:return kd(),q_(e,t),e===null&&wm(t.stateNode.containerInfo),dr(t),null;case 10:return IC(t.type._context),dr(t),null;case 17:return Kr(t.type)&&uv(),dr(t),null;case 19:if(Wt(Jt),a=t.memoizedState,a===null)return dr(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)lh(a,!1);else{if(Dn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=yv(e),o!==null){for(t.flags|=128,lh(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ft(Jt,Jt.current&1|2),t.child}e=e.sibling}a.tail!==null&&pn()>Ad&&(t.flags|=128,r=!0,lh(a,!1),t.lanes=4194304)}else{if(!r)if(e=yv(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),lh(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Gt)return dr(t),null}else 2*pn()-a.renderingStartTime>Ad&&n!==1073741824&&(t.flags|=128,r=!0,lh(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=pn(),t.sibling=null,n=Jt.current,Ft(Jt,r?n&1|2:n&1),t):(dr(t),null);case 22:case 23:return QC(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?is&1073741824&&(dr(t),t.subtreeFlags&6&&(t.flags|=8192)):dr(t),null;case 24:return null;case 25:return null}throw Error(ue(156,t.tag))}function UG(e,t){switch(TC(t),t.tag){case 1:return Kr(t.type)&&uv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kd(),Wt(qr),Wt(_r),BC(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return FC(t),null;case 13:if(Wt(Jt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ue(340));Cd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Wt(Jt),null;case 4:return kd(),null;case 10:return IC(t.type._context),null;case 22:case 23:return QC(),null;case 24:return null;default:return null}}var Wg=!1,pr=!1,zG=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Du(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){cn(e,t,r)}else n.current=null}function K_(e,t,n){try{n()}catch(r){cn(e,t,r)}}var M2=!1;function WG(e,t){if(A_=iv,e=M5(),EC(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==a||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=o),h===a&&++d===r&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(T_={focusedElem:e,selectionRange:n},iv=!1,Ce=t;Ce!==null;)if(t=Ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ce=e;else for(;Ce!==null;){t=Ce;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var p=y.memoizedProps,x=y.memoizedState,w=t.stateNode,g=w.getSnapshotBeforeUpdate(t.elementType===t.type?p:oa(t.type,p),x);w.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(_){cn(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Ce=e;break}Ce=t.return}return y=M2,M2=!1,y}function Gh(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&K_(t,n,a)}s=s.next}while(s!==r)}}function x0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function G_(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function EL(e){var t=e.alternate;t!==null&&(e.alternate=null,EL(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fa],delete t[jm],delete t[R_],delete t[CG],delete t[PG])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function AL(e){return e.tag===5||e.tag===3||e.tag===4}function R2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||AL(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Y_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=cv));else if(r!==4&&(e=e.child,e!==null))for(Y_(e,t,n),e=e.sibling;e!==null;)Y_(e,t,n),e=e.sibling}function X_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(X_(e,t,n),e=e.sibling;e!==null;)X_(e,t,n),e=e.sibling}var tr=null,da=!1;function so(e,t,n){for(n=n.child;n!==null;)TL(e,t,n),n=n.sibling}function TL(e,t,n){if(qa&&typeof qa.onCommitFiberUnmount=="function")try{qa.onCommitFiberUnmount(d0,n)}catch{}switch(n.tag){case 5:pr||Du(n,t);case 6:var r=tr,s=da;tr=null,so(e,t,n),tr=r,da=s,tr!==null&&(da?(e=tr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):tr.removeChild(n.stateNode));break;case 18:tr!==null&&(da?(e=tr,n=n.stateNode,e.nodeType===8?Cw(e.parentNode,n):e.nodeType===1&&Cw(e,n),vm(e)):Cw(tr,n.stateNode));break;case 4:r=tr,s=da,tr=n.stateNode.containerInfo,da=!0,so(e,t,n),tr=r,da=s;break;case 0:case 11:case 14:case 15:if(!pr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&K_(n,t,o),s=s.next}while(s!==r)}so(e,t,n);break;case 1:if(!pr&&(Du(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){cn(n,t,l)}so(e,t,n);break;case 21:so(e,t,n);break;case 22:n.mode&1?(pr=(r=pr)||n.memoizedState!==null,so(e,t,n),pr=r):so(e,t,n);break;default:so(e,t,n)}}function I2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new zG),t.forEach(function(r){var s=JG.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Js(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:tr=l.stateNode,da=!1;break e;case 3:tr=l.stateNode.containerInfo,da=!0;break e;case 4:tr=l.stateNode.containerInfo,da=!0;break e}l=l.return}if(tr===null)throw Error(ue(160));TL(a,o,s),tr=null,da=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){cn(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)OL(t,e),t=t.sibling}function OL(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Js(t,e),Oa(e),r&4){try{Gh(3,e,e.return),x0(3,e)}catch(p){cn(e,e.return,p)}try{Gh(5,e,e.return)}catch(p){cn(e,e.return,p)}}break;case 1:Js(t,e),Oa(e),r&512&&n!==null&&Du(n,n.return);break;case 5:if(Js(t,e),Oa(e),r&512&&n!==null&&Du(n,n.return),e.flags&32){var s=e.stateNode;try{mm(s,"")}catch(p){cn(e,e.return,p)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&e5(s,a),b_(l,o);var u=b_(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?a5(s,f):d==="dangerouslySetInnerHTML"?r5(s,f):d==="children"?mm(s,f):gC(s,d,f,u)}switch(l){case"input":p_(s,a);break;case"textarea":t5(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Xu(s,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?Xu(s,!!a.multiple,a.defaultValue,!0):Xu(s,!!a.multiple,a.multiple?[]:"",!1))}s[jm]=a}catch(p){cn(e,e.return,p)}}break;case 6:if(Js(t,e),Oa(e),r&4){if(e.stateNode===null)throw Error(ue(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(p){cn(e,e.return,p)}}break;case 3:if(Js(t,e),Oa(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vm(t.containerInfo)}catch(p){cn(e,e.return,p)}break;case 4:Js(t,e),Oa(e);break;case 13:Js(t,e),Oa(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(YC=pn())),r&4&&I2(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(pr=(u=pr)||d,Js(t,e),pr=u):Js(t,e),Oa(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ce=e,d=e.child;d!==null;){for(f=Ce=d;Ce!==null;){switch(h=Ce,m=h.child,h.tag){case 0:case 11:case 14:case 15:Gh(4,h,h.return);break;case 1:Du(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(p){cn(r,n,p)}}break;case 5:Du(h,h.return);break;case 22:if(h.memoizedState!==null){D2(f);continue}}m!==null?(m.return=h,Ce=m):D2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=s5("display",o))}catch(p){cn(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){cn(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Js(t,e),Oa(e),r&4&&I2(e);break;case 21:break;default:Js(t,e),Oa(e)}}function Oa(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(AL(n)){var r=n;break e}n=n.return}throw Error(ue(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(mm(s,""),r.flags&=-33);var a=R2(e);X_(e,a,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=R2(e);Y_(e,l,o);break;default:throw Error(ue(161))}}catch(c){cn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function HG(e,t,n){Ce=e,ML(e)}function ML(e,t,n){for(var r=(e.mode&1)!==0;Ce!==null;){var s=Ce,a=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Wg;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||pr;l=Wg;var u=pr;if(Wg=o,(pr=c)&&!u)for(Ce=s;Ce!==null;)o=Ce,c=o.child,o.tag===22&&o.memoizedState!==null?L2(s):c!==null?(c.return=o,Ce=c):L2(s);for(;a!==null;)Ce=a,ML(a),a=a.sibling;Ce=s,Wg=l,pr=u}$2(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Ce=a):$2(e)}}function $2(e){for(;Ce!==null;){var t=Ce;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pr||x0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pr)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:oa(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&b2(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}b2(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&vm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}pr||t.flags&512&&G_(t)}catch(h){cn(t,t.return,h)}}if(t===e){Ce=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ce=n;break}Ce=t.return}}function D2(e){for(;Ce!==null;){var t=Ce;if(t===e){Ce=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ce=n;break}Ce=t.return}}function L2(e){for(;Ce!==null;){var t=Ce;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{x0(4,t)}catch(c){cn(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){cn(t,s,c)}}var a=t.return;try{G_(t)}catch(c){cn(t,a,c)}break;case 5:var o=t.return;try{G_(t)}catch(c){cn(t,o,c)}}}catch(c){cn(t,t.return,c)}if(t===e){Ce=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ce=l;break}Ce=t.return}}var qG=Math.ceil,bv=Gi.ReactCurrentDispatcher,KC=Gi.ReactCurrentOwner,$s=Gi.ReactCurrentBatchConfig,dt=0,Hn=null,kn=null,lr=0,is=0,Lu=fl(0),Dn=0,Em=null,Cc=0,b0=0,GC=0,Yh=null,Ur=null,YC=0,Ad=1/0,hi=null,wv=!1,Q_=null,Ho=null,Hg=!1,$o=null,_v=0,Xh=0,Z_=null,Fy=-1,By=0;function Mr(){return dt&6?pn():Fy!==-1?Fy:Fy=pn()}function qo(e){return e.mode&1?dt&2&&lr!==0?lr&-lr:EG.transition!==null?(By===0&&(By=y5()),By):(e=Pt,e!==0||(e=window.event,e=e===void 0?16:S5(e.type)),e):1}function ja(e,t,n,r){if(50<Xh)throw Xh=0,Z_=null,Error(ue(185));zp(e,n,r),(!(dt&2)||e!==Hn)&&(e===Hn&&(!(dt&2)&&(b0|=n),Dn===4&&wo(e,lr)),Gr(e,r),n===1&&dt===0&&!(t.mode&1)&&(Ad=pn()+500,g0&&hl()))}function Gr(e,t){var n=e.callbackNode;EK(e,t);var r=av(e,e===Hn?lr:0);if(r===0)n!==null&&KA(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&KA(n),t===1)e.tag===0?kG(F2.bind(null,e)):z5(F2.bind(null,e)),SG(function(){!(dt&6)&&hl()}),n=null;else{switch(v5(r)){case 1:n=wC;break;case 4:n=p5;break;case 16:n=sv;break;case 536870912:n=g5;break;default:n=sv}n=VL(n,RL.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function RL(e,t){if(Fy=-1,By=0,dt&6)throw Error(ue(327));var n=e.callbackNode;if(td()&&e.callbackNode!==n)return null;var r=av(e,e===Hn?lr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=jv(e,r);else{t=r;var s=dt;dt|=2;var a=$L();(Hn!==e||lr!==t)&&(hi=null,Ad=pn()+500,pc(e,t));do try{YG();break}catch(l){IL(e,l)}while(!0);RC(),bv.current=a,dt=s,kn!==null?t=0:(Hn=null,lr=0,t=Dn)}if(t!==0){if(t===2&&(s=N_(e),s!==0&&(r=s,t=J_(e,s))),t===1)throw n=Em,pc(e,0),wo(e,r),Gr(e,pn()),n;if(t===6)wo(e,r);else{if(s=e.current.alternate,!(r&30)&&!KG(s)&&(t=jv(e,r),t===2&&(a=N_(e),a!==0&&(r=a,t=J_(e,a))),t===1))throw n=Em,pc(e,0),wo(e,r),Gr(e,pn()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(ue(345));case 2:Il(e,Ur,hi);break;case 3:if(wo(e,r),(r&130023424)===r&&(t=YC+500-pn(),10<t)){if(av(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Mr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=M_(Il.bind(null,e,Ur,hi),t);break}Il(e,Ur,hi);break;case 4:if(wo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-_a(r);a=1<<o,o=t[o],o>s&&(s=o),r&=~a}if(r=s,r=pn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qG(r/1960))-r,10<r){e.timeoutHandle=M_(Il.bind(null,e,Ur,hi),r);break}Il(e,Ur,hi);break;case 5:Il(e,Ur,hi);break;default:throw Error(ue(329))}}}return Gr(e,pn()),e.callbackNode===n?RL.bind(null,e):null}function J_(e,t){var n=Yh;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),e=jv(e,t),e!==2&&(t=Ur,Ur=n,t!==null&&ej(t)),e}function ej(e){Ur===null?Ur=e:Ur.push.apply(Ur,e)}function KG(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Na(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wo(e,t){for(t&=~GC,t&=~b0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_a(t),r=1<<n;e[n]=-1,t&=~r}}function F2(e){if(dt&6)throw Error(ue(327));td();var t=av(e,0);if(!(t&1))return Gr(e,pn()),null;var n=jv(e,t);if(e.tag!==0&&n===2){var r=N_(e);r!==0&&(t=r,n=J_(e,r))}if(n===1)throw n=Em,pc(e,0),wo(e,t),Gr(e,pn()),n;if(n===6)throw Error(ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Il(e,Ur,hi),Gr(e,pn()),null}function XC(e,t){var n=dt;dt|=1;try{return e(t)}finally{dt=n,dt===0&&(Ad=pn()+500,g0&&hl())}}function Pc(e){$o!==null&&$o.tag===0&&!(dt&6)&&td();var t=dt;dt|=1;var n=$s.transition,r=Pt;try{if($s.transition=null,Pt=1,e)return e()}finally{Pt=r,$s.transition=n,dt=t,!(dt&6)&&hl()}}function QC(){is=Lu.current,Wt(Lu)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jG(n)),kn!==null)for(n=kn.return;n!==null;){var r=n;switch(TC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uv();break;case 3:kd(),Wt(qr),Wt(_r),BC();break;case 5:FC(r);break;case 4:kd();break;case 13:Wt(Jt);break;case 19:Wt(Jt);break;case 10:IC(r.type._context);break;case 22:case 23:QC()}n=n.return}if(Hn=e,kn=e=Ko(e.current,null),lr=is=t,Dn=0,Em=null,GC=b0=Cc=0,Ur=Yh=null,Kl!==null){for(t=0;t<Kl.length;t++)if(n=Kl[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,r.next=o}n.pending=r}Kl=null}return e}function IL(e,t){do{var n=kn;try{if(RC(),$y.current=xv,vv){for(var r=nn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}vv=!1}if(Nc=0,Wn=Rn=nn=null,Kh=!1,Cm=0,KC.current=null,n===null||n.return===null){Dn=1,Em=t,kn=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=lr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=C2(o);if(m!==null){m.flags&=-257,P2(m,o,l,a,t),m.mode&1&&N2(a,u,t),t=m,c=u;var y=t.updateQueue;if(y===null){var p=new Set;p.add(c),t.updateQueue=p}else y.add(c);break e}else{if(!(t&1)){N2(a,u,t),ZC();break e}c=Error(ue(426))}}else if(Gt&&l.mode&1){var x=C2(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),P2(x,o,l,a,t),OC(Ed(c,l));break e}}a=c=Ed(c,l),Dn!==4&&(Dn=2),Yh===null?Yh=[a]:Yh.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var w=vL(a,c,t);x2(a,w);break e;case 1:l=c;var g=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ho===null||!Ho.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=xL(a,l,t);x2(a,_);break e}}a=a.return}while(a!==null)}LL(n)}catch(j){t=j,kn===n&&n!==null&&(kn=n=n.return);continue}break}while(!0)}function $L(){var e=bv.current;return bv.current=xv,e===null?xv:e}function ZC(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),Hn===null||!(Cc&268435455)&&!(b0&268435455)||wo(Hn,lr)}function jv(e,t){var n=dt;dt|=2;var r=$L();(Hn!==e||lr!==t)&&(hi=null,pc(e,t));do try{GG();break}catch(s){IL(e,s)}while(!0);if(RC(),dt=n,bv.current=r,kn!==null)throw Error(ue(261));return Hn=null,lr=0,Dn}function GG(){for(;kn!==null;)DL(kn)}function YG(){for(;kn!==null&&!bK();)DL(kn)}function DL(e){var t=BL(e.alternate,e,is);e.memoizedProps=e.pendingProps,t===null?LL(e):kn=t,KC.current=null}function LL(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=UG(n,t),n!==null){n.flags&=32767,kn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dn=6,kn=null;return}}else if(n=VG(n,t,is),n!==null){kn=n;return}if(t=t.sibling,t!==null){kn=t;return}kn=t=e}while(t!==null);Dn===0&&(Dn=5)}function Il(e,t,n){var r=Pt,s=$s.transition;try{$s.transition=null,Pt=1,XG(e,t,n,r)}finally{$s.transition=s,Pt=r}return null}function XG(e,t,n,r){do td();while($o!==null);if(dt&6)throw Error(ue(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ue(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(AK(e,a),e===Hn&&(kn=Hn=null,lr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hg||(Hg=!0,VL(sv,function(){return td(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=$s.transition,$s.transition=null;var o=Pt;Pt=1;var l=dt;dt|=4,KC.current=null,WG(e,n),OL(n,e),gG(T_),iv=!!A_,T_=A_=null,e.current=n,HG(n),wK(),dt=l,Pt=o,$s.transition=a}else e.current=n;if(Hg&&(Hg=!1,$o=e,_v=s),a=e.pendingLanes,a===0&&(Ho=null),SK(n.stateNode),Gr(e,pn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(wv)throw wv=!1,e=Q_,Q_=null,e;return _v&1&&e.tag!==0&&td(),a=e.pendingLanes,a&1?e===Z_?Xh++:(Xh=0,Z_=e):Xh=0,hl(),null}function td(){if($o!==null){var e=v5(_v),t=$s.transition,n=Pt;try{if($s.transition=null,Pt=16>e?16:e,$o===null)var r=!1;else{if(e=$o,$o=null,_v=0,dt&6)throw Error(ue(331));var s=dt;for(dt|=4,Ce=e.current;Ce!==null;){var a=Ce,o=a.child;if(Ce.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ce=u;Ce!==null;){var d=Ce;switch(d.tag){case 0:case 11:case 15:Gh(8,d,a)}var f=d.child;if(f!==null)f.return=d,Ce=f;else for(;Ce!==null;){d=Ce;var h=d.sibling,m=d.return;if(EL(d),d===u){Ce=null;break}if(h!==null){h.return=m,Ce=h;break}Ce=m}}}var y=a.alternate;if(y!==null){var p=y.child;if(p!==null){y.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}Ce=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ce=o;else e:for(;Ce!==null;){if(a=Ce,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Gh(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,Ce=w;break e}Ce=a.return}}var g=e.current;for(Ce=g;Ce!==null;){o=Ce;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Ce=b;else e:for(o=g;Ce!==null;){if(l=Ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:x0(9,l)}}catch(j){cn(l,l.return,j)}if(l===o){Ce=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Ce=_;break e}Ce=l.return}}if(dt=s,hl(),qa&&typeof qa.onPostCommitFiberRoot=="function")try{qa.onPostCommitFiberRoot(d0,e)}catch{}r=!0}return r}finally{Pt=n,$s.transition=t}}return!1}function B2(e,t,n){t=Ed(n,t),t=vL(e,t,1),e=Wo(e,t,1),t=Mr(),e!==null&&(zp(e,1,t),Gr(e,t))}function cn(e,t,n){if(e.tag===3)B2(e,e,n);else for(;t!==null;){if(t.tag===3){B2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ho===null||!Ho.has(r))){e=Ed(n,e),e=xL(t,e,1),t=Wo(t,e,1),e=Mr(),t!==null&&(zp(t,1,e),Gr(t,e));break}}t=t.return}}function QG(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Mr(),e.pingedLanes|=e.suspendedLanes&n,Hn===e&&(lr&n)===n&&(Dn===4||Dn===3&&(lr&130023424)===lr&&500>pn()-YC?pc(e,0):GC|=n),Gr(e,t)}function FL(e,t){t===0&&(e.mode&1?(t=Ig,Ig<<=1,!(Ig&130023424)&&(Ig=4194304)):t=1);var n=Mr();e=Ii(e,t),e!==null&&(zp(e,t,n),Gr(e,n))}function ZG(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),FL(e,n)}function JG(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ue(314))}r!==null&&r.delete(t),FL(e,n)}var BL;BL=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qr.current)zr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return zr=!1,BG(e,t,n);zr=!!(e.flags&131072)}else zr=!1,Gt&&t.flags&1048576&&W5(t,hv,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ly(e,t),e=t.pendingProps;var s=Nd(t,_r.current);ed(t,n),s=UC(null,t,r,e,s,n);var a=zC();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kr(r)?(a=!0,dv(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,DC(t),s.updater=v0,t.stateNode=s,s._reactInternals=t,B_(t,r,e,n),t=z_(null,t,r,!0,a,n)):(t.tag=0,Gt&&a&&AC(t),Pr(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ly(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=tY(r),e=oa(r,e),s){case 0:t=U_(null,t,r,e,n);break e;case 1:t=A2(null,t,r,e,n);break e;case 11:t=k2(null,t,r,e,n);break e;case 14:t=E2(null,t,r,oa(r.type,e),n);break e}throw Error(ue(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:oa(r,s),U_(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:oa(r,s),A2(e,t,r,s,n);case 3:e:{if(jL(t),e===null)throw Error(ue(387));r=t.pendingProps,a=t.memoizedState,s=a.element,X5(e,t),gv(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Ed(Error(ue(423)),t),t=T2(e,t,r,n,s);break e}else if(r!==s){s=Ed(Error(ue(424)),t),t=T2(e,t,r,n,s);break e}else for(fs=zo(t.stateNode.containerInfo.firstChild),hs=t,Gt=!0,pa=null,n=G5(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cd(),r===s){t=$i(e,t,n);break e}Pr(e,t,r,n)}t=t.child}return t;case 5:return Q5(t),e===null&&D_(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,O_(r,s)?o=null:a!==null&&O_(r,a)&&(t.flags|=32),_L(e,t),Pr(e,t,o,n),t.child;case 6:return e===null&&D_(t),null;case 13:return SL(e,t,n);case 4:return LC(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Pd(t,null,r,n):Pr(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:oa(r,s),k2(e,t,r,s,n);case 7:return Pr(e,t,t.pendingProps,n),t.child;case 8:return Pr(e,t,t.pendingProps.children,n),t.child;case 12:return Pr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Ft(mv,r._currentValue),r._currentValue=o,a!==null)if(Na(a.value,o)){if(a.children===s.children&&!qr.current){t=$i(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Ci(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),L_(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ue(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),L_(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Pr(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ed(t,n),s=Us(s),r=r(s),t.flags|=1,Pr(e,t,r,n),t.child;case 14:return r=t.type,s=oa(r,t.pendingProps),s=oa(r.type,s),E2(e,t,r,s,n);case 15:return bL(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:oa(r,s),Ly(e,t),t.tag=1,Kr(r)?(e=!0,dv(t)):e=!1,ed(t,n),yL(t,r,s),B_(t,r,s,n),z_(null,t,r,!0,e,n);case 19:return NL(e,t,n);case 22:return wL(e,t,n)}throw Error(ue(156,t.tag))};function VL(e,t){return m5(e,t)}function eY(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(e,t,n,r){return new eY(e,t,n,r)}function JC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tY(e){if(typeof e=="function")return JC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vC)return 11;if(e===xC)return 14}return 2}function Ko(e,t){var n=e.alternate;return n===null?(n=Ms(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vy(e,t,n,r,s,a){var o=2;if(r=e,typeof e=="function")JC(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ku:return gc(n.children,s,a,t);case yC:o=8,s|=8;break;case u_:return e=Ms(12,n,t,s|2),e.elementType=u_,e.lanes=a,e;case d_:return e=Ms(13,n,t,s),e.elementType=d_,e.lanes=a,e;case f_:return e=Ms(19,n,t,s),e.elementType=f_,e.lanes=a,e;case Q4:return w0(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y4:o=10;break e;case X4:o=9;break e;case vC:o=11;break e;case xC:o=14;break e;case mo:o=16,r=null;break e}throw Error(ue(130,e==null?e:typeof e,""))}return t=Ms(o,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function gc(e,t,n,r){return e=Ms(7,e,r,t),e.lanes=n,e}function w0(e,t,n,r){return e=Ms(22,e,r,t),e.elementType=Q4,e.lanes=n,e.stateNode={isHidden:!1},e}function Rw(e,t,n){return e=Ms(6,e,null,t),e.lanes=n,e}function Iw(e,t,n){return t=Ms(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nY(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pw(0),this.expirationTimes=pw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pw(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function eP(e,t,n,r,s,a,o,l,c){return e=new nY(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ms(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},DC(a),e}function rY(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function UL(e){if(!e)return nl;e=e._reactInternals;e:{if(zc(e)!==e||e.tag!==1)throw Error(ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ue(171))}if(e.tag===1){var n=e.type;if(Kr(n))return U5(e,n,t)}return t}function zL(e,t,n,r,s,a,o,l,c){return e=eP(n,r,!0,e,s,a,o,l,c),e.context=UL(null),n=e.current,r=Mr(),s=qo(n),a=Ci(r,s),a.callback=t??null,Wo(n,a,s),e.current.lanes=s,zp(e,s,r),Gr(e,r),e}function _0(e,t,n,r){var s=t.current,a=Mr(),o=qo(s);return n=UL(n),t.context===null?t.context=n:t.pendingContext=n,t=Ci(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Wo(s,t,o),e!==null&&(ja(e,s,o,a),Iy(e,s,o)),o}function Sv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function V2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function tP(e,t){V2(e,t),(e=e.alternate)&&V2(e,t)}function sY(){return null}var WL=typeof reportError=="function"?reportError:function(e){console.error(e)};function nP(e){this._internalRoot=e}j0.prototype.render=nP.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ue(409));_0(e,t,null,null)};j0.prototype.unmount=nP.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pc(function(){_0(null,e,null,null)}),t[Ri]=null}};function j0(e){this._internalRoot=e}j0.prototype.unstable_scheduleHydration=function(e){if(e){var t=w5();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bo.length&&t!==0&&t<bo[n].priority;n++);bo.splice(n,0,e),n===0&&j5(e)}};function rP(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function S0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function U2(){}function aY(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=Sv(o);a.call(u)}}var o=zL(t,r,e,0,null,!1,!1,"",U2);return e._reactRootContainer=o,e[Ri]=o.current,wm(e.nodeType===8?e.parentNode:e),Pc(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Sv(c);l.call(u)}}var c=eP(e,0,!1,null,null,!1,!1,"",U2);return e._reactRootContainer=c,e[Ri]=c.current,wm(e.nodeType===8?e.parentNode:e),Pc(function(){_0(t,c,n,r)}),c}function N0(e,t,n,r,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Sv(o);l.call(c)}}_0(t,o,e,s)}else o=aY(n,t,e,s,r);return Sv(o)}x5=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Oh(t.pendingLanes);n!==0&&(_C(t,n|1),Gr(t,pn()),!(dt&6)&&(Ad=pn()+500,hl()))}break;case 13:Pc(function(){var r=Ii(e,1);if(r!==null){var s=Mr();ja(r,e,1,s)}}),tP(e,1)}};jC=function(e){if(e.tag===13){var t=Ii(e,134217728);if(t!==null){var n=Mr();ja(t,e,134217728,n)}tP(e,134217728)}};b5=function(e){if(e.tag===13){var t=qo(e),n=Ii(e,t);if(n!==null){var r=Mr();ja(n,e,t,r)}tP(e,t)}};w5=function(){return Pt};_5=function(e,t){var n=Pt;try{return Pt=e,t()}finally{Pt=n}};__=function(e,t,n){switch(t){case"input":if(p_(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=p0(r);if(!s)throw Error(ue(90));J4(r),p_(r,s)}}}break;case"textarea":t5(e,n);break;case"select":t=n.value,t!=null&&Xu(e,!!n.multiple,t,!1)}};l5=XC;c5=Pc;var iY={usingClientEntryPoint:!1,Events:[Hp,Ou,p0,i5,o5,XC]},ch={findFiberByHostInstance:ql,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oY={bundleType:ch.bundleType,version:ch.version,rendererPackageName:ch.rendererPackageName,rendererConfig:ch.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=f5(e),e===null?null:e.stateNode},findFiberByHostInstance:ch.findFiberByHostInstance||sY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qg.isDisabled&&qg.supportsFiber)try{d0=qg.inject(oY),qa=qg}catch{}}_s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iY;_s.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rP(t))throw Error(ue(200));return rY(e,t,null,n)};_s.createRoot=function(e,t){if(!rP(e))throw Error(ue(299));var n=!1,r="",s=WL;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=eP(e,1,!1,null,null,n,!1,r,s),e[Ri]=t.current,wm(e.nodeType===8?e.parentNode:e),new nP(t)};_s.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ue(188)):(e=Object.keys(e).join(","),Error(ue(268,e)));return e=f5(t),e=e===null?null:e.stateNode,e};_s.flushSync=function(e){return Pc(e)};_s.hydrate=function(e,t,n){if(!S0(t))throw Error(ue(200));return N0(null,e,t,!0,n)};_s.hydrateRoot=function(e,t,n){if(!rP(e))throw Error(ue(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",o=WL;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=zL(t,null,e,1,n??null,s,!1,a,o),e[Ri]=t.current,wm(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new j0(t)};_s.render=function(e,t,n){if(!S0(t))throw Error(ue(200));return N0(null,e,t,!1,n)};_s.unmountComponentAtNode=function(e){if(!S0(e))throw Error(ue(40));return e._reactRootContainer?(Pc(function(){N0(null,null,e,!1,function(){e._reactRootContainer=null,e[Ri]=null})}),!0):!1};_s.unstable_batchedUpdates=XC;_s.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!S0(n))throw Error(ue(200));if(e==null||e._reactInternals===void 0)throw Error(ue(38));return N0(e,t,n,!1,r)};_s.version="18.3.1-next-f1338f8080-20240426";function HL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HL)}catch(e){console.error(e)}}HL(),H4.exports=_s;var Wc=H4.exports;const qL=Mt(Wc);var KL,z2=Wc;KL=z2.createRoot,z2.hydrateRoot;const lY=1,cY=1e6;let $w=0;function uY(){return $w=($w+1)%Number.MAX_SAFE_INTEGER,$w.toString()}const Dw=new Map,W2=e=>{if(Dw.has(e))return;const t=setTimeout(()=>{Dw.delete(e),Qh({type:"REMOVE_TOAST",toastId:e})},cY);Dw.set(e,t)},dY=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,lY)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?W2(n):e.toasts.forEach(r=>{W2(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Uy=[];let zy={toasts:[]};function Qh(e){zy=dY(zy,e),Uy.forEach(t=>{t(zy)})}function ut({...e}){const t=uY(),n=s=>Qh({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Qh({type:"DISMISS_TOAST",toastId:t});return Qh({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Gn(){const[e,t]=v.useState(zy);return v.useEffect(()=>(Uy.push(t),()=>{const n=Uy.indexOf(t);n>-1&&Uy.splice(n,1)}),[e]),{...e,toast:ut,dismiss:n=>Qh({type:"DISMISS_TOAST",toastId:n})}}function ce(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function H2(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function C0(...e){return t=>{let n=!1;const r=e.map(s=>{const a=H2(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():H2(e[s],null)}}}}function Ue(...e){return v.useCallback(C0(...e),e)}function fY(e,t){const n=v.createContext(t),r=a=>{const{children:o,...l}=a,c=v.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(a){const o=v.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function Yn(e,t=[]){let n=[];function r(a,o){const l=v.createContext(o),c=n.length;n=[...n,o];const u=f=>{var w;const{scope:h,children:m,...y}=f,p=((w=h==null?void 0:h[e])==null?void 0:w[c])||l,x=v.useMemo(()=>y,Object.values(y));return i.jsx(p.Provider,{value:x,children:m})};u.displayName=a+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,y=v.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=n.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,hY(s,...t)]}function hY(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function rl(e){const t=pY(e),n=v.forwardRef((r,s)=>{const{children:a,...o}=r,l=v.Children.toArray(a),c=l.find(gY);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var mY=rl("Slot");function pY(e){const t=v.forwardRef((n,r)=>{const{children:s,...a}=n;if(v.isValidElement(s)){const o=vY(s),l=yY(a,s.props);return s.type!==v.Fragment&&(l.ref=r?C0(r,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var GL=Symbol("radix.slottable");function YL(e){const t=({children:n})=>i.jsx(i.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=GL,t}function gY(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===GL}function yY(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function vY(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Kp(e){const t=e+"CollectionProvider",[n,r]=Yn(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:x,children:w}=p,g=M.useRef(null),b=M.useRef(new Map).current;return i.jsx(s,{scope:x,itemMap:b,collectionRef:g,children:w})};o.displayName=t;const l=e+"CollectionSlot",c=rl(l),u=M.forwardRef((p,x)=>{const{scope:w,children:g}=p,b=a(l,w),_=Ue(x,b.collectionRef);return i.jsx(c,{ref:_,children:g})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=rl(d),m=M.forwardRef((p,x)=>{const{scope:w,children:g,...b}=p,_=M.useRef(null),j=Ue(x,_),S=a(d,w);return M.useEffect(()=>(S.itemMap.set(_,{ref:_,...b}),()=>void S.itemMap.delete(_))),i.jsx(h,{[f]:"",ref:j,children:g})});m.displayName=d;function y(p){const x=a(e+"CollectionConsumer",p);return M.useCallback(()=>{const g=x.collectionRef.current;if(!g)return[];const b=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((S,N)=>b.indexOf(S.ref.current)-b.indexOf(N.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},y,r]}var xY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ne=xY.reduce((e,t)=>{const n=rl(`Primitive.${t}`),r=v.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function sP(e,t){e&&Wc.flushSync(()=>e.dispatchEvent(t))}function dn(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function bY(e,t=globalThis==null?void 0:globalThis.document){const n=dn(e);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var wY="DismissableLayer",tj="dismissableLayer.update",_Y="dismissableLayer.pointerDownOutside",jY="dismissableLayer.focusOutside",q2,XL=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hc=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=v.useContext(XL),[d,f]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),y=Ue(t,N=>f(N)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=p.indexOf(x),g=d?p.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=g>=w,j=NY(N=>{const C=N.target,P=[...u.branches].some(k=>k.contains(C));!_||P||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},h),S=CY(N=>{const C=N.target;[...u.branches].some(k=>k.contains(C))||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},h);return bY(N=>{g===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),v.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(q2=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),K2(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=q2)}},[d,h,n,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),K2())},[d,u]),v.useEffect(()=>{const N=()=>m({});return document.addEventListener(tj,N),()=>document.removeEventListener(tj,N)},[]),i.jsx(Ne.div,{...c,ref:y,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:ce(e.onFocusCapture,S.onFocusCapture),onBlurCapture:ce(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ce(e.onPointerDownCapture,j.onPointerDownCapture)})});Hc.displayName=wY;var SY="DismissableLayerBranch",QL=v.forwardRef((e,t)=>{const n=v.useContext(XL),r=v.useRef(null),s=Ue(t,r);return v.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),i.jsx(Ne.div,{...e,ref:s})});QL.displayName=SY;function NY(e,t=globalThis==null?void 0:globalThis.document){const n=dn(e),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){ZL(_Y,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function CY(e,t=globalThis==null?void 0:globalThis.document){const n=dn(e),r=v.useRef(!1);return v.useEffect(()=>{const s=a=>{a.target&&!r.current&&ZL(jY,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function K2(){const e=new CustomEvent(tj);document.dispatchEvent(e)}function ZL(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?sP(s,a):s.dispatchEvent(a)}var PY=Hc,kY=QL,Fn=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},EY="Portal",xf=v.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,a]=v.useState(!1);Fn(()=>a(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?qL.createPortal(i.jsx(Ne.div,{...r,ref:t}),o):null});xf.displayName=EY;function AY(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var Bn=e=>{const{present:t,children:n}=e,r=TY(t),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),a=Ue(r.ref,OY(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:a}):null};Bn.displayName="Presence";function TY(e){const[t,n]=v.useState(),r=v.useRef(null),s=v.useRef(e),a=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=AY(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=Kg(r.current);a.current=l==="mounted"?u:"none"},[l]),Fn(()=>{const u=r.current,d=s.current;if(d!==e){const h=a.current,m=Kg(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Fn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Kg(r.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=m=>{m.target===t&&(a.current=Kg(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Kg(e){return(e==null?void 0:e.animationName)||"none"}function OY(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var MY=hC[" useInsertionEffect ".trim().toString()]||Fn;function Kn({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,o]=RY({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=v.useCallback(d=>{var f;if(l){const h=IY(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else a(d)},[l,e,a,o]);return[c,u]}function RY({defaultProp:e,onChange:t}){const[n,r]=v.useState(e),s=v.useRef(n),a=v.useRef(t);return MY(()=>{a.current=t},[t]),v.useEffect(()=>{var o;s.current!==n&&((o=a.current)==null||o.call(a,n),s.current=n)},[n,s]),[n,r,a]}function IY(e){return typeof e=="function"}var JL=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$Y="VisuallyHidden",P0=v.forwardRef((e,t)=>i.jsx(Ne.span,{...e,ref:t,style:{...JL,...e.style}}));P0.displayName=$Y;var DY=P0,aP="ToastProvider",[iP,LY,FY]=Kp("Toast"),[e3,XBe]=Yn("Toast",[FY]),[BY,k0]=e3(aP),t3=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=v.useState(null),[u,d]=v.useState(0),f=v.useRef(!1),h=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${aP}\`. Expected non-empty \`string\`.`),i.jsx(iP.Provider,{scope:t,children:i.jsx(BY,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>d(m=>m+1),[]),onToastRemove:v.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};t3.displayName=aP;var n3="ToastViewport",VY=["F8"],nj="toast.viewportPause",rj="toast.viewportResume",r3=v.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=VY,label:s="Notifications ({hotkey})",...a}=e,o=k0(n3,n),l=LY(n),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),f=v.useRef(null),h=Ue(t,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;v.useEffect(()=>{const x=w=>{var b;r.length!==0&&r.every(_=>w[_]||w.code===_)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),v.useEffect(()=>{const x=c.current,w=f.current;if(y&&x&&w){const g=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(nj);w.dispatchEvent(S),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(rj);w.dispatchEvent(S),o.isClosePausedRef.current=!1}},_=S=>{!x.contains(S.relatedTarget)&&b()},j=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",g),x.addEventListener("focusout",_),x.addEventListener("pointermove",g),x.addEventListener("pointerleave",j),window.addEventListener("blur",g),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",g),x.removeEventListener("focusout",_),x.removeEventListener("pointermove",g),x.removeEventListener("pointerleave",j),window.removeEventListener("blur",g),window.removeEventListener("focus",b)}}},[y,o.isClosePausedRef]);const p=v.useCallback(({tabbingDirection:x})=>{const g=l().map(b=>{const _=b.ref.current,j=[_,...eX(_)];return x==="forwards"?j:j.reverse()});return(x==="forwards"?g.reverse():g).flat()},[l]);return v.useEffect(()=>{const x=f.current;if(x){const w=g=>{var j,S,N;const b=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!b){const C=document.activeElement,P=g.shiftKey;if(g.target===x&&P){(j=u.current)==null||j.focus();return}const E=p({tabbingDirection:P?"backwards":"forwards"}),I=E.findIndex(D=>D===C);Lw(E.slice(I+1))?g.preventDefault():P?(S=u.current)==null||S.focus():(N=d.current)==null||N.focus()}};return x.addEventListener("keydown",w),()=>x.removeEventListener("keydown",w)}},[l,p]),i.jsxs(kY,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&i.jsx(sj,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});Lw(x)}}),i.jsx(iP.Slot,{scope:n,children:i.jsx(Ne.ol,{tabIndex:-1,...a,ref:h})}),y&&i.jsx(sj,{ref:d,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});Lw(x)}})]})});r3.displayName=n3;var s3="ToastFocusProxy",sj=v.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,a=k0(s3,n);return i.jsx(P0,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&r()}})});sj.displayName=s3;var Gp="Toast",UY="toast.swipeStart",zY="toast.swipeMove",WY="toast.swipeCancel",HY="toast.swipeEnd",a3=v.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:a,...o}=e,[l,c]=Kn({prop:r,defaultProp:s??!0,onChange:a,caller:Gp});return i.jsx(Bn,{present:n||l,children:i.jsx(GY,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:dn(e.onPause),onResume:dn(e.onResume),onSwipeStart:ce(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ce(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ce(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ce(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});a3.displayName=Gp;var[qY,KY]=e3(Gp,{onClose(){}}),GY=v.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...y}=e,p=k0(Gp,n),[x,w]=v.useState(null),g=Ue(t,D=>w(D)),b=v.useRef(null),_=v.useRef(null),j=s||p.duration,S=v.useRef(0),N=v.useRef(j),C=v.useRef(0),{onToastAdd:P,onToastRemove:k}=p,A=dn(()=>{var V;(x==null?void 0:x.contains(document.activeElement))&&((V=p.viewport)==null||V.focus()),o()}),E=v.useCallback(D=>{!D||D===1/0||(window.clearTimeout(C.current),S.current=new Date().getTime(),C.current=window.setTimeout(A,D))},[A]);v.useEffect(()=>{const D=p.viewport;if(D){const V=()=>{E(N.current),u==null||u()},B=()=>{const F=new Date().getTime()-S.current;N.current=N.current-F,window.clearTimeout(C.current),c==null||c()};return D.addEventListener(nj,B),D.addEventListener(rj,V),()=>{D.removeEventListener(nj,B),D.removeEventListener(rj,V)}}},[p.viewport,j,c,u,E]),v.useEffect(()=>{a&&!p.isClosePausedRef.current&&E(j)},[a,j,p.isClosePausedRef,E]),v.useEffect(()=>(P(),()=>k()),[P,k]);const I=v.useMemo(()=>x?f3(x):null,[x]);return p.viewport?i.jsxs(i.Fragment,{children:[I&&i.jsx(YY,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),i.jsx(qY,{scope:n,onClose:A,children:Wc.createPortal(i.jsx(iP.ItemSlot,{scope:n,children:i.jsx(PY,{asChild:!0,onEscapeKeyDown:ce(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||A(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Ne.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":p.swipeDirection,...y,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ce(e.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:ce(e.onPointerDown,D=>{D.button===0&&(b.current={x:D.clientX,y:D.clientY})}),onPointerMove:ce(e.onPointerMove,D=>{if(!b.current)return;const V=D.clientX-b.current.x,B=D.clientY-b.current.y,F=!!_.current,R=["left","right"].includes(p.swipeDirection),T=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,O=R?T(0,V):0,W=R?0:T(0,B),$=D.pointerType==="touch"?10:2,Y={x:O,y:W},U={originalEvent:D,delta:Y};F?(_.current=Y,Gg(zY,f,U,{discrete:!1})):G2(Y,p.swipeDirection,$)?(_.current=Y,Gg(UY,d,U,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(V)>$||Math.abs(B)>$)&&(b.current=null)}),onPointerUp:ce(e.onPointerUp,D=>{const V=_.current,B=D.target;if(B.hasPointerCapture(D.pointerId)&&B.releasePointerCapture(D.pointerId),_.current=null,b.current=null,V){const F=D.currentTarget,R={originalEvent:D,delta:V};G2(V,p.swipeDirection,p.swipeThreshold)?Gg(HY,m,R,{discrete:!0}):Gg(WY,h,R,{discrete:!0}),F.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),YY=e=>{const{__scopeToast:t,children:n,...r}=e,s=k0(Gp,t),[a,o]=v.useState(!1),[l,c]=v.useState(!1);return ZY(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(xf,{asChild:!0,children:i.jsx(P0,{...r,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",n]})})})},XY="ToastTitle",i3=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(Ne.div,{...r,ref:t})});i3.displayName=XY;var QY="ToastDescription",o3=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(Ne.div,{...r,ref:t})});o3.displayName=QY;var l3="ToastAction",c3=v.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?i.jsx(d3,{altText:n,asChild:!0,children:i.jsx(oP,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${l3}\`. Expected non-empty \`string\`.`),null)});c3.displayName=l3;var u3="ToastClose",oP=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=KY(u3,n);return i.jsx(d3,{asChild:!0,children:i.jsx(Ne.button,{type:"button",...r,ref:t,onClick:ce(e.onClick,s.onClose)})})});oP.displayName=u3;var d3=v.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return i.jsx(Ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function f3(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),JY(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...f3(r))}}),t}function Gg(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?sP(s,a):s.dispatchEvent(a)}var G2=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),a=r>s;return t==="left"||t==="right"?a&&r>n:!a&&s>n};function ZY(e=()=>{}){const t=dn(e);Fn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function JY(e){return e.nodeType===e.ELEMENT_NODE}function eX(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Lw(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var tX=t3,h3=r3,m3=a3,p3=i3,g3=o3,y3=c3,v3=oP;function x3(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=x3(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ot(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=x3(e))&&(r&&(r+=" "),r+=t);return r}const Y2=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,X2=ot,bf=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return X2(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=a==null?void 0:a[u];if(d===null)return null;const h=Y2(d)||Y2(f);return s[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(y=>{let[p,x]=y;return Array.isArray(x)?x.includes({...a,...l}[p]):{...a,...l}[p]===x})?[...u,f,h]:u},[]);return X2(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nX=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),b3=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sX=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...rX,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:b3("lucide",s),...l},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(e,t)=>{const n=v.forwardRef(({className:r,...s},a)=>v.createElement(sX,{ref:a,iconNode:t,className:b3(`lucide-${nX(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=le("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aX=le("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=le("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=le("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=le("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=le("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=le("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=le("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=le("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=le("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cX=le("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=le("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=le("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=le("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=le("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=le("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uX=le("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=le("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=le("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=le("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=le("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=le("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=le("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=le("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=le("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=le("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=le("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=le("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=le("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=le("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=le("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mX=le("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=le("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gX=le("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=le("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=le("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vX=le("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=le("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=le("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=le("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=le("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=le("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=le("PhoneIncoming",[["polyline",{points:"16 2 16 8 22 8",key:"1ygljm"}],["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=le("PhoneOutgoing",[["polyline",{points:"22 8 22 2 16 2",key:"1g204g"}],["line",{x1:"16",x2:"22",y1:"8",y2:"2",key:"1ggias"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=le("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=le("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=le("Puzzle",[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bX=le("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=le("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=le("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=le("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=le("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=le("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=le("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=le("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=le("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=le("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=le("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=le("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=le("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=le("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CX=le("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PX=le("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=le("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),gP="-",kX=e=>{const t=AX(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(gP);return l[0]===""&&l.length!==1&&l.shift(),D3(l,t)||EX(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},D3=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?D3(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(gP);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},tT=/^\[(.+)\]$/,EX=e=>{if(tT.test(e)){const t=tT.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},AX=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return OX(Object.entries(e.classGroups),n).forEach(([a,o])=>{dj(o,r,a,t)}),r},dj=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:nT(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(TX(s)){dj(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,o])=>{dj(o,nT(t,a),n,r)})})},nT=(e,t)=>{let n=e;return t.split(gP).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},TX=e=>e.isThemeGetter,OX=(e,t)=>t?e.map(([n,r])=>{const s=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,s]}):e,MX=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return s(a,o),o},set(a,o){n.has(a)?n.set(a,o):s(a,o)}}},L3="!",RX=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let w=l[x];if(u===0){if(w===s&&(r||l.slice(x,x+a)===t)){c.push(l.slice(d,x)),d=x+a;continue}if(w==="/"){f=x;continue}}w==="["?u++:w==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(L3),y=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:o}):o},IX=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},$X=e=>({cache:MX(e.cacheSize),parseClassName:RX(e),...kX(e)}),DX=/\s+/,LX=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(DX);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let y=!!m,p=r(y?h.substring(0,m):h);if(!p){if(!y){l=u+(l.length>0?" "+l:l);continue}if(p=r(h),!p){l=u+(l.length>0?" "+l:l);continue}y=!1}const x=IX(d).join(":"),w=f?x+L3:x,g=w+p;if(a.includes(g))continue;a.push(g);const b=s(p,y);for(let _=0;_<b.length;++_){const j=b[_];a.push(w+j)}l=u+(l.length>0?" "+l:l)}return l};function FX(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=F3(t))&&(r&&(r+=" "),r+=n);return r}const F3=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=F3(e[r]))&&(n&&(n+=" "),n+=t);return n};function BX(e,...t){let n,r,s,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=$X(u),r=n.cache.get,s=n.cache.set,a=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=LX(c,n);return s(c,d),d}return function(){return a(FX.apply(null,arguments))}}const Bt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},B3=/^\[(?:([a-z-]+):)?(.+)\]$/i,VX=/^\d+\/\d+$/,UX=new Set(["px","full","screen"]),zX=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,WX=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,HX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qX=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,KX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,li=e=>nd(e)||UX.has(e)||VX.test(e),ao=e=>_f(e,"length",tQ),nd=e=>!!e&&!Number.isNaN(Number(e)),Uw=e=>_f(e,"number",nd),uh=e=>!!e&&Number.isInteger(Number(e)),GX=e=>e.endsWith("%")&&nd(e.slice(0,-1)),Qe=e=>B3.test(e),io=e=>zX.test(e),YX=new Set(["length","size","percentage"]),XX=e=>_f(e,YX,V3),QX=e=>_f(e,"position",V3),ZX=new Set(["image","url"]),JX=e=>_f(e,ZX,rQ),eQ=e=>_f(e,"",nQ),dh=()=>!0,_f=(e,t,n)=>{const r=B3.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},tQ=e=>WX.test(e)&&!HX.test(e),V3=()=>!1,nQ=e=>qX.test(e),rQ=e=>KX.test(e),sQ=()=>{const e=Bt("colors"),t=Bt("spacing"),n=Bt("blur"),r=Bt("brightness"),s=Bt("borderColor"),a=Bt("borderRadius"),o=Bt("borderSpacing"),l=Bt("borderWidth"),c=Bt("contrast"),u=Bt("grayscale"),d=Bt("hueRotate"),f=Bt("invert"),h=Bt("gap"),m=Bt("gradientColorStops"),y=Bt("gradientColorStopPositions"),p=Bt("inset"),x=Bt("margin"),w=Bt("opacity"),g=Bt("padding"),b=Bt("saturate"),_=Bt("scale"),j=Bt("sepia"),S=Bt("skew"),N=Bt("space"),C=Bt("translate"),P=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Qe,t],E=()=>[Qe,t],I=()=>["",li,ao],D=()=>["auto",nd,Qe],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",Qe],O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[nd,Qe];return{cacheSize:500,separator:":",theme:{colors:[dh],spacing:[li,ao],blur:["none","",io,Qe],brightness:W(),borderColor:[e],borderRadius:["none","","full",io,Qe],borderSpacing:E(),borderWidth:I(),contrast:W(),grayscale:T(),hueRotate:W(),invert:T(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[GX,ao],inset:A(),margin:A(),opacity:W(),padding:E(),saturate:W(),scale:W(),sepia:T(),skew:W(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",Qe]}],container:["container"],columns:[{columns:[io]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),Qe]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",uh,Qe]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qe]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",uh,Qe]}],"grid-cols":[{"grid-cols":[dh]}],"col-start-end":[{col:["auto",{span:["full",uh,Qe]},Qe]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[dh]}],"row-start-end":[{row:["auto",{span:[uh,Qe]},Qe]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qe,t]}],"min-w":[{"min-w":[Qe,t,"min","max","fit"]}],"max-w":[{"max-w":[Qe,t,"none","full","min","max","fit","prose",{screen:[io]},io]}],h:[{h:[Qe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",io,ao]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Uw]}],"font-family":[{font:[dh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qe]}],"line-clamp":[{"line-clamp":["none",nd,Uw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",li,Qe]}],"list-image":[{"list-image":["none",Qe]}],"list-style-type":[{list:["none","disc","decimal",Qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",li,ao]}],"underline-offset":[{"underline-offset":["auto",li,Qe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),QX]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",XX]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},JX]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:B()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[li,Qe]}],"outline-w":[{outline:[li,ao]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[li,ao]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",io,eQ]}],"shadow-color":[{shadow:[dh]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",io,Qe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qe]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Qe]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[uh,Qe]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[li,ao,Uw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},aQ=BX(sQ);function ee(...e){return aQ(ot(e))}const iQ=tX,U3=v.forwardRef(({className:e,...t},n)=>i.jsx(h3,{ref:n,className:ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));U3.displayName=h3.displayName;const oQ=bf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),z3=v.forwardRef(({className:e,variant:t,...n},r)=>i.jsx(m3,{ref:r,className:ee(oQ({variant:t}),e),...n}));z3.displayName=m3.displayName;const lQ=v.forwardRef(({className:e,...t},n)=>i.jsx(y3,{ref:n,className:ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));lQ.displayName=y3.displayName;const W3=v.forwardRef(({className:e,...t},n)=>i.jsx(v3,{ref:n,className:ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Om,{className:"h-4 w-4"})}));W3.displayName=v3.displayName;const H3=v.forwardRef(({className:e,...t},n)=>i.jsx(p3,{ref:n,className:ee("text-sm font-semibold",e),...t}));H3.displayName=p3.displayName;const q3=v.forwardRef(({className:e,...t},n)=>i.jsx(g3,{ref:n,className:ee("text-sm opacity-90",e),...t}));q3.displayName=g3.displayName;function cQ(){const{toasts:e}=Gn();return i.jsxs(iQ,{children:[e.map(function({id:t,title:n,description:r,action:s,...a}){return i.jsxs(z3,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[n&&i.jsx(H3,{children:n}),r&&i.jsx(q3,{children:r})]}),s,i.jsx(W3,{})]},t)}),i.jsx(U3,{})]})}var rT=["light","dark"],uQ="(prefers-color-scheme: dark)",dQ=v.createContext(void 0),fQ={setTheme:e=>{},themes:[]},hQ=()=>{var e;return(e=v.useContext(dQ))!=null?e:fQ};v.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let u=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?rT.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,p=!1,x=!0)=>{let w=o?o[y]:y,g=p?y+"|| ''":`'${w}'`,b="";return s&&x&&!p&&rT.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),n==="class"?p||w?b+=`c.add(${g})`:b+="null":w&&(b+=`d[s](n,${g})`),b},m=e?`!function(){${d}${h(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${uQ}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return v.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var mQ=e=>{switch(e){case"success":return yQ;case"info":return xQ;case"warning":return vQ;case"error":return bQ;default:return null}},pQ=Array(12).fill(0),gQ=({visible:e,className:t})=>M.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},M.createElement("div",{className:"sonner-spinner"},pQ.map((n,r)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),yQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),vQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),xQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),bQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),wQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),_Q=()=>{let[e,t]=M.useState(document.hidden);return M.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},fj=1,jQ=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:fj++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,a,o=r.then(async c=>{if(a=["resolve",c],M.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(NQ(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||fj++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Vr=new jQ,SQ=(e,t)=>{let n=(t==null?void 0:t.id)||fj++;return Vr.addToast({title:e,...t,id:n}),n},NQ=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",CQ=SQ,PQ=()=>Vr.toasts,kQ=()=>Vr.getActiveToasts(),ct=Object.assign(CQ,{success:Vr.success,info:Vr.info,warning:Vr.warning,error:Vr.error,custom:Vr.custom,message:Vr.message,promise:Vr.promise,dismiss:Vr.dismiss,loading:Vr.loading},{getHistory:PQ,getToasts:kQ});function EQ(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}EQ(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Yg(e){return e.label!==void 0}var AQ=3,TQ="32px",OQ="16px",sT=4e3,MQ=356,RQ=14,IQ=20,$Q=200;function ea(...e){return e.filter(Boolean).join(" ")}function DQ(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var LQ=e=>{var t,n,r,s,a,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:y,interacting:p,setHeights:x,visibleToasts:w,heights:g,index:b,toasts:_,expanded:j,removeToast:S,defaultRichColors:N,closeButton:C,style:P,cancelButtonStyle:k,actionButtonStyle:A,className:E="",descriptionClassName:I="",duration:D,position:V,gap:B,loadingIcon:F,expandByDefault:R,classNames:T,icons:O,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:$}=e,[Y,U]=M.useState(null),[ne,be]=M.useState(null),[re,Me]=M.useState(!1),[te,J]=M.useState(!1),[ae,K]=M.useState(!1),[Se,q]=M.useState(!1),[se,ve]=M.useState(!1),[ke,ze]=M.useState(0),[$e,L]=M.useState(0),H=M.useRef(m.duration||D||sT),X=M.useRef(null),fe=M.useRef(null),de=b===0,oe=b+1<=w,xe=m.type,We=m.dismissible!==!1,yt=m.className||"",Qn=m.descriptionClassName||"",Ys=M.useMemo(()=>g.findIndex(Ke=>Ke.toastId===m.id)||0,[g,m.id]),Ss=M.useMemo(()=>{var Ke;return(Ke=m.closeButton)!=null?Ke:C},[m.closeButton,C]),ru=M.useMemo(()=>m.duration||D||sT,[m.duration,D]),Sr=M.useRef(0),Dr=M.useRef(0),su=M.useRef(0),oi=M.useRef(null),[ow,Pg]=V.split("-"),OA=M.useMemo(()=>g.reduce((Ke,Et,qt)=>qt>=Ys?Ke:Ke+Et.height,0),[g,Ys]),MA=_Q(),Oq=m.invert||h,lw=xe==="loading";Dr.current=M.useMemo(()=>Ys*B+OA,[Ys,OA]),M.useEffect(()=>{H.current=ru},[ru]),M.useEffect(()=>{Me(!0)},[]),M.useEffect(()=>{let Ke=fe.current;if(Ke){let Et=Ke.getBoundingClientRect().height;return L(Et),x(qt=>[{toastId:m.id,height:Et,position:m.position},...qt]),()=>x(qt=>qt.filter(Xs=>Xs.toastId!==m.id))}},[x,m.id]),M.useLayoutEffect(()=>{if(!re)return;let Ke=fe.current,Et=Ke.style.height;Ke.style.height="auto";let qt=Ke.getBoundingClientRect().height;Ke.style.height=Et,L(qt),x(Xs=>Xs.find(Qs=>Qs.toastId===m.id)?Xs.map(Qs=>Qs.toastId===m.id?{...Qs,height:qt}:Qs):[{toastId:m.id,height:qt,position:m.position},...Xs])},[re,m.title,m.description,x,m.id]);let to=M.useCallback(()=>{J(!0),ze(Dr.current),x(Ke=>Ke.filter(Et=>Et.toastId!==m.id)),setTimeout(()=>{S(m)},$Q)},[m,S,x,Dr]);M.useEffect(()=>{if(m.promise&&xe==="loading"||m.duration===1/0||m.type==="loading")return;let Ke;return j||p||$&&MA?(()=>{if(su.current<Sr.current){let Et=new Date().getTime()-Sr.current;H.current=H.current-Et}su.current=new Date().getTime()})():H.current!==1/0&&(Sr.current=new Date().getTime(),Ke=setTimeout(()=>{var Et;(Et=m.onAutoClose)==null||Et.call(m,m),to()},H.current)),()=>clearTimeout(Ke)},[j,p,m,xe,$,MA,to]),M.useEffect(()=>{m.delete&&to()},[to,m.delete]);function Mq(){var Ke,Et,qt;return O!=null&&O.loading?M.createElement("div",{className:ea(T==null?void 0:T.loader,(Ke=m==null?void 0:m.classNames)==null?void 0:Ke.loader,"sonner-loader"),"data-visible":xe==="loading"},O.loading):F?M.createElement("div",{className:ea(T==null?void 0:T.loader,(Et=m==null?void 0:m.classNames)==null?void 0:Et.loader,"sonner-loader"),"data-visible":xe==="loading"},F):M.createElement(gQ,{className:ea(T==null?void 0:T.loader,(qt=m==null?void 0:m.classNames)==null?void 0:qt.loader),visible:xe==="loading"})}return M.createElement("li",{tabIndex:0,ref:fe,className:ea(E,yt,T==null?void 0:T.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,T==null?void 0:T.default,T==null?void 0:T[xe],(n=m==null?void 0:m.classNames)==null?void 0:n[xe]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:N,"data-styled":!(m.jsx||m.unstyled||y),"data-mounted":re,"data-promise":!!m.promise,"data-swiped":se,"data-removed":te,"data-visible":oe,"data-y-position":ow,"data-x-position":Pg,"data-index":b,"data-front":de,"data-swiping":ae,"data-dismissible":We,"data-type":xe,"data-invert":Oq,"data-swipe-out":Se,"data-swipe-direction":ne,"data-expanded":!!(j||R&&re),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${te?ke:Dr.current}px`,"--initial-height":R?"auto":`${$e}px`,...P,...m.style},onDragEnd:()=>{K(!1),U(null),oi.current=null},onPointerDown:Ke=>{lw||!We||(X.current=new Date,ze(Dr.current),Ke.target.setPointerCapture(Ke.pointerId),Ke.target.tagName!=="BUTTON"&&(K(!0),oi.current={x:Ke.clientX,y:Ke.clientY}))},onPointerUp:()=>{var Ke,Et,qt,Xs;if(Se||!We)return;oi.current=null;let Qs=Number(((Ke=fe.current)==null?void 0:Ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),no=Number(((Et=fe.current)==null?void 0:Et.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),El=new Date().getTime()-((qt=X.current)==null?void 0:qt.getTime()),Zs=Y==="x"?Qs:no,ro=Math.abs(Zs)/El;if(Math.abs(Zs)>=IQ||ro>.11){ze(Dr.current),(Xs=m.onDismiss)==null||Xs.call(m,m),be(Y==="x"?Qs>0?"right":"left":no>0?"down":"up"),to(),q(!0),ve(!1);return}K(!1),U(null)},onPointerMove:Ke=>{var Et,qt,Xs,Qs;if(!oi.current||!We||((Et=window.getSelection())==null?void 0:Et.toString().length)>0)return;let no=Ke.clientY-oi.current.y,El=Ke.clientX-oi.current.x,Zs=(qt=e.swipeDirections)!=null?qt:DQ(V);!Y&&(Math.abs(El)>1||Math.abs(no)>1)&&U(Math.abs(El)>Math.abs(no)?"x":"y");let ro={x:0,y:0};Y==="y"?(Zs.includes("top")||Zs.includes("bottom"))&&(Zs.includes("top")&&no<0||Zs.includes("bottom")&&no>0)&&(ro.y=no):Y==="x"&&(Zs.includes("left")||Zs.includes("right"))&&(Zs.includes("left")&&El<0||Zs.includes("right")&&El>0)&&(ro.x=El),(Math.abs(ro.x)>0||Math.abs(ro.y)>0)&&ve(!0),(Xs=fe.current)==null||Xs.style.setProperty("--swipe-amount-x",`${ro.x}px`),(Qs=fe.current)==null||Qs.style.setProperty("--swipe-amount-y",`${ro.y}px`)}},Ss&&!m.jsx?M.createElement("button",{"aria-label":W,"data-disabled":lw,"data-close-button":!0,onClick:lw||!We?()=>{}:()=>{var Ke;to(),(Ke=m.onDismiss)==null||Ke.call(m,m)},className:ea(T==null?void 0:T.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(a=O==null?void 0:O.close)!=null?a:wQ):null,m.jsx||v.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:M.createElement(M.Fragment,null,xe||m.icon||m.promise?M.createElement("div",{"data-icon":"",className:ea(T==null?void 0:T.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Mq():null,m.type!=="loading"?m.icon||(O==null?void 0:O[xe])||mQ(xe):null):null,M.createElement("div",{"data-content":"",className:ea(T==null?void 0:T.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},M.createElement("div",{"data-title":"",className:ea(T==null?void 0:T.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?M.createElement("div",{"data-description":"",className:ea(I,Qn,T==null?void 0:T.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),v.isValidElement(m.cancel)?m.cancel:m.cancel&&Yg(m.cancel)?M.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||k,onClick:Ke=>{var Et,qt;Yg(m.cancel)&&We&&((qt=(Et=m.cancel).onClick)==null||qt.call(Et,Ke),to())},className:ea(T==null?void 0:T.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,v.isValidElement(m.action)?m.action:m.action&&Yg(m.action)?M.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||A,onClick:Ke=>{var Et,qt;Yg(m.action)&&((qt=(Et=m.action).onClick)==null||qt.call(Et,Ke),!Ke.defaultPrevented&&to())},className:ea(T==null?void 0:T.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function aT(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function FQ(e,t){let n={};return[e,t].forEach((r,s)=>{let a=s===1,o=a?"--mobile-offset":"--offset",l=a?OQ:TQ;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var BQ=v.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:y=AQ,toastOptions:p,dir:x=aT(),gap:w=RQ,loadingIcon:g,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:j}=e,[S,N]=M.useState([]),C=M.useMemo(()=>Array.from(new Set([r].concat(S.filter($=>$.position).map($=>$.position)))),[S,r]),[P,k]=M.useState([]),[A,E]=M.useState(!1),[I,D]=M.useState(!1),[V,B]=M.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=M.useRef(null),R=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=M.useRef(null),O=M.useRef(!1),W=M.useCallback($=>{N(Y=>{var U;return(U=Y.find(ne=>ne.id===$.id))!=null&&U.delete||Vr.dismiss($.id),Y.filter(({id:ne})=>ne!==$.id)})},[]);return M.useEffect(()=>Vr.subscribe($=>{if($.dismiss){N(Y=>Y.map(U=>U.id===$.id?{...U,delete:!0}:U));return}setTimeout(()=>{qL.flushSync(()=>{N(Y=>{let U=Y.findIndex(ne=>ne.id===$.id);return U!==-1?[...Y.slice(0,U),{...Y[U],...$},...Y.slice(U+1)]:[$,...Y]})})})}),[]),M.useEffect(()=>{if(d!=="system"){B(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;let $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:Y})=>{B(Y?"dark":"light")})}catch{$.addListener(({matches:U})=>{try{B(U?"dark":"light")}catch(ne){console.error(ne)}})}},[d]),M.useEffect(()=>{S.length<=1&&E(!1)},[S]),M.useEffect(()=>{let $=Y=>{var U,ne;s.every(be=>Y[be]||Y.code===be)&&(E(!0),(U=F.current)==null||U.focus()),Y.code==="Escape"&&(document.activeElement===F.current||(ne=F.current)!=null&&ne.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[s]),M.useEffect(()=>{if(F.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,O.current=!1)}},[F.current]),M.createElement("section",{ref:t,"aria-label":`${_} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map(($,Y)=>{var U;let[ne,be]=$.split("-");return S.length?M.createElement("ol",{key:$,dir:x==="auto"?aT():x,tabIndex:-1,ref:F,className:l,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":ne,"data-lifted":A&&S.length>1&&!a,"data-x-position":be,style:{"--front-toast-height":`${((U=P[0])==null?void 0:U.height)||0}px`,"--width":`${MQ}px`,"--gap":`${w}px`,...m,...FQ(c,u)},onBlur:re=>{O.current&&!re.currentTarget.contains(re.relatedTarget)&&(O.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||O.current||(O.current=!0,T.current=re.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{I||E(!1)},onDragEnd:()=>E(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},S.filter(re=>!re.position&&Y===0||re.position===$).map((re,Me)=>{var te,J;return M.createElement(LQ,{key:re.id,icons:b,index:Me,toast:re,defaultRichColors:f,duration:(te=p==null?void 0:p.duration)!=null?te:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:n,visibleToasts:y,closeButton:(J=p==null?void 0:p.closeButton)!=null?J:o,interacting:I,position:$,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:W,toasts:S.filter(ae=>ae.position==re.position),heights:P.filter(ae=>ae.position==re.position),setHeights:k,expandByDefault:a,gap:w,loadingIcon:g,expanded:A,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const VQ=({...e})=>{const{theme:t="system"}=hQ();return i.jsx(BQ,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var UQ=hC[" useId ".trim().toString()]||(()=>{}),zQ=0;function wr(e){const[t,n]=v.useState(UQ());return Fn(()=>{n(r=>r??String(zQ++))},[e]),t?`radix-${t}`:""}const WQ=["top","right","bottom","left"],sl=Math.min,ls=Math.max,kv=Math.round,Xg=Math.floor,Ya=e=>({x:e,y:e}),HQ={left:"right",right:"left",bottom:"top",top:"bottom"},qQ={start:"end",end:"start"};function hj(e,t,n){return ls(e,sl(t,n))}function Li(e,t){return typeof e=="function"?e(t):e}function Fi(e){return e.split("-")[0]}function jf(e){return e.split("-")[1]}function yP(e){return e==="x"?"y":"x"}function vP(e){return e==="y"?"height":"width"}const KQ=new Set(["top","bottom"]);function za(e){return KQ.has(Fi(e))?"y":"x"}function xP(e){return yP(za(e))}function GQ(e,t,n){n===void 0&&(n=!1);const r=jf(e),s=xP(e),a=vP(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Ev(o)),[o,Ev(o)]}function YQ(e){const t=Ev(e);return[mj(e),t,mj(t)]}function mj(e){return e.replace(/start|end/g,t=>qQ[t])}const iT=["left","right"],oT=["right","left"],XQ=["top","bottom"],QQ=["bottom","top"];function ZQ(e,t,n){switch(e){case"top":case"bottom":return n?t?oT:iT:t?iT:oT;case"left":case"right":return t?XQ:QQ;default:return[]}}function JQ(e,t,n,r){const s=jf(e);let a=ZQ(Fi(e),n==="start",r);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(mj)))),a}function Ev(e){return e.replace(/left|right|bottom|top/g,t=>HQ[t])}function eZ(e){return{top:0,right:0,bottom:0,left:0,...e}}function K3(e){return typeof e!="number"?eZ(e):{top:e,right:e,bottom:e,left:e}}function Av(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function lT(e,t,n){let{reference:r,floating:s}=e;const a=za(t),o=xP(t),l=vP(o),c=Fi(t),u=a==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(jf(t)){case"start":m[o]-=h*(n&&u?-1:1);break;case"end":m[o]+=h*(n&&u?-1:1);break}return m}const tZ=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=lT(u,r,c),h=r,m={},y=0;for(let p=0;p<l.length;p++){const{name:x,fn:w}=l[p],{x:g,y:b,data:_,reset:j}=await w({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=g??d,f=b??f,m={...m,[x]:{...m[x],..._}},j&&y<=50&&(y++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:d,y:f}=lT(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function Rm(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Li(t,e),y=K3(m),x=l[h?f==="floating"?"reference":"floating":f],w=Av(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(x)))==null||n?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),_=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},j=Av(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:b,strategy:c}):g);return{top:(w.top-j.top+y.top)/_.y,bottom:(j.bottom-w.bottom+y.bottom)/_.y,left:(w.left-j.left+y.left)/_.x,right:(j.right-w.right+y.right)/_.x}}const nZ=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Li(e,t)||{};if(u==null)return{};const f=K3(d),h={x:n,y:r},m=xP(s),y=vP(m),p=await o.getDimensions(u),x=m==="y",w=x?"top":"left",g=x?"bottom":"right",b=x?"clientHeight":"clientWidth",_=a.reference[y]+a.reference[m]-h[m]-a.floating[y],j=h[m]-a.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=S?S[b]:0;(!N||!await(o.isElement==null?void 0:o.isElement(S)))&&(N=l.floating[b]||a.floating[y]);const C=_/2-j/2,P=N/2-p[y]/2-1,k=sl(f[w],P),A=sl(f[g],P),E=k,I=N-p[y]-A,D=N/2-p[y]/2+C,V=hj(E,D,I),B=!c.arrow&&jf(s)!=null&&D!==V&&a.reference[y]/2-(D<E?k:A)-p[y]/2<0,F=B?D<E?D-E:D-I:0;return{[m]:h[m]+F,data:{[m]:V,centerOffset:D-V-F,...B&&{alignmentOffset:F}},reset:B}}}),rZ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:p=!0,...x}=Li(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const w=Fi(s),g=za(l),b=Fi(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(b||!p?[Ev(l)]:YQ(l)),S=y!=="none";!h&&S&&j.push(...JQ(l,p,y,_));const N=[l,...j],C=await Rm(t,x),P=[];let k=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&P.push(C[w]),f){const D=GQ(s,o,_);P.push(C[D[0]],C[D[1]])}if(k=[...k,{placement:s,overflows:P}],!P.every(D=>D<=0)){var A,E;const D=(((A=a.flip)==null?void 0:A.index)||0)+1,V=N[D];if(V&&(!(f==="alignment"?g!==za(V):!1)||k.every(R=>R.overflows[0]>0&&za(R.placement)===g)))return{data:{index:D,overflows:k},reset:{placement:V}};let B=(E=k.filter(F=>F.overflows[0]<=0).sort((F,R)=>F.overflows[1]-R.overflows[1])[0])==null?void 0:E.placement;if(!B)switch(m){case"bestFit":{var I;const F=(I=k.filter(R=>{if(S){const T=za(R.placement);return T===g||T==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(T=>T>0).reduce((T,O)=>T+O,0)]).sort((R,T)=>R[1]-T[1])[0])==null?void 0:I[0];F&&(B=F);break}case"initialPlacement":B=l;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function cT(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function uT(e){return WQ.some(t=>e[t]>=0)}const sZ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Li(e,t);switch(r){case"referenceHidden":{const a=await Rm(t,{...s,elementContext:"reference"}),o=cT(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:uT(o)}}}case"escaped":{const a=await Rm(t,{...s,altBoundary:!0}),o=cT(a,n.floating);return{data:{escapedOffsets:o,escaped:uT(o)}}}default:return{}}}}},G3=new Set(["left","top"]);async function aZ(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Fi(n),l=jf(n),c=za(n)==="y",u=G3.has(o)?-1:1,d=a&&c?-1:1,f=Li(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(m=l==="end"?y*-1:y),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const iZ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await aZ(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},oZ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:w,y:g}=x;return{x:w,y:g}}},...c}=Li(e,t),u={x:n,y:r},d=await Rm(t,c),f=za(Fi(s)),h=yP(f);let m=u[h],y=u[f];if(a){const x=h==="y"?"top":"left",w=h==="y"?"bottom":"right",g=m+d[x],b=m-d[w];m=hj(g,m,b)}if(o){const x=f==="y"?"top":"left",w=f==="y"?"bottom":"right",g=y+d[x],b=y-d[w];y=hj(g,y,b)}const p=l.fn({...t,[h]:m,[f]:y});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[h]:a,[f]:o}}}}}},lZ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Li(e,t),d={x:n,y:r},f=za(s),h=yP(f);let m=d[h],y=d[f];const p=Li(l,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const b=h==="y"?"height":"width",_=a.reference[h]-a.floating[b]+x.mainAxis,j=a.reference[h]+a.reference[b]-x.mainAxis;m<_?m=_:m>j&&(m=j)}if(u){var w,g;const b=h==="y"?"width":"height",_=G3.has(Fi(s)),j=a.reference[f]-a.floating[b]+(_&&((w=o.offset)==null?void 0:w[f])||0)+(_?0:x.crossAxis),S=a.reference[f]+a.reference[b]+(_?0:((g=o.offset)==null?void 0:g[f])||0)-(_?x.crossAxis:0);y<j?y=j:y>S&&(y=S)}return{[h]:m,[f]:y}}}},cZ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Li(e,t),d=await Rm(t,u),f=Fi(s),h=jf(s),m=za(s)==="y",{width:y,height:p}=a.floating;let x,w;f==="top"||f==="bottom"?(x=f,w=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=f,x=h==="end"?"top":"bottom");const g=p-d.top-d.bottom,b=y-d.left-d.right,_=sl(p-d[x],g),j=sl(y-d[w],b),S=!t.middlewareData.shift;let N=_,C=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=g),S&&!h){const k=ls(d.left,0),A=ls(d.right,0),E=ls(d.top,0),I=ls(d.bottom,0);m?C=y-2*(k!==0||A!==0?k+A:ls(d.left,d.right)):N=p-2*(E!==0||I!==0?E+I:ls(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:N});const P=await o.getDimensions(l.floating);return y!==P.width||p!==P.height?{reset:{rects:!0}}:{}}}};function O0(){return typeof window<"u"}function Sf(e){return Y3(e)?(e.nodeName||"").toLowerCase():"#document"}function ms(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function si(e){var t;return(t=(Y3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Y3(e){return O0()?e instanceof Node||e instanceof ms(e).Node:!1}function Ca(e){return O0()?e instanceof Element||e instanceof ms(e).Element:!1}function ni(e){return O0()?e instanceof HTMLElement||e instanceof ms(e).HTMLElement:!1}function dT(e){return!O0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ms(e).ShadowRoot}const uZ=new Set(["inline","contents"]);function Zp(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Pa(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!uZ.has(s)}const dZ=new Set(["table","td","th"]);function fZ(e){return dZ.has(Sf(e))}const hZ=[":popover-open",":modal"];function M0(e){return hZ.some(t=>{try{return e.matches(t)}catch{return!1}})}const mZ=["transform","translate","scale","rotate","perspective"],pZ=["transform","translate","scale","rotate","perspective","filter"],gZ=["paint","layout","strict","content"];function bP(e){const t=wP(),n=Ca(e)?Pa(e):e;return mZ.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||pZ.some(r=>(n.willChange||"").includes(r))||gZ.some(r=>(n.contain||"").includes(r))}function yZ(e){let t=al(e);for(;ni(t)&&!Md(t);){if(bP(t))return t;if(M0(t))return null;t=al(t)}return null}function wP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const vZ=new Set(["html","body","#document"]);function Md(e){return vZ.has(Sf(e))}function Pa(e){return ms(e).getComputedStyle(e)}function R0(e){return Ca(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function al(e){if(Sf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dT(e)&&e.host||si(e);return dT(t)?t.host:t}function X3(e){const t=al(e);return Md(t)?e.ownerDocument?e.ownerDocument.body:e.body:ni(t)&&Zp(t)?t:X3(t)}function Im(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=X3(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),o=ms(s);if(a){const l=pj(o);return t.concat(o,o.visualViewport||[],Zp(s)?s:[],l&&n?Im(l):[])}return t.concat(s,Im(s,[],n))}function pj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Q3(e){const t=Pa(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=ni(e),a=s?e.offsetWidth:n,o=s?e.offsetHeight:r,l=kv(n)!==a||kv(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function _P(e){return Ca(e)?e:e.contextElement}function rd(e){const t=_P(e);if(!ni(t))return Ya(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=Q3(t);let o=(a?kv(n.width):n.width)/r,l=(a?kv(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const xZ=Ya(0);function Z3(e){const t=ms(e);return!wP()||!t.visualViewport?xZ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function bZ(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ms(e)?!1:t}function Ac(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=_P(e);let o=Ya(1);t&&(r?Ca(r)&&(o=rd(r)):o=rd(e));const l=bZ(a,n,r)?Z3(a):Ya(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(a){const h=ms(a),m=r&&Ca(r)?ms(r):r;let y=h,p=pj(y);for(;p&&r&&m!==y;){const x=rd(p),w=p.getBoundingClientRect(),g=Pa(p),b=w.left+(p.clientLeft+parseFloat(g.paddingLeft))*x.x,_=w.top+(p.clientTop+parseFloat(g.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=b,u+=_,y=ms(p),p=pj(y)}}return Av({width:d,height:f,x:c,y:u})}function jP(e,t){const n=R0(e).scrollLeft;return t?t.left+n:Ac(si(e)).left+n}function J3(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:jP(e,r)),a=r.top+t.scrollTop;return{x:s,y:a}}function wZ(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",o=si(r),l=t?M0(t.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=Ya(1);const d=Ya(0),f=ni(r);if((f||!f&&!a)&&((Sf(r)!=="body"||Zp(o))&&(c=R0(r)),ni(r))){const m=Ac(r);u=rd(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=o&&!f&&!a?J3(o,c,!0):Ya(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function _Z(e){return Array.from(e.getClientRects())}function jZ(e){const t=si(e),n=R0(e),r=e.ownerDocument.body,s=ls(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=ls(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+jP(e);const l=-n.scrollTop;return Pa(r).direction==="rtl"&&(o+=ls(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:o,y:l}}function SZ(e,t){const n=ms(e),r=si(e),s=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const u=wP();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}const NZ=new Set(["absolute","fixed"]);function CZ(e,t){const n=Ac(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=ni(e)?rd(e):Ya(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:o,height:l,x:c,y:u}}function fT(e,t,n){let r;if(t==="viewport")r=SZ(e,n);else if(t==="document")r=jZ(si(e));else if(Ca(t))r=CZ(t,n);else{const s=Z3(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Av(r)}function eF(e,t){const n=al(e);return n===t||!Ca(n)||Md(n)?!1:Pa(n).position==="fixed"||eF(n,t)}function PZ(e,t){const n=t.get(e);if(n)return n;let r=Im(e,[],!1).filter(l=>Ca(l)&&Sf(l)!=="body"),s=null;const a=Pa(e).position==="fixed";let o=a?al(e):e;for(;Ca(o)&&!Md(o);){const l=Pa(o),c=bP(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&NZ.has(s.position)||Zp(o)&&!c&&eF(e,o))?r=r.filter(d=>d!==o):s=l,o=al(o)}return t.set(e,r),r}function kZ(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?M0(t)?[]:PZ(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const f=fT(t,d,s);return u.top=ls(f.top,u.top),u.right=sl(f.right,u.right),u.bottom=sl(f.bottom,u.bottom),u.left=ls(f.left,u.left),u},fT(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function EZ(e){const{width:t,height:n}=Q3(e);return{width:t,height:n}}function AZ(e,t,n){const r=ni(t),s=si(t),a=n==="fixed",o=Ac(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Ya(0);function u(){c.x=jP(s)}if(r||!r&&!a)if((Sf(t)!=="body"||Zp(s))&&(l=R0(t)),r){const m=Ac(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();a&&!r&&s&&u();const d=s&&!r&&!a?J3(s,l):Ya(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function zw(e){return Pa(e).position==="static"}function hT(e,t){if(!ni(e)||Pa(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return si(e)===n&&(n=n.ownerDocument.body),n}function tF(e,t){const n=ms(e);if(M0(e))return n;if(!ni(e)){let s=al(e);for(;s&&!Md(s);){if(Ca(s)&&!zw(s))return s;s=al(s)}return n}let r=hT(e,t);for(;r&&fZ(r)&&zw(r);)r=hT(r,t);return r&&Md(r)&&zw(r)&&!bP(r)?n:r||yZ(e)||n}const TZ=async function(e){const t=this.getOffsetParent||tF,n=this.getDimensions,r=await n(e.floating);return{reference:AZ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function OZ(e){return Pa(e).direction==="rtl"}const MZ={convertOffsetParentRelativeRectToViewportRelativeRect:wZ,getDocumentElement:si,getClippingRect:kZ,getOffsetParent:tF,getElementRects:TZ,getClientRects:_Z,getDimensions:EZ,getScale:rd,isElement:Ca,isRTL:OZ};function nF(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function RZ(e,t){let n=null,r;const s=si(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const y=Xg(f),p=Xg(s.clientWidth-(d+h)),x=Xg(s.clientHeight-(f+m)),w=Xg(d),b={rootMargin:-y+"px "+-p+"px "+-x+"px "+-w+"px",threshold:ls(0,sl(1,c))||1};let _=!0;function j(S){const N=S[0].intersectionRatio;if(N!==c){if(!_)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!nF(u,e.getBoundingClientRect())&&o(),_=!1}try{n=new IntersectionObserver(j,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,b)}n.observe(e)}return o(!0),a}function IZ(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=_P(e),d=s||a?[...u?Im(u):[],...Im(t)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),a&&w.addEventListener("resize",n)});const f=u&&l?RZ(u,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(w=>{let[g]=w;g&&g.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let y,p=c?Ac(e):null;c&&x();function x(){const w=Ac(e);p&&!nF(p,w)&&n(),p=w,y=requestAnimationFrame(x)}return n(),()=>{var w;d.forEach(g=>{s&&g.removeEventListener("scroll",n),a&&g.removeEventListener("resize",n)}),f==null||f(),(w=m)==null||w.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const $Z=iZ,DZ=oZ,LZ=rZ,FZ=cZ,BZ=sZ,mT=nZ,VZ=lZ,UZ=(e,t,n)=>{const r=new Map,s={platform:MZ,...n},a={...s.platform,_c:r};return tZ(e,t,{...s,platform:a})};var zZ=typeof document<"u",WZ=function(){},Hy=zZ?v.useLayoutEffect:WZ;function Tv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Tv(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!Tv(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function rF(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pT(e,t){const n=rF(e);return Math.round(t*n)/n}function Ww(e){const t=v.useRef(e);return Hy(()=>{t.current=e}),t}function HZ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=v.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=v.useState(r);Tv(h,r)||m(r);const[y,p]=v.useState(null),[x,w]=v.useState(null),g=v.useCallback(R=>{R!==S.current&&(S.current=R,p(R))},[]),b=v.useCallback(R=>{R!==N.current&&(N.current=R,w(R))},[]),_=a||y,j=o||x,S=v.useRef(null),N=v.useRef(null),C=v.useRef(d),P=c!=null,k=Ww(c),A=Ww(s),E=Ww(u),I=v.useCallback(()=>{if(!S.current||!N.current)return;const R={placement:t,strategy:n,middleware:h};A.current&&(R.platform=A.current),UZ(S.current,N.current,R).then(T=>{const O={...T,isPositioned:E.current!==!1};D.current&&!Tv(C.current,O)&&(C.current=O,Wc.flushSync(()=>{f(O)}))})},[h,t,n,A,E]);Hy(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const D=v.useRef(!1);Hy(()=>(D.current=!0,()=>{D.current=!1}),[]),Hy(()=>{if(_&&(S.current=_),j&&(N.current=j),_&&j){if(k.current)return k.current(_,j,I);I()}},[_,j,I,k,P]);const V=v.useMemo(()=>({reference:S,floating:N,setReference:g,setFloating:b}),[g,b]),B=v.useMemo(()=>({reference:_,floating:j}),[_,j]),F=v.useMemo(()=>{const R={position:n,left:0,top:0};if(!B.floating)return R;const T=pT(B.floating,d.x),O=pT(B.floating,d.y);return l?{...R,transform:"translate("+T+"px, "+O+"px)",...rF(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:T,top:O}},[n,l,B.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:I,refs:V,elements:B,floatingStyles:F}),[d,I,V,B,F])}const qZ=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?mT({element:r.current,padding:s}).fn(n):{}:r?mT({element:r,padding:s}).fn(n):{}}}},KZ=(e,t)=>({...$Z(e),options:[e,t]}),GZ=(e,t)=>({...DZ(e),options:[e,t]}),YZ=(e,t)=>({...VZ(e),options:[e,t]}),XZ=(e,t)=>({...LZ(e),options:[e,t]}),QZ=(e,t)=>({...FZ(e),options:[e,t]}),ZZ=(e,t)=>({...BZ(e),options:[e,t]}),JZ=(e,t)=>({...qZ(e),options:[e,t]});var eJ="Arrow",sF=v.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return i.jsx(Ne.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});sF.displayName=eJ;var tJ=sF;function SP(e){const[t,n]=v.useState(void 0);return Fn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var NP="Popper",[aF,pl]=Yn(NP),[nJ,iF]=aF(NP),oF=e=>{const{__scopePopper:t,children:n}=e,[r,s]=v.useState(null);return i.jsx(nJ,{scope:t,anchor:r,onAnchorChange:s,children:n})};oF.displayName=NP;var lF="PopperAnchor",cF=v.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=iF(lF,n),o=v.useRef(null),l=Ue(t,o);return v.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:i.jsx(Ne.div,{...s,ref:l})});cF.displayName=lF;var CP="PopperContent",[rJ,sJ]=aF(CP),uF=v.forwardRef((e,t)=>{var re,Me,te,J,ae,K;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...p}=e,x=iF(CP,n),[w,g]=v.useState(null),b=Ue(t,Se=>g(Se)),[_,j]=v.useState(null),S=SP(_),N=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,P=r+(a!=="center"?"-"+a:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],E=A.length>0,I={padding:k,boundary:A.filter(iJ),altBoundary:E},{refs:D,floatingStyles:V,placement:B,isPositioned:F,middlewareData:R}=HZ({strategy:"fixed",placement:P,whileElementsMounted:(...Se)=>IZ(...Se,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[KZ({mainAxis:s+C,alignmentAxis:o}),c&&GZ({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?YZ():void 0,...I}),c&&XZ({...I}),QZ({...I,apply:({elements:Se,rects:q,availableWidth:se,availableHeight:ve})=>{const{width:ke,height:ze}=q.reference,$e=Se.floating.style;$e.setProperty("--radix-popper-available-width",`${se}px`),$e.setProperty("--radix-popper-available-height",`${ve}px`),$e.setProperty("--radix-popper-anchor-width",`${ke}px`),$e.setProperty("--radix-popper-anchor-height",`${ze}px`)}}),_&&JZ({element:_,padding:l}),oJ({arrowWidth:N,arrowHeight:C}),h&&ZZ({strategy:"referenceHidden",...I})]}),[T,O]=hF(B),W=dn(y);Fn(()=>{F&&(W==null||W())},[F,W]);const $=(re=R.arrow)==null?void 0:re.x,Y=(Me=R.arrow)==null?void 0:Me.y,U=((te=R.arrow)==null?void 0:te.centerOffset)!==0,[ne,be]=v.useState();return Fn(()=>{w&&be(window.getComputedStyle(w).zIndex)},[w]),i.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:F?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(J=R.transformOrigin)==null?void 0:J.x,(ae=R.transformOrigin)==null?void 0:ae.y].join(" "),...((K=R.hide)==null?void 0:K.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(rJ,{scope:n,placedSide:T,onArrowChange:j,arrowX:$,arrowY:Y,shouldHideArrow:U,children:i.jsx(Ne.div,{"data-side":T,"data-align":O,...p,ref:b,style:{...p.style,animation:F?void 0:"none"}})})})});uF.displayName=CP;var dF="PopperArrow",aJ={top:"bottom",right:"left",bottom:"top",left:"right"},fF=v.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=sJ(dF,r),o=aJ[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(tJ,{...s,ref:n,style:{...s.style,display:"block"}})})});fF.displayName=dF;function iJ(e){return e!==null}var oJ=e=>({name:"transformOrigin",options:e,fn(t){var x,w,g;const{placement:n,rects:r,middlewareData:s}=t,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=hF(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,m=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let y="",p="";return u==="bottom"?(y=o?f:`${h}px`,p=`${-c}px`):u==="top"?(y=o?f:`${h}px`,p=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(y=`${r.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:y,y:p}}}});function hF(e){const[t,n="center"]=e.split("-");return[t,n]}var Jp=oF,eg=cF,I0=uF,$0=fF,[D0,QBe]=Yn("Tooltip",[pl]),L0=pl(),mF="TooltipProvider",lJ=700,gj="tooltip.open",[cJ,PP]=D0(mF),pF=e=>{const{__scopeTooltip:t,delayDuration:n=lJ,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,o=v.useRef(!0),l=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(cJ,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:a})};pF.displayName=mF;var $m="Tooltip",[uJ,F0]=D0($m),gF=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=PP($m,e.__scopeTooltip),u=L0(t),[d,f]=v.useState(null),h=wr(),m=v.useRef(0),y=o??c.disableHoverableContent,p=l??c.delayDuration,x=v.useRef(!1),[w,g]=Kn({prop:r,defaultProp:s??!1,onChange:N=>{N?(c.onOpen(),document.dispatchEvent(new CustomEvent(gj))):c.onClose(),a==null||a(N)},caller:$m}),b=v.useMemo(()=>w?x.current?"delayed-open":"instant-open":"closed",[w]),_=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x.current=!1,g(!0)},[g]),j=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,g(!1)},[g]),S=v.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{x.current=!0,g(!0),m.current=0},p)},[p,g]);return v.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),i.jsx(Jp,{...u,children:i.jsx(uJ,{scope:t,contentId:h,open:w,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayedRef.current?S():_()},[c.isOpenDelayedRef,S,_]),onTriggerLeave:v.useCallback(()=>{y?j():(window.clearTimeout(m.current),m.current=0)},[j,y]),onOpen:_,onClose:j,disableHoverableContent:y,children:n})})};gF.displayName=$m;var yj="TooltipTrigger",yF=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=F0(yj,n),a=PP(yj,n),o=L0(n),l=v.useRef(null),c=Ue(t,l,s.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),f=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(eg,{asChild:!0,...o,children:i.jsx(Ne.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:ce(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ce(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ce(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ce(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ce(e.onBlur,s.onClose),onClick:ce(e.onClick,s.onClose)})})});yF.displayName=yj;var dJ="TooltipPortal",[ZBe,fJ]=D0(dJ,{forceMount:void 0}),Rd="TooltipContent",vF=v.forwardRef((e,t)=>{const n=fJ(Rd,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,o=F0(Rd,e.__scopeTooltip);return i.jsx(Bn,{present:r||o.open,children:o.disableHoverableContent?i.jsx(xF,{side:s,...a,ref:t}):i.jsx(hJ,{side:s,...a,ref:t})})}),hJ=v.forwardRef((e,t)=>{const n=F0(Rd,e.__scopeTooltip),r=PP(Rd,e.__scopeTooltip),s=v.useRef(null),a=Ue(t,s),[o,l]=v.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,h=v.useCallback(()=>{l(null),f(!1)},[f]),m=v.useCallback((y,p)=>{const x=y.currentTarget,w={x:y.clientX,y:y.clientY},g=vJ(w,x.getBoundingClientRect()),b=xJ(w,g),_=bJ(p.getBoundingClientRect()),j=_J([...b,..._]);l(j),f(!0)},[f]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(c&&d){const y=x=>m(x,d),p=x=>m(x,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",p)}}},[c,d,m,h]),v.useEffect(()=>{if(o){const y=p=>{const x=p.target,w={x:p.clientX,y:p.clientY},g=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),b=!wJ(w,o);g?h():b&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,h]),i.jsx(xF,{...e,ref:a})}),[mJ,pJ]=D0($m,{isInside:!1}),gJ=YL("TooltipContent"),xF=v.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=F0(Rd,n),u=L0(n),{onClose:d}=c;return v.useEffect(()=>(document.addEventListener(gj,d),()=>document.removeEventListener(gj,d)),[d]),v.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(Hc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(I0,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(gJ,{children:r}),i.jsx(mJ,{scope:n,isInside:!0,children:i.jsx(DY,{id:c.contentId,role:"tooltip",children:s||r})})]})})});vF.displayName=Rd;var bF="TooltipArrow",yJ=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=L0(n);return pJ(bF,n).isInside?null:i.jsx($0,{...s,...r,ref:t})});yJ.displayName=bF;function vJ(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function xJ(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function bJ(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function wJ(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(s=!s)}return s}function _J(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),jJ(t)}function jJ(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var SJ=pF,NJ=gF,CJ=yF,wF=vF;const kP=SJ,_F=NJ,jF=CJ,EP=v.forwardRef(({className:e,sideOffset:t=4,...n},r)=>i.jsx(wF,{ref:r,sideOffset:t,className:ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));EP.displayName=wF.displayName;var Nf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Tc=typeof window>"u"||"Deno"in globalThis;function kr(){}function PJ(e,t){return typeof e=="function"?e(t):e}function vj(e){return typeof e=="number"&&e>=0&&e!==1/0}function SF(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Go(e,t){return typeof e=="function"?e(t):e}function As(e,t){return typeof e=="function"?e(t):e}function gT(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==AP(o,t.options))return!1}else if(!Dm(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function yT(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Oc(t.options.mutationKey)!==Oc(a))return!1}else if(!Dm(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function AP(e,t){return((t==null?void 0:t.queryKeyHashFn)||Oc)(e)}function Oc(e){return JSON.stringify(e,(t,n)=>xj(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Dm(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Dm(e[n],t[n])):!1}function NF(e,t){if(e===t)return e;const n=vT(e)&&vT(t);if(n||xj(e)&&xj(t)){const r=n?e:Object.keys(e),s=r.length,a=n?t:Object.keys(t),o=a.length,l=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<o;d++){const f=n?d:a[d];(!n&&c.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=NF(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return s===o&&u===s?e:l}return t}function Ov(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function vT(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function xj(e){if(!xT(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!xT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function xT(e){return Object.prototype.toString.call(e)==="[object Object]"}function kJ(e){return new Promise(t=>{setTimeout(t,e)})}function bj(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?NF(e,t):t}function EJ(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function AJ(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var TP=Symbol();function CF(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===TP?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function PF(e,t){return typeof e=="function"?e(...t):!!e}var ic,No,fd,S4,TJ=(S4=class extends Nf{constructor(){super();De(this,ic);De(this,No);De(this,fd);we(this,fd,t=>{if(!Tc&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,No)||this.setEventListener(z(this,fd))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,No))==null||t.call(this),we(this,No,void 0))}setEventListener(t){var n;we(this,fd,t),(n=z(this,No))==null||n.call(this),we(this,No,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){z(this,ic)!==t&&(we(this,ic,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof z(this,ic)=="boolean"?z(this,ic):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ic=new WeakMap,No=new WeakMap,fd=new WeakMap,S4),OP=new TJ,hd,Co,md,N4,OJ=(N4=class extends Nf{constructor(){super();De(this,hd,!0);De(this,Co);De(this,md);we(this,md,t=>{if(!Tc&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,Co)||this.setEventListener(z(this,md))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,Co))==null||t.call(this),we(this,Co,void 0))}setEventListener(t){var n;we(this,md,t),(n=z(this,Co))==null||n.call(this),we(this,Co,t(this.setOnline.bind(this)))}setOnline(t){z(this,hd)!==t&&(we(this,hd,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return z(this,hd)}},hd=new WeakMap,Co=new WeakMap,md=new WeakMap,N4),Mv=new OJ;function wj(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function MJ(e){return Math.min(1e3*2**e,3e4)}function kF(e){return(e??"online")==="online"?Mv.isOnline():!0}var EF=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Hw(e){return e instanceof EF}function AF(e){let t=!1,n=0,r=!1,s;const a=wj(),o=p=>{var x;r||(h(new EF(p)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>OP.isFocused()&&(e.networkMode==="always"||Mv.isOnline())&&e.canRun(),d=()=>kF(e.networkMode)&&e.canRun(),f=p=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,p),s==null||s(),a.resolve(p))},h=p=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,p),s==null||s(),a.reject(p))},m=()=>new Promise(p=>{var x;s=w=>{(r||u())&&p(w)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;s=void 0,r||(p=e.onContinue)==null||p.call(e)}),y=()=>{if(r)return;let p;const x=n===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(w){p=Promise.reject(w)}Promise.resolve(p).then(f).catch(w=>{var S;if(r)return;const g=e.retry??(Tc?0:3),b=e.retryDelay??MJ,_=typeof b=="function"?b(n,w):b,j=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,w);if(t||!j){h(w);return}n++,(S=e.onFail)==null||S.call(e,n,w),kJ(_).then(()=>u()?void 0:m()).then(()=>{t?h(w):y()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():m().then(y),a)}}var RJ=e=>setTimeout(e,0);function IJ(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=RJ;const a=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var In=IJ(),oc,C4,TF=(C4=class{constructor(){De(this,oc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vj(this.gcTime)&&we(this,oc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Tc?1/0:5*60*1e3))}clearGcTimeout(){z(this,oc)&&(clearTimeout(z(this,oc)),we(this,oc,void 0))}},oc=new WeakMap,C4),pd,lc,Es,cc,fr,Lp,uc,ca,fi,P4,$J=(P4=class extends TF{constructor(t){super();De(this,ca);De(this,pd);De(this,lc);De(this,Es);De(this,cc);De(this,fr);De(this,Lp);De(this,uc);we(this,uc,!1),we(this,Lp,t.defaultOptions),this.setOptions(t.options),this.observers=[],we(this,cc,t.client),we(this,Es,z(this,cc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,we(this,pd,DJ(this.options)),this.state=t.state??z(this,pd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=z(this,fr))==null?void 0:t.promise}setOptions(t){this.options={...z(this,Lp),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Es).remove(this)}setData(t,n){const r=bj(this.state.data,t,this.options);return Ze(this,ca,fi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ze(this,ca,fi).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=z(this,fr))==null?void 0:r.promise;return(s=z(this,fr))==null||s.cancel(t),n?n.then(kr).catch(kr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,pd))}isActive(){return this.observers.some(t=>As(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===TP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Go(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!SF(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=z(this,fr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=z(this,fr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),z(this,Es).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(z(this,fr)&&(z(this,uc)?z(this,fr).cancel({revert:!0}):z(this,fr).cancelRetry()),this.scheduleGc()),z(this,Es).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,ca,fi).call(this,{type:"invalidate"})}fetch(t,n){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(z(this,fr))return z(this,fr).continueRetry(),z(this,fr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(we(this,uc,!0),r.signal)})},a=()=>{const h=CF(this.options,n),y=(()=>{const p={client:z(this,cc),queryKey:this.queryKey,meta:this.meta};return s(p),p})();return we(this,uc,!1),this.options.persister?this.options.persister(h,y,this):h(y)},l=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:z(this,cc),state:this.state,fetchFn:a};return s(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),we(this,lc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Ze(this,ca,fi).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,y,p,x;Hw(h)&&h.silent||Ze(this,ca,fi).call(this,{type:"error",error:h}),Hw(h)||((y=(m=z(this,Es).config).onError)==null||y.call(m,h,this),(x=(p=z(this,Es).config).onSettled)==null||x.call(p,this.state.data,h,this)),this.scheduleGc()};return we(this,fr,AF({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var m,y,p,x;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){c(w);return}(y=(m=z(this,Es).config).onSuccess)==null||y.call(m,h,this),(x=(p=z(this,Es).config).onSettled)==null||x.call(p,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{Ze(this,ca,fi).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Ze(this,ca,fi).call(this,{type:"pause"})},onContinue:()=>{Ze(this,ca,fi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),z(this,fr).start()}},pd=new WeakMap,lc=new WeakMap,Es=new WeakMap,cc=new WeakMap,fr=new WeakMap,Lp=new WeakMap,uc=new WeakMap,ca=new WeakSet,fi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...OF(r.data,this.options),fetchMeta:t.meta??null};case"success":return we(this,lc,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Hw(s)&&s.revert&&z(this,lc)?{...z(this,lc),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),In.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),z(this,Es).notify({query:this,type:"updated",action:t})})},P4);function OF(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kF(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function DJ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $a,k4,LJ=(k4=class extends Nf{constructor(t={}){super();De(this,$a);this.config=t,we(this,$a,new Map)}build(t,n,r){const s=n.queryKey,a=n.queryHash??AP(s,n);let o=this.get(a);return o||(o=new $J({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){z(this,$a).has(t.queryHash)||(z(this,$a).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=z(this,$a).get(t.queryHash);n&&(t.destroy(),n===t&&z(this,$a).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){In.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return z(this,$a).get(t)}getAll(){return[...z(this,$a).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>gT(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>gT(t,r)):n}notify(t){In.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){In.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){In.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},$a=new WeakMap,k4),Da,Nr,dc,La,uo,E4,FJ=(E4=class extends TF{constructor(t){super();De(this,La);De(this,Da);De(this,Nr);De(this,dc);this.mutationId=t.mutationId,we(this,Nr,t.mutationCache),we(this,Da,[]),this.state=t.state||MF(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){z(this,Da).includes(t)||(z(this,Da).push(t),this.clearGcTimeout(),z(this,Nr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){we(this,Da,z(this,Da).filter(n=>n!==t)),this.scheduleGc(),z(this,Nr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){z(this,Da).length||(this.state.status==="pending"?this.scheduleGc():z(this,Nr).remove(this))}continue(){var t;return((t=z(this,dc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,l,c,u,d,f,h,m,y,p,x,w,g,b,_,j,S,N,C;const n=()=>{Ze(this,La,uo).call(this,{type:"continue"})};we(this,dc,AF({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,k)=>{Ze(this,La,uo).call(this,{type:"failed",failureCount:P,error:k})},onPause:()=>{Ze(this,La,uo).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Nr).canRun(this)}));const r=this.state.status==="pending",s=!z(this,dc).canStart();try{if(r)n();else{Ze(this,La,uo).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(a=z(this,Nr).config).onMutate)==null?void 0:o.call(a,t,this));const k=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));k!==this.state.context&&Ze(this,La,uo).call(this,{type:"pending",context:k,variables:t,isPaused:s})}const P=await z(this,dc).start();return await((d=(u=z(this,Nr).config).onSuccess)==null?void 0:d.call(u,P,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,P,t,this.state.context)),await((y=(m=z(this,Nr).config).onSettled)==null?void 0:y.call(m,P,null,this.state.variables,this.state.context,this)),await((x=(p=this.options).onSettled)==null?void 0:x.call(p,P,null,t,this.state.context)),Ze(this,La,uo).call(this,{type:"success",data:P}),P}catch(P){try{throw await((g=(w=z(this,Nr).config).onError)==null?void 0:g.call(w,P,t,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,P,t,this.state.context)),await((S=(j=z(this,Nr).config).onSettled)==null?void 0:S.call(j,void 0,P,this.state.variables,this.state.context,this)),await((C=(N=this.options).onSettled)==null?void 0:C.call(N,void 0,P,t,this.state.context)),P}finally{Ze(this,La,uo).call(this,{type:"error",error:P})}}finally{z(this,Nr).runNext(this)}}},Da=new WeakMap,Nr=new WeakMap,dc=new WeakMap,La=new WeakSet,uo=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),In.batch(()=>{z(this,Da).forEach(r=>{r.onMutationUpdate(t)}),z(this,Nr).notify({mutation:this,type:"updated",action:t})})},E4);function MF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xi,ua,Fp,A4,BJ=(A4=class extends Nf{constructor(t={}){super();De(this,xi);De(this,ua);De(this,Fp);this.config=t,we(this,xi,new Set),we(this,ua,new Map),we(this,Fp,0)}build(t,n,r){const s=new FJ({mutationCache:this,mutationId:++kg(this,Fp)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){z(this,xi).add(t);const n=Qg(t);if(typeof n=="string"){const r=z(this,ua).get(n);r?r.push(t):z(this,ua).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(z(this,xi).delete(t)){const n=Qg(t);if(typeof n=="string"){const r=z(this,ua).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&z(this,ua).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Qg(t);if(typeof n=="string"){const r=z(this,ua).get(n),s=r==null?void 0:r.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Qg(t);if(typeof n=="string"){const s=(r=z(this,ua).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){In.batch(()=>{z(this,xi).forEach(t=>{this.notify({type:"removed",mutation:t})}),z(this,xi).clear(),z(this,ua).clear()})}getAll(){return Array.from(z(this,xi))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>yT(n,r))}findAll(t={}){return this.getAll().filter(n=>yT(t,n))}notify(t){In.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return In.batch(()=>Promise.all(t.map(n=>n.continue().catch(kr))))}},xi=new WeakMap,ua=new WeakMap,Fp=new WeakMap,A4);function Qg(e){var t;return(t=e.options.scope)==null?void 0:t.id}function bT(e){return{onFetch:(t,n)=>{var d,f,h,m,y;const r=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((m=t.state.data)==null?void 0:m.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},w=CF(t.options,t.fetchOptions),g=async(b,_,j)=>{if(p)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const N=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};return x(A),A})(),C=await w(N),{maxPages:P}=t.options,k=j?AJ:EJ;return{pages:k(b.pages,C,P),pageParams:k(b.pageParams,_,P)}};if(s&&a.length){const b=s==="backward",_=b?VJ:wT,j={pages:a,pageParams:o},S=_(r,j);l=await g(j,S,b)}else{const b=e??a.length;do{const _=c===0?o[0]??r.initialPageParam:wT(r,l);if(c>0&&_==null)break;l=await g(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function wT(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function VJ(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var sn,Po,ko,gd,yd,Eo,vd,xd,T4,UJ=(T4=class{constructor(e={}){De(this,sn);De(this,Po);De(this,ko);De(this,gd);De(this,yd);De(this,Eo);De(this,vd);De(this,xd);we(this,sn,e.queryCache||new LJ),we(this,Po,e.mutationCache||new BJ),we(this,ko,e.defaultOptions||{}),we(this,gd,new Map),we(this,yd,new Map),we(this,Eo,0)}mount(){kg(this,Eo)._++,z(this,Eo)===1&&(we(this,vd,OP.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,sn).onFocus())})),we(this,xd,Mv.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,sn).onOnline())})))}unmount(){var e,t;kg(this,Eo)._--,z(this,Eo)===0&&((e=z(this,vd))==null||e.call(this),we(this,vd,void 0),(t=z(this,xd))==null||t.call(this),we(this,xd,void 0))}isFetching(e){return z(this,sn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return z(this,Po).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=z(this,sn).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=z(this,sn).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Go(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return z(this,sn).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=z(this,sn).get(r.queryHash),a=s==null?void 0:s.state.data,o=PJ(t,a);if(o!==void 0)return z(this,sn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return In.batch(()=>z(this,sn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=z(this,sn).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=z(this,sn);In.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=z(this,sn);return In.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=In.batch(()=>z(this,sn).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(kr).catch(kr)}invalidateQueries(e,t={}){return In.batch(()=>(z(this,sn).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=In.batch(()=>z(this,sn).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(kr)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(kr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=z(this,sn).build(this,t);return n.isStaleByTime(Go(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(kr).catch(kr)}fetchInfiniteQuery(e){return e.behavior=bT(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(kr).catch(kr)}ensureInfiniteQueryData(e){return e.behavior=bT(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Mv.isOnline()?z(this,Po).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,sn)}getMutationCache(){return z(this,Po)}getDefaultOptions(){return z(this,ko)}setDefaultOptions(e){we(this,ko,e)}setQueryDefaults(e,t){z(this,gd).set(Oc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...z(this,gd).values()],n={};return t.forEach(r=>{Dm(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){z(this,yd).set(Oc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...z(this,yd).values()],n={};return t.forEach(r=>{Dm(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...z(this,ko).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=AP(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===TP&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...z(this,ko).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){z(this,sn).clear(),z(this,Po).clear()}},sn=new WeakMap,Po=new WeakMap,ko=new WeakMap,gd=new WeakMap,yd=new WeakMap,Eo=new WeakMap,vd=new WeakMap,xd=new WeakMap,T4),Lr,at,Bp,Cr,fc,bd,Ao,To,Vp,wd,_d,hc,mc,Oo,jd,_t,Rh,_j,jj,Sj,Nj,Cj,Pj,kj,RF,O4,zJ=(O4=class extends Nf{constructor(t,n){super();De(this,_t);De(this,Lr);De(this,at);De(this,Bp);De(this,Cr);De(this,fc);De(this,bd);De(this,Ao);De(this,To);De(this,Vp);De(this,wd);De(this,_d);De(this,hc);De(this,mc);De(this,Oo);De(this,jd,new Set);this.options=n,we(this,Lr,t),we(this,To,null),we(this,Ao,wj()),this.options.experimental_prefetchInRender||z(this,Ao).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(z(this,at).addObserver(this),_T(z(this,at),this.options)?Ze(this,_t,Rh).call(this):this.updateResult(),Ze(this,_t,Nj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ej(z(this,at),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ej(z(this,at),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ze(this,_t,Cj).call(this),Ze(this,_t,Pj).call(this),z(this,at).removeObserver(this)}setOptions(t){const n=this.options,r=z(this,at);if(this.options=z(this,Lr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof As(this.options.enabled,z(this,at))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ze(this,_t,kj).call(this),z(this,at).setOptions(this.options),n._defaulted&&!Ov(this.options,n)&&z(this,Lr).getQueryCache().notify({type:"observerOptionsUpdated",query:z(this,at),observer:this});const s=this.hasListeners();s&&jT(z(this,at),r,this.options,n)&&Ze(this,_t,Rh).call(this),this.updateResult(),s&&(z(this,at)!==r||As(this.options.enabled,z(this,at))!==As(n.enabled,z(this,at))||Go(this.options.staleTime,z(this,at))!==Go(n.staleTime,z(this,at)))&&Ze(this,_t,_j).call(this);const a=Ze(this,_t,jj).call(this);s&&(z(this,at)!==r||As(this.options.enabled,z(this,at))!==As(n.enabled,z(this,at))||a!==z(this,Oo))&&Ze(this,_t,Sj).call(this,a)}getOptimisticResult(t){const n=z(this,Lr).getQueryCache().build(z(this,Lr),t),r=this.createResult(n,t);return HJ(this,r)&&(we(this,Cr,r),we(this,bd,this.options),we(this,fc,z(this,at).state)),r}getCurrentResult(){return z(this,Cr)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(t){z(this,jd).add(t)}getCurrentQuery(){return z(this,at)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=z(this,Lr).defaultQueryOptions(t),r=z(this,Lr).getQueryCache().build(z(this,Lr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Ze(this,_t,Rh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),z(this,Cr)))}createResult(t,n){var P;const r=z(this,at),s=this.options,a=z(this,Cr),o=z(this,fc),l=z(this,bd),u=t!==r?t.state:z(this,Bp),{state:d}=t;let f={...d},h=!1,m;if(n._optimisticResults){const k=this.hasListeners(),A=!k&&_T(t,n),E=k&&jT(t,r,n,s);(A||E)&&(f={...f,...OF(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:p,status:x}=f;m=f.data;let w=!1;if(n.placeholderData!==void 0&&m===void 0&&x==="pending"){let k;a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(k=a.data,w=!0):k=typeof n.placeholderData=="function"?n.placeholderData((P=z(this,_d))==null?void 0:P.state.data,z(this,_d)):n.placeholderData,k!==void 0&&(x="success",m=bj(a==null?void 0:a.data,k,n),h=!0)}if(n.select&&m!==void 0&&!w)if(a&&m===(o==null?void 0:o.data)&&n.select===z(this,Vp))m=z(this,wd);else try{we(this,Vp,n.select),m=n.select(m),m=bj(a==null?void 0:a.data,m,n),we(this,wd,m),we(this,To,null)}catch(k){we(this,To,k)}z(this,To)&&(y=z(this,To),m=z(this,wd),p=Date.now(),x="error");const g=f.fetchStatus==="fetching",b=x==="pending",_=x==="error",j=b&&g,S=m!==void 0,C={status:x,fetchStatus:f.fetchStatus,isPending:b,isSuccess:x==="success",isError:_,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!b,isLoadingError:_&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&S,isStale:MP(t,n),refetch:this.refetch,promise:z(this,Ao),isEnabled:As(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const k=I=>{C.status==="error"?I.reject(C.error):C.data!==void 0&&I.resolve(C.data)},A=()=>{const I=we(this,Ao,C.promise=wj());k(I)},E=z(this,Ao);switch(E.status){case"pending":t.queryHash===r.queryHash&&k(E);break;case"fulfilled":(C.status==="error"||C.data!==E.value)&&A();break;case"rejected":(C.status!=="error"||C.error!==E.reason)&&A();break}}return C}updateResult(){const t=z(this,Cr),n=this.createResult(z(this,at),this.options);if(we(this,fc,z(this,at).state),we(this,bd,this.options),z(this,fc).data!==void 0&&we(this,_d,z(this,at)),Ov(n,t))return;we(this,Cr,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!z(this,jd).size)return!0;const o=new Set(a??z(this,jd));return this.options.throwOnError&&o.add("error"),Object.keys(z(this,Cr)).some(l=>{const c=l;return z(this,Cr)[c]!==t[c]&&o.has(c)})};Ze(this,_t,RF).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ze(this,_t,Nj).call(this)}},Lr=new WeakMap,at=new WeakMap,Bp=new WeakMap,Cr=new WeakMap,fc=new WeakMap,bd=new WeakMap,Ao=new WeakMap,To=new WeakMap,Vp=new WeakMap,wd=new WeakMap,_d=new WeakMap,hc=new WeakMap,mc=new WeakMap,Oo=new WeakMap,jd=new WeakMap,_t=new WeakSet,Rh=function(t){Ze(this,_t,kj).call(this);let n=z(this,at).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(kr)),n},_j=function(){Ze(this,_t,Cj).call(this);const t=Go(this.options.staleTime,z(this,at));if(Tc||z(this,Cr).isStale||!vj(t))return;const r=SF(z(this,Cr).dataUpdatedAt,t)+1;we(this,hc,setTimeout(()=>{z(this,Cr).isStale||this.updateResult()},r))},jj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(z(this,at)):this.options.refetchInterval)??!1},Sj=function(t){Ze(this,_t,Pj).call(this),we(this,Oo,t),!(Tc||As(this.options.enabled,z(this,at))===!1||!vj(z(this,Oo))||z(this,Oo)===0)&&we(this,mc,setInterval(()=>{(this.options.refetchIntervalInBackground||OP.isFocused())&&Ze(this,_t,Rh).call(this)},z(this,Oo)))},Nj=function(){Ze(this,_t,_j).call(this),Ze(this,_t,Sj).call(this,Ze(this,_t,jj).call(this))},Cj=function(){z(this,hc)&&(clearTimeout(z(this,hc)),we(this,hc,void 0))},Pj=function(){z(this,mc)&&(clearInterval(z(this,mc)),we(this,mc,void 0))},kj=function(){const t=z(this,Lr).getQueryCache().build(z(this,Lr),this.options);if(t===z(this,at))return;const n=z(this,at);we(this,at,t),we(this,Bp,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},RF=function(t){In.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(z(this,Cr))}),z(this,Lr).getQueryCache().notify({query:z(this,at),type:"observerResultsUpdated"})})},O4);function WJ(e,t){return As(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function _T(e,t){return WJ(e,t)||e.state.data!==void 0&&Ej(e,t,t.refetchOnMount)}function Ej(e,t,n){if(As(t.enabled,e)!==!1&&Go(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&MP(e,t)}return!1}function jT(e,t,n,r){return(e!==t||As(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&MP(e,n)}function MP(e,t){return As(t.enabled,e)!==!1&&e.isStaleByTime(Go(t.staleTime,e))}function HJ(e,t){return!Ov(e.getCurrentResult(),t)}var Mo,Ro,Fr,bi,Oi,qy,Aj,M4,qJ=(M4=class extends Nf{constructor(n,r){super();De(this,Oi);De(this,Mo);De(this,Ro);De(this,Fr);De(this,bi);we(this,Mo,n),this.setOptions(r),this.bindMethods(),Ze(this,Oi,qy).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=z(this,Mo).defaultMutationOptions(n),Ov(this.options,r)||z(this,Mo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:z(this,Fr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Oc(r.mutationKey)!==Oc(this.options.mutationKey)?this.reset():((s=z(this,Fr))==null?void 0:s.state.status)==="pending"&&z(this,Fr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=z(this,Fr))==null||n.removeObserver(this)}onMutationUpdate(n){Ze(this,Oi,qy).call(this),Ze(this,Oi,Aj).call(this,n)}getCurrentResult(){return z(this,Ro)}reset(){var n;(n=z(this,Fr))==null||n.removeObserver(this),we(this,Fr,void 0),Ze(this,Oi,qy).call(this),Ze(this,Oi,Aj).call(this)}mutate(n,r){var s;return we(this,bi,r),(s=z(this,Fr))==null||s.removeObserver(this),we(this,Fr,z(this,Mo).getMutationCache().build(z(this,Mo),this.options)),z(this,Fr).addObserver(this),z(this,Fr).execute(n)}},Mo=new WeakMap,Ro=new WeakMap,Fr=new WeakMap,bi=new WeakMap,Oi=new WeakSet,qy=function(){var r;const n=((r=z(this,Fr))==null?void 0:r.state)??MF();we(this,Ro,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Aj=function(n){In.batch(()=>{var r,s,a,o,l,c,u,d;if(z(this,bi)&&this.hasListeners()){const f=z(this,Ro).variables,h=z(this,Ro).context;(n==null?void 0:n.type)==="success"?((s=(r=z(this,bi)).onSuccess)==null||s.call(r,n.data,f,h),(o=(a=z(this,bi)).onSettled)==null||o.call(a,n.data,null,f,h)):(n==null?void 0:n.type)==="error"&&((c=(l=z(this,bi)).onError)==null||c.call(l,n.error,f,h),(d=(u=z(this,bi)).onSettled)==null||d.call(u,void 0,n.error,f,h))}this.listeners.forEach(f=>{f(z(this,Ro))})})},M4),IF=v.createContext(void 0),St=e=>{const t=v.useContext(IF);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},KJ=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(IF.Provider,{value:e,children:t})),$F=v.createContext(!1),GJ=()=>v.useContext($F);$F.Provider;function YJ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var XJ=v.createContext(YJ()),QJ=()=>v.useContext(XJ),ZJ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},JJ=e=>{v.useEffect(()=>{e.clearReset()},[e])},eee=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||PF(n,[e.error,r])),tee=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},nee=(e,t)=>e.isLoading&&e.isFetching&&!t,ree=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,ST=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function see(e,t,n){var f,h,m,y,p;const r=GJ(),s=QJ(),a=St(),o=a.defaultQueryOptions(e);(h=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",tee(o),ZJ(o,s),JJ(s);const l=!a.getQueryCache().get(o.queryHash),[c]=v.useState(()=>new t(a,o)),u=c.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(x=>{const w=d?c.subscribe(In.batchCalls(x)):kr;return c.updateResult(),w},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(o)},[o,c]),ree(o,u))throw ST(o,c,s);if(eee({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((y=(m=a.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,o,u),o.experimental_prefetchInRender&&!Tc&&nee(u,r)){const x=l?ST(o,c,s):(p=a.getQueryCache().get(o.queryHash))==null?void 0:p.promise;x==null||x.catch(kr).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function jt(e,t){return see(e,zJ)}function Qt(e,t){const n=St(),[r]=v.useState(()=>new qJ(n,e));v.useEffect(()=>{r.setOptions(e)},[r,e]);const s=v.useSyncExternalStore(v.useCallback(o=>r.subscribe(In.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=v.useCallback((o,l)=>{r.mutate(o,l).catch(kr)},[r]);if(s.error&&PF(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lm.apply(this,arguments)}var Do;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Do||(Do={}));const NT="popstate";function aee(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:o,hash:l}=r.location;return Tj("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Rv(s)}return oee(t,n,null,e)}function xn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function DF(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iee(){return Math.random().toString(36).substr(2,8)}function CT(e,t){return{usr:e.state,key:e.key,idx:t}}function Tj(e,t,n,r){return n===void 0&&(n=null),Lm({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Cf(t):t,{state:n,key:t&&t.key||r||iee()})}function Rv(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Cf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function oee(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,l=Do.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Lm({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Do.Pop;let x=d(),w=x==null?null:x-u;u=x,c&&c({action:l,location:p.location,delta:w})}function h(x,w){l=Do.Push;let g=Tj(p.location,x,w);u=d()+1;let b=CT(g,u),_=p.createHref(g);try{o.pushState(b,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}a&&c&&c({action:l,location:p.location,delta:1})}function m(x,w){l=Do.Replace;let g=Tj(p.location,x,w);u=d();let b=CT(g,u),_=p.createHref(g);o.replaceState(b,"",_),a&&c&&c({action:l,location:p.location,delta:0})}function y(x){let w=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof x=="string"?x:Rv(x);return g=g.replace(/ $/,"%20"),xn(w,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,w)}let p={get action(){return l},get location(){return e(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(NT,f),c=x,()=>{s.removeEventListener(NT,f),c=null}},createHref(x){return t(s,x)},createURL:y,encodeLocation(x){let w=y(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:m,go(x){return o.go(x)}};return p}var PT;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(PT||(PT={}));function lee(e,t,n){return n===void 0&&(n="/"),cee(e,t,n,!1)}function cee(e,t,n,r){let s=typeof t=="string"?Cf(t):t,a=RP(s.pathname||"/",n);if(a==null)return null;let o=LF(e);uee(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=wee(a);l=xee(o[c],u,r)}return l}function LF(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(xn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Yo([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(xn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),LF(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:yee(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of FF(a.path))s(a,o,c)}),t}function FF(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let o=FF(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function uee(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:vee(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const dee=/^:[\w-]+$/,fee=3,hee=2,mee=1,pee=10,gee=-2,kT=e=>e==="*";function yee(e,t){let n=e.split("/"),r=n.length;return n.some(kT)&&(r+=gee),t&&(r+=hee),n.filter(s=>!kT(s)).reduce((s,a)=>s+(dee.test(a)?fee:a===""?mee:pee),r)}function vee(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function xee(e,t,n){let{routesMeta:r}=e,s={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=ET({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=ET({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Yo([a,f.pathname]),pathnameBase:Nee(Yo([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Yo([a,f.pathnameBase]))}return o}function ET(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=bee(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";o=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const y=l[f];return m&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function bee(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),DF(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function wee(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return DF(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function RP(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function _ee(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Cf(e):e;return{pathname:n?n.startsWith("/")?n:jee(n,t):t,search:Cee(r),hash:Pee(s)}}function jee(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function qw(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function See(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function IP(e,t){let n=See(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $P(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Cf(e):(s=Lm({},e),xn(!s.pathname||!s.pathname.includes("?"),qw("?","pathname","search",s)),xn(!s.pathname||!s.pathname.includes("#"),qw("#","pathname","hash",s)),xn(!s.search||!s.search.includes("#"),qw("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=_ee(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Yo=e=>e.join("/").replace(/\/\/+/g,"/"),Nee=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Cee=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Pee=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function kee(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const BF=["post","put","patch","delete"];new Set(BF);const Eee=["get",...BF];new Set(Eee);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fm(){return Fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fm.apply(this,arguments)}const DP=v.createContext(null),Aee=v.createContext(null),gl=v.createContext(null),B0=v.createContext(null),Yi=v.createContext({outlet:null,matches:[],isDataRoute:!1}),VF=v.createContext(null);function Tee(e,t){let{relative:n}=t===void 0?{}:t;Pf()||xn(!1);let{basename:r,navigator:s}=v.useContext(gl),{hash:a,pathname:o,search:l}=WF(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Yo([r,o])),s.createHref({pathname:c,search:l,hash:a})}function Pf(){return v.useContext(B0)!=null}function ka(){return Pf()||xn(!1),v.useContext(B0).location}function UF(e){v.useContext(gl).static||v.useLayoutEffect(e)}function es(){let{isDataRoute:e}=v.useContext(Yi);return e?Wee():Oee()}function Oee(){Pf()||xn(!1);let e=v.useContext(DP),{basename:t,future:n,navigator:r}=v.useContext(gl),{matches:s}=v.useContext(Yi),{pathname:a}=ka(),o=JSON.stringify(IP(s,n.v7_relativeSplatPath)),l=v.useRef(!1);return UF(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=$P(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Yo([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,a,e])}function zF(){let{matches:e}=v.useContext(Yi),t=e[e.length-1];return t?t.params:{}}function WF(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(gl),{matches:s}=v.useContext(Yi),{pathname:a}=ka(),o=JSON.stringify(IP(s,r.v7_relativeSplatPath));return v.useMemo(()=>$P(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function Mee(e,t){return Ree(e,t)}function Ree(e,t,n,r){Pf()||xn(!1);let{navigator:s}=v.useContext(gl),{matches:a}=v.useContext(Yi),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ka(),d;if(t){var f;let x=typeof t=="string"?Cf(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||xn(!1),d=x}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=lee(e,{pathname:m}),p=Fee(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Yo([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Yo([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,n,r);return t&&p?v.createElement(B0.Provider,{value:{location:Fm({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Do.Pop}},p):p}function Iee(){let e=zee(),t=kee(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,null)}const $ee=v.createElement(Iee,null);class Dee extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(Yi.Provider,{value:this.props.routeContext},v.createElement(VF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Lee(e){let{routeContext:t,match:n,children:r}=e,s=v.useContext(DP);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Yi.Provider,{value:t},r)}function Fee(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||xn(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,y=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,y=!1,p=null,x=null;n&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||$ee,c&&(u<0&&h===0?(y=!0,x=null):u===h&&(y=!0,x=f.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,h+1)),g=()=>{let b;return m?b=p:y?b=x:f.route.Component?b=v.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,v.createElement(Lee,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?v.createElement(Dee,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:g(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):g()},null)}var HF=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(HF||{}),Iv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Iv||{});function Bee(e){let t=v.useContext(DP);return t||xn(!1),t}function Vee(e){let t=v.useContext(Aee);return t||xn(!1),t}function Uee(e){let t=v.useContext(Yi);return t||xn(!1),t}function qF(e){let t=Uee(),n=t.matches[t.matches.length-1];return n.route.id||xn(!1),n.route.id}function zee(){var e;let t=v.useContext(VF),n=Vee(Iv.UseRouteError),r=qF(Iv.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Wee(){let{router:e}=Bee(HF.UseNavigateStable),t=qF(Iv.UseNavigateStable),n=v.useRef(!1);return UF(()=>{n.current=!0}),v.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Fm({fromRouteId:t},a)))},[e,t])}function Hee(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function AT(e){let{to:t,replace:n,state:r,relative:s}=e;Pf()||xn(!1);let{future:a,static:o}=v.useContext(gl),{matches:l}=v.useContext(Yi),{pathname:c}=ka(),u=es(),d=$P(t,IP(l,a.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function Nt(e){xn(!1)}function qee(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Do.Pop,navigator:a,static:o=!1,future:l}=e;Pf()&&xn(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:a,static:o,future:Fm({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof r=="string"&&(r=Cf(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:y="default"}=r,p=v.useMemo(()=>{let x=RP(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:m,key:y},navigationType:s}},[c,d,f,h,m,y,s]);return p==null?null:v.createElement(gl.Provider,{value:u},v.createElement(B0.Provider,{children:n,value:p}))}function Kee(e){let{children:t,location:n}=e;return Mee(Oj(t),n)}new Promise(()=>{});function Oj(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let a=[...t,s];if(r.type===v.Fragment){n.push.apply(n,Oj(r.props.children,a));return}r.type!==Nt&&xn(!1),!r.props.index||!r.props.children||xn(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Oj(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mj(){return Mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mj.apply(this,arguments)}function Gee(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Yee(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Xee(e,t){return e.button===0&&(!t||t==="_self")&&!Yee(e)}function Rj(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function Qee(e,t){let n=Rj(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(a=>{n.append(s,a)})}),n}const Zee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Jee="6";try{window.__reactRouterVersion=Jee}catch{}const ete="startTransition",TT=hC[ete];function tte(e){let{basename:t,children:n,future:r,window:s}=e,a=v.useRef();a.current==null&&(a.current=aee({window:s,v5Compat:!0}));let o=a.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=v.useCallback(f=>{u&&TT?TT(()=>c(f)):c(f)},[c,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>Hee(r),[r]),v.createElement(qee,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const nte=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rte=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=v.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=Gee(t,Zee),{basename:m}=v.useContext(gl),y,p=!1;if(typeof u=="string"&&rte.test(u)&&(y=u,nte))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),j=RP(_.pathname,m);_.origin===b.origin&&j!=null?u=j+_.search+_.hash:p=!0}catch{}let x=Tee(u,{relative:s}),w=ste(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function g(b){r&&r(b),b.defaultPrevented||w(b)}return v.createElement("a",Mj({},h,{href:y||x,onClick:p||a?r:g,ref:n,target:c}))});var OT;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(OT||(OT={}));var MT;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(MT||(MT={}));function ste(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=es(),u=ka(),d=WF(e,{relative:o});return v.useCallback(f=>{if(Xee(f,n)){f.preventDefault();let h=r!==void 0?r:Rv(u)===Rv(d);c(e,{replace:h,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,a,o,l])}function V0(e){let t=v.useRef(Rj(e)),n=v.useRef(!1),r=ka(),s=v.useMemo(()=>Qee(r.search,n.current?null:t.current),[r.search]),a=es(),o=v.useCallback((l,c)=>{const u=Rj(typeof l=="function"?l(s):l);n.current=!0,a("?"+u,c)},[a,s]);return[s,o]}var Ba=function(){return Ba=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ba.apply(this,arguments)};function kf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function ate(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})}function ite(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}const ote=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class LP extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class lte extends LP{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class RT extends LP{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class IT extends LP{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ij;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ij||(Ij={}));class cte{constructor(t,{headers:n={},customFetch:r,region:s=Ij.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=ote(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ate(this,arguments,void 0,function*(n,r={}){var s;let a,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=r;let h={},{region:m}=r;m||(m=this.region);const y=new URL(`${this.url}/${n}`);m&&m!=="any"&&(h["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let p;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(h["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(h["Content-Type"]="application/json",p=JSON.stringify(u)):p=u;let x=d;f&&(o=new AbortController,a=setTimeout(()=>o.abort(),f),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const w=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:p,signal:x}).catch(j=>{throw new lte(j)}),g=w.headers.get("x-relay-error");if(g&&g==="true")throw new RT(w);if(!w.ok)throw new IT(w);let b=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return b==="application/json"?_=yield w.json():b==="application/octet-stream"||b==="application/pdf"?_=yield w.blob():b==="text/event-stream"?_=w:b==="multipart/form-data"?_=yield w.formData():_=yield w.text(),{data:_,error:null,response:w}}catch(l){return{data:null,error:l,response:l instanceof IT||l instanceof RT?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var ute=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},dte=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,l=null,c=null,u=a.status,d=a.statusText;if(a.ok){var f,h;if(n.method!=="HEAD"){var m;const w=await a.text();w===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=w:l=JSON.parse(w))}const p=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(h=a.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");p&&x&&x.length>1&&(c=parseInt(x[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var y;const p=await a.text();try{o=JSON.parse(p),Array.isArray(o)&&a.status===404&&(l=[],o=null,u=200,d="OK")}catch{a.status===404&&p===""?(u=204,d="No Content"):o={message:p}}if(o&&n.isMaybeSingle&&(!(o==null||(y=o.details)===null||y===void 0)&&y.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&n.shouldThrowOnError)throw new ute(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(a=>{var o;let l="";const c=a==null?void 0:a.cause;if(c){var u,d,f,h;const y=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",p=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=a==null?void 0:a.name)!==null&&f!==void 0?f:"FetchError"}: ${a==null?void 0:a.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${y}`,p&&(l+=` (${p})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=a==null?void 0:a.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},fte=class extends dte{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const $T=new RegExp("[,()]");var _u=class extends fte{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&$T.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&$T.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},hte=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new _u({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new _u({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var a;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new _u({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var n;const r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new _u({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new _u({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},mte=class KF{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new hte(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new KF(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=n);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new _u({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class pte{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const gte="2.89.0",yte=`realtime-js/${gte}`,GF="1.0.0",vte="2.0.0",DT=GF,$j=1e4,xte=1e3,bte=100;var go;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(go||(go={}));var On;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(On||(On={}));var fa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(fa||(fa={}));var Dj;(function(e){e.websocket="websocket"})(Dj||(Dj={}));var zl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(zl||(zl={}));class wte{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var s,a;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(m),p=0;y.setUint8(p++,this.KINDS.userBroadcastPush),y.setUint8(p++,c.length),y.setUint8(p++,l.length),y.setUint8(p++,o.length),y.setUint8(p++,u.length),y.setUint8(p++,f.length),y.setUint8(p++,n),Array.from(c,w=>y.setUint8(p++,w.charCodeAt(0))),Array.from(l,w=>y.setUint8(p++,w.charCodeAt(0))),Array.from(o,w=>y.setUint8(p++,w.charCodeAt(0))),Array.from(u,w=>y.setUint8(p++,w.charCodeAt(0))),Array.from(f,w=>y.setUint8(p++,w.charCodeAt(0)));var x=new Uint8Array(m.byteLength+r.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(r),m.byteLength),x.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,a,o,l,c]=r;return n({join_ref:s,ref:a,topic:o,event:l,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(t.slice(c,c+s));c=c+s;const d=r.decode(t.slice(c,c+a));c=c+a;const f=r.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,y={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class YF{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Dt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Dt||(Dt={}));const LT=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=_te(o,e,t,s),a),{}):{}},_te=(e,t,n,r)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=n[e];return a&&!r.includes(a)?XF(a,o):Lj(o)},XF=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Cte(t,n)}switch(e){case Dt.bool:return jte(t);case Dt.float4:case Dt.float8:case Dt.int2:case Dt.int4:case Dt.int8:case Dt.numeric:case Dt.oid:return Ste(t);case Dt.json:case Dt.jsonb:return Nte(t);case Dt.timestamp:return Pte(t);case Dt.abstime:case Dt.date:case Dt.daterange:case Dt.int4range:case Dt.int8range:case Dt.money:case Dt.reltime:case Dt.text:case Dt.time:case Dt.timestamptz:case Dt.timetz:case Dt.tsrange:case Dt.tstzrange:return Lj(t);default:return Lj(t)}},Lj=e=>e,jte=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ste=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Nte=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Cte=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>XF(t,l))}return e},Pte=e=>typeof e=="string"?e.replace(" ","T"):e,QF=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Kw{constructor(t,n,r={},s=$j){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var FT;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(FT||(FT={}));class Jh{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jh.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=Jh.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Jh.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const a=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const h=d.map(x=>x.presence_ref),m=f.map(x=>x.presence_ref),y=d.filter(x=>m.indexOf(x.presence_ref)<0),p=f.filter(x=>h.indexOf(x.presence_ref)<0);y.length>0&&(l[u]=y),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var BT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(BT||(BT={}));var em;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(em||(em={}));var mi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(mi||(mi={}));class Bu{constructor(t,n={config:{}},r){var s,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=On.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Kw(this,fa.join,this.params,this.timeout),this.rejoinTimer=new YF(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=On.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=On.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=On.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=On.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=On.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fa.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Jh(this),this.broadcastEndpointURL=QF(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==On.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[em.PRESENCE]&&this.bindings[em.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(mi.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(mi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(mi.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,x=(y=p==null?void 0:p.length)!==null&&y!==void 0?y:0,w=[];for(let g=0;g<x;g++){const b=p[g],{filter:{event:_,schema:j,table:S,filter:N}}=b,C=m&&m[g];if(C&&C.event===_&&Bu.isFilterValueEqual(C.schema,j)&&Bu.isFilterValueEqual(C.table,S)&&Bu.isFilterValueEqual(C.filter,N))w.push(Object.assign(Object.assign({},b),{id:C.id}));else{this.unsubscribe(),this.state=On.errored,t==null||t(mi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(mi.SUBSCRIBED);return}}).receive("error",m=>{this.state=On.errored,t==null||t(mi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(mi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===On.joined&&t===em.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=On.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fa.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Kw(this,fa.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=On.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Kw(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>bte){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=fa;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var y,p,x;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(p=m.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(h,r)):(a=this.bindings[o])===null||a===void 0||a.filter(m=>{var y,p,x,w,g,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,j=(y=m.filter)===null||y===void 0?void 0:y.event;return _&&((p=n.ids)===null||p===void 0?void 0:p.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(g=(w=m==null?void 0:m.filter)===null||w===void 0?void 0:w.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:p,table:x,commit_timestamp:w,type:g,errors:b}=y;h=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:w,eventType:g,new:{},old:{},errors:b}),this._getPayloadRecords(y))}m.callback(h,r)})}_isClosed(){return this.state===On.closed}_isJoined(){return this.state===On.joined}_isJoining(){return this.state===On.joining}_isLeaving(){return this.state===On.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),a={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Bu.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(fa.close,{},t)}_onError(t){this._on(fa.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=On.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=LT(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=LT(t.columns,t.old_record)),n}}const Gw=()=>{},Zg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},kte=[1e3,2e3,5e3,1e4],Ete=1e4,Ate=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Tte{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$j,this.transport=null,this.heartbeatIntervalMs=Zg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gw,this.ref=0,this.reconnectTimer=null,this.vsn=DT,this.logger=Gw,this.conn=null,this.sendBuffer=[],this.serializer=new wte,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Dj.websocket}`,this.httpEndpoint=QF(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=pte.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case go.connecting:return zl.Connecting;case go.open:return zl.Open;case go.closing:return zl.Closing;default:return zl.Closed}}isConnected(){return this.connectionState()===zl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===r);if(s)return s;{const a=new Bu(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(xte,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Zg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:a,ref:o}=n,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===go.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===go.open||this.conn.readyState===go.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(fa.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Ate],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const a={access_token:n,version:yte};n&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(fa.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new YF(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Zg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,a,o,l,c,u,d,f,h,m;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:$j,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Zg.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Gw,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:DT,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>kte[y-1]||Ete,this.vsn){case GF:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(y,p)=>p(JSON.stringify(y)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(y,p)=>p(JSON.parse(y));break;case vte:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Bm=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Ote(e,t,n){const r=new URL(t,e);if(n)for(const[s,a]of Object.entries(n))a!==void 0&&r.searchParams.set(s,a);return r.toString()}async function Mte(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Rte(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:a,headers:o}){const l=Ote(e.baseUrl,r,s),c=await Mte(e.auth),u=await t(l,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...c,...o},body:a?JSON.stringify(a):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,y=m==null?void 0:m.error;throw new Bm((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function Jg(e){return e.join("")}var Ite=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Jg(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Jg(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Jg(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Jg(e.namespace)}`}),!0}catch(t){if(t instanceof Bm&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Bm&&n.status===409)return;throw n}}};function iu(e){return e.join("")}var $te=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${iu(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${iu(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${iu(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${iu(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${iu(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${iu(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Bm&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Bm&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Dte=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Rte({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Ite(this.client,t),this.tableOps=new $te(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},U0=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Zt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Lte=class extends U0{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Fj=class extends U0{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const FP=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Fte=()=>Response,Bj=e=>{if(Array.isArray(e))return e.map(n=>Bj(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Bj(r)}),t},Bte=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Vte=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function Ute(e,t){if(Vm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zte(e){var t=Ute(e,"string");return Vm(t)=="symbol"?t:t+""}function Wte(e,t,n){return(t=zte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(n),!0).forEach(function(r){Wte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Yw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Hte=async(e,t,n)=>{e instanceof await Fte()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,a=(r==null?void 0:r.statusCode)||s+"";t(new Lte(Yw(r),s,a))}).catch(r=>{t(new Fj(Yw(r),r))}):t(new Fj(Yw(e),e))},qte=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(Bte(r)?(s.headers=Be({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Be(Be({},s),n))};async function tg(e,t,n,r,s,a){return new Promise((o,l)=>{e(n,qte(t,r,s,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Hte(c,l,r))})}async function Um(e,t,n,r){return tg(e,"GET",t,n,r)}async function la(e,t,n,r,s){return tg(e,"POST",t,r,s,n)}async function Vj(e,t,n,r,s){return tg(e,"PUT",t,r,s,n)}async function Kte(e,t,n,r){return tg(e,"HEAD",t,Be(Be({},n),{},{noResolveJson:!0}),r)}async function BP(e,t,n,r,s){return tg(e,"DELETE",t,r,s,n)}var Gte=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Zt(t))return{data:null,error:t};throw t}}};let ZF;ZF=Symbol.toStringTag;var Yte=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[ZF]="BlobDownloadBuilder",this.promise=null}asStream(){return new Gte(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Zt(t))return{data:null,error:t};throw t}}};const Xte={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},UT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Qte=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=FP(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let a;const o=Be(Be({},UT),r);let l=Be(Be({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",s.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",s.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(l=Be(Be({},l),r.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?Vj:la)(s.fetch,`${s.url}/object/${d}`,a,Be({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Zt(a))return{data:null,error:a};throw a}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const a=s._removeEmptyFolders(e),o=s._getFinalPath(a),l=new URL(s.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const u=Be({upsert:UT.upsert},r),d=Be(Be({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:a,fullPath:(await Vj(s.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(Zt(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=Be({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const a=await la(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+a.url),l=o.searchParams.get("token");if(!l)throw new U0("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await la(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Zt(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await la(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Zt(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),a=await la(r.fetch,`${r.url}/object/sign/${s}`,Be({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${r.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Zt(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await la(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Be(Be({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Zt(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",a=this._getFinalPath(e),o=()=>Um(this.fetch,`${this.url}/${n}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new Yte(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Bj(await Um(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await Kte(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zt(r)&&r instanceof Fj){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${l}`)}}}async remove(e){var t=this;try{return{data:await BP(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Zt(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=Be(Be(Be({},Xte),t),{},{prefix:e||""});return{data:await la(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Zt(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=Be({},e);return{data:await la(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const JF="2.89.0",eB={"X-Client-Info":`storage-js/${JF}`};var Zte=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Be(Be({},eB),t),this.fetch=FP(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await Um(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Zt(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Um(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Zt(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await la(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Vj(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await la(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Zt(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await BP(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Zt(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Jte=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Be(Be({},eB),t),this.fetch=FP(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await la(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Zt(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await Um(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Zt(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await BP(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Zt(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!Vte(e))throw new U0("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Dte({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,a){const o=s[a];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const VP={"X-Client-Info":`storage-js/${JF}`,"Content-Type":"application/json"};var tB=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function cs(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Xw=class extends tB{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ene=class extends tB{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const UP=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tne=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},zT=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nne=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||r+"";t(new Xw(zT(a),r,o))}).catch(()=>{const a=r+"";t(new Xw(s.statusText||`HTTP ${r} error`,r,a))});else{const a=r+"";t(new Xw(s.statusText||`HTTP ${r} error`,r,a))}}else t(new ene(zT(e),e))},rne=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(tne(r)?(s.headers=Be({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Be(Be({},s),n)):s};async function sne(e,t,n,r,s,a){return new Promise((o,l)=>{e(n,rne(t,r,s,a)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>nne(c,l,r))})}async function us(e,t,n,r,s){return sne(e,"POST",t,r,s,n)}var ane=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Be(Be({},VP),t),this.fetch=UP(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await us(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(cs(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await us(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(cs(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await us(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(cs(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await us(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(cs(r))return{data:null,error:r};throw r}}},ine=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Be(Be({},VP),t),this.fetch=UP(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await us(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(cs(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await us(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(cs(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await us(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(cs(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await us(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(cs(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await us(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(cs(n))return{data:null,error:n};throw n}}},one=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Be(Be({},VP),t),this.fetch=UP(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await us(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(cs(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await us(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(cs(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await us(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(cs(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await us(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(cs(n))return{data:null,error:n};throw n}}},lne=class extends one{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new cne(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},cne=class extends ane{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Be(Be({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Be(Be({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new une(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},une=class extends ine{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Be(Be({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Be(Be({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Be(Be({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Be(Be({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Be(Be({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},dne=class extends Zte{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new Qte(this.url,this.headers,e,this.fetch)}get vectors(){return new lne(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Jte(this.url+"/iceberg",this.headers,this.fetch)}};const nB="2.89.0",ju=30*1e3,Uj=3,Qw=Uj*ju,fne="http://localhost:9999",hne="supabase.auth.token",mne={"X-Client-Info":`gotrue-js/${nB}`},zj="X-Supabase-Api-Version",rB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pne=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gne=10*60*1e3;class zm extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ie(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class yne extends zm{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function vne(e){return Ie(e)&&e.name==="AuthApiError"}class Wl extends zm{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Xi extends zm{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class rs extends Xi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xne(e){return Ie(e)&&e.name==="AuthSessionMissingError"}class ou extends Xi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ey extends Xi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ty extends Xi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bne(e){return Ie(e)&&e.name==="AuthImplicitGrantRedirectError"}class WT extends Xi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wne extends Xi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Wj extends Xi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Zw(e){return Ie(e)&&e.name==="AuthRetryableFetchError"}class HT extends Xi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Hj extends Xi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const $v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qT=` 	
\r=`.split(""),_ne=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qT.length;t+=1)e[qT[t].charCodeAt(0)]=-2;for(let t=0;t<$v.length;t+=1)e[$v[t].charCodeAt(0)]=t;return e})();function KT(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n($v[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n($v[r]),t.queuedBits-=6}}function sB(e,t,n){const r=_ne[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function GT(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{Nne(o,r,n)};for(let o=0;o<e.length;o+=1)sB(e.charCodeAt(o),s,a);return t.join("")}function jne(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Sne(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}jne(r,t)}}function Nne(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function sd(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)sB(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Cne(e){const t=[];return Sne(e,n=>t.push(n)),new Uint8Array(t)}function Xl(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>KT(s,n,r)),KT(null,n,r),t.join("")}function Pne(e){return Math.round(Date.now()/1e3)+e}function kne(){return Symbol("auth-callback")}const Jn=()=>typeof window<"u"&&typeof document<"u",Al={tested:!1,writable:!1},aB=()=>{if(!Jn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Al.tested)return Al.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Al.tested=!0,Al.writable=!0}catch{Al.tested=!0,Al.writable=!1}return Al.writable};function Ene(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const iB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ane=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Su=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Tl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Zn=async(e,t)=>{await e.removeItem(t)};class z0{constructor(){this.promise=new z0.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}z0.promiseConstructor=Promise;function Jw(e){const t=e.split(".");if(t.length!==3)throw new Hj("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!pne.test(t[r]))throw new Hj("JWT not in base64url format");return{header:JSON.parse(GT(t[0])),payload:JSON.parse(GT(t[1])),signature:sd(t[2]),raw:{header:t[0],payload:t[1]}}}async function Tne(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function One(e,t){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function Mne(e){return("0"+e.toString(16)).substr(-2)}function Rne(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,Mne).join("")}async function Ine(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function $ne(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Ine(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function lu(e,t,n=!1){const r=Rne();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Su(e,`${t}-code-verifier`,s);const a=await $ne(r);return[a,r===a?"plain":"s256"]}const Dne=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Lne(e){const t=e.headers.get(zj);if(!t||!t.match(Dne))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Fne(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Bne(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Vne=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cu(e){if(!Vne.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function e1(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Une(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function YT(e){return JSON.parse(JSON.stringify(e))}const $l=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zne=[502,503,504];async function XT(e){var t;if(!Ane(e))throw new Wj($l(e),0);if(zne.includes(e.status))throw new Wj($l(e),e.status);let n;try{n=await e.json()}catch(a){throw new Wl($l(a),a)}let r;const s=Lne(e);if(s&&s.getTime()>=rB["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new HT($l(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new rs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new HT($l(n),e.status,n.weak_password.reasons);throw new yne($l(n),e.status||500,r)}const Wne=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Fe(e,t,n,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[zj]||(a[zj]=rB["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Hne(e,t,n+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Hne(e,t,n,r,s,a){const o=Wne(t,r,s,a);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new Wj($l(c),0)}if(l.ok||await XT(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await XT(c)}}function sa(e){var t;let n=null;Gne(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Pne(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function QT(e){const t=sa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function _o(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function qne(e){return{data:e,error:null}}function Kne(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=e,o=kf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function ZT(e){return e}function Gne(e){return e.access_token&&e.refresh_token&&e.expires_in}const t1=["global","local","others"];class Yne{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=iB(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=t1[0]){if(t1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${t1.join(", ")}`);try{return await Fe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:_o})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=kf(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Kne,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ie(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Fe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_o})}catch(n){if(Ie(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:ZT});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const p=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ie(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){cu(t);try{return await Fe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_o})}catch(n){if(Ie(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){cu(t);try{return await Fe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:_o})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){cu(t);try{return await Fe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:_o})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){cu(t.userId);try{const{data:n,error:r}=await Fe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _deleteFactor(t){cu(t.userId),cu(t.id);try{return{data:await Fe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:ZT});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const p=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ie(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}}function JT(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const uu={debug:!!(globalThis&&aB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class oB extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Xne extends oB{}async function Qne(e,t,n){uu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),uu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){uu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{uu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw uu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Xne(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(uu.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Zne(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function lB(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Jne(e){return parseInt(e,16)}function ere(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function tre(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=lB(e.address),y=d?`${d}://${r}`:r,p=e.statement?`${e.statement}
`:"",x=`${y} wants you to sign in with your Ethereum account:
${m}

${p}`;let w=`URI: ${f}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),l&&(w+=`
Not Before: ${l.toISOString()}`),c&&(w+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);g+=`
- ${b}`}w+=g}return`${x}
${w}`}class jn extends Error{constructor({message:t,code:n,cause:r,name:s}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=s??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Dv extends jn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function nre({error:e,options:t}){var n,r,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new jn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new jn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new jn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new jn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new jn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new jn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new jn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new jn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(cB(o)){if(a.rp.id!==o)return new jn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new jn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new jn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new jn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new jn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function rre({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new jn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new jn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(cB(r)){if(n.rpId!==r)return new jn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new jn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new jn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new jn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class sre{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const are=new sre;function ire(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=kf(e,["challenge","user","excludeCredentials"]),a=sd(t).buffer,o=Object.assign(Object.assign({},n),{id:sd(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:a,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:sd(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function ore(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=kf(e,["challenge","allowCredentials"]),s=sd(t).buffer,a=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:sd(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function lre(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Xl(new Uint8Array(e.response.attestationObject)),clientDataJSON:Xl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function cre(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Xl(new Uint8Array(s.authenticatorData)),clientDataJSON:Xl(new Uint8Array(s.clientDataJSON)),signature:Xl(new Uint8Array(s.signature)),userHandle:s.userHandle?Xl(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function cB(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function eO(){var e,t;return!!(Jn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function ure(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Dv("Browser returned unexpected credential type",t)}:{data:null,error:new Dv("Empty credential response",t)}}catch(t){return{data:null,error:nre({error:t,options:e})}}}async function dre(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Dv("Browser returned unexpected credential type",t)}:{data:null,error:new Dv("Empty credential response",t)}}catch(t){return{data:null,error:rre({error:t,options:e})}}}const fre={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},hre={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Lv(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const a in s){const o=s[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const l=r[a];t(l)?r[a]=Lv(l,o):r[a]=Lv(o)}else r[a]=o}return r}function mre(e,t){return Lv(fre,e,t||{})}function pre(e,t){return Lv(hre,e,t||{})}class gre{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:l};const c=s??are.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=mre(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:f}=await ure({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=pre(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:f}=await dre(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Ie(o)?{data:null,error:o}:{data:null,error:new Wl("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!n)return{data:null,error:new zm("rpId is required for WebAuthn authentication")};try{if(!eO())return{data:null,error:new Wl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:a});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(o){return Ie(o)?{data:null,error:o}:{data:null,error:new Wl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!n)return{data:null,error:new zm("rpId is required for WebAuthn registration")};try{if(!eO())return{data:null,error:new Wl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Ie(o)?{data:null,error:o}:{data:null,error:new Wl("Unexpected error in register",o)}}}}Zne();const yre={url:fne,storageKey:hne,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mne,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function tO(e,t,n){return await n()}const du={};class Wm{get jwks(){var t,n;return(n=(t=du[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){du[this.storageKey]=Object.assign(Object.assign({},du[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=du[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){du[this.storageKey]=Object.assign(Object.assign({},du[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},yre),t);if(this.storageKey=a.storageKey,this.instanceID=(n=Wm.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Wm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Jn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Yne({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=iB(a.fetch),this.lock=a.lock||tO,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&Jn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Qne:this.lock=tO,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new gre(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:aB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=JT(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=JT(this.memoryStorage)),Jn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${nB}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Jn()&&(n=Ene(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Jn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),bne(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ie(n)?this._returnResult({error:n}):this._returnResult({error:new Wl("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const a=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:sa}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Ie(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,s;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await lu(this.storage,this.storageKey)),a=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:sa})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:sa})}else throw new ey("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await Zn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(await Zn(this.storage,`${this.storageKey}-code-verifier`),Ie(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:QT})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:QT})}else throw new ey("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const a=new ou;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,a,o,l,c,u,d,f,h;let m,y;if("message"in t)m=t.message,y=t.signature;else{const{chain:p,wallet:x,statement:w,options:g}=t;let b;if(Jn())if(typeof x=="object")b=x;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")b=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=x}const _=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),j=await b.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=lB(j[0]);let N=(r=g==null?void 0:g.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!N){const P=await b.request({method:"eth_chainId"});N=Jne(P)}const C={domain:_.host,address:S,statement:w,uri:_.href,version:"1",chainId:N,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=tre(C),y=await b.request({method:"personal_sign",params:[ere(m),S]})}try{const{data:p,error:x}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:sa});if(x)throw x;if(!p||!p.session||!p.user){const w=new ou;return this._returnResult({data:{user:null,session:null},error:w})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:x})}catch(p){if(Ie(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var n,r,s,a,o,l,c,u,d,f,h,m;let y,p;if("message"in t)y=t.message,p=t.signature;else{const{chain:x,wallet:w,statement:g,options:b}=t;let _;if(Jn())if(typeof w=="object")_=w;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const j=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),g?{statement:g}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)y=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),p=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=S}}try{const{data:x,error:w}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Xl(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:sa});if(w)throw w;if(!x||!x.session||!x.user){const g=new ou;return this._returnResult({data:{user:null,session:null},error:g})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:w})}catch(x){if(Ie(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const n=await Tl(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new wne;const{data:a,error:o}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:sa});if(await Zn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new ou;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(await Zn(this.storage,`${this.storageKey}-code-verifier`),Ie(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:a,nonce:o}=t,l=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:sa}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new ou;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(Ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await lu(this.storage,this.storageKey));const{error:f}=await Fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new ey("You must provide either an email or phone number.")}catch(l){if(await Zn(this.storage,`${this.storageKey}-code-verifier`),Ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let s,a;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await Fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:sa});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,a,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await lu(this.storage,this.storageKey));const u=await Fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:qne});return!((a=u.data)===null||a===void 0)&&a.url&&Jn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Zn(this.storage,`${this.storageKey}-code-verifier`),Ie(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new rs;const{error:s}=await Fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Ie(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:a}=t,{error:o}=await Fe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:a}=t,{data:o,error:l}=await Fe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new ey("You must provide either an email or phone number and a type")}catch(n){if(Ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Tl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Qw:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Tl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=e1()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Une(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await Fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_o}):await this._useSession(async n=>{var r,s,a;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rs}:await Fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:_o})})}catch(n){if(Ie(n))return xne(n)&&(await this._removeSession(),await Zn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new rs;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await lu(this.storage,this.storageKey));const{data:u,error:d}=await Fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:_o});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Zn(this.storage,`${this.storageKey}-code-verifier`),Ie(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new rs;const n=Date.now()/1e3;let r=n,s=!0,a=null;const{payload:o}=Jw(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Ie(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new rs;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Jn())throw new ty("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ty(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new WT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ty("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new WT("No code detected.");const{data:g,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new ty("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=ju&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:p,error:x}=await this._getUser(a);if(x)throw x;const w={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(r){if(Ie(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Tl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(vne(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Zn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=kne(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await lu(this.storage,this.storageKey,!0));try{return await Fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await Zn(this.storage,`${this.storageKey}-code-verifier`),Ie(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async a=>{var o,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Fe(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Jn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Ie(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:a}}=n;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:sa}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new ou}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if(await Zn(this.storage,`${this.storageKey}-code-verifier`),Ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:o}=n;if(o)throw o;return await Fe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await One(async s=>(s>0&&await Tne(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:sa})),(s,a)=>{const o=200*Math.pow(2,s);return a&&Zw(a)&&Date.now()+o-r<ju})}catch(r){if(this._debug(n,"error",r),Ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Jn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Tl(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Tl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Su(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:e1()}else if(s&&!s.user&&!s.user){const o=await Tl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Zn(this.storage,this.storageKey+"-user"),await Su(this.storage,this.storageKey,s)):s.user=e1()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const a=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Qw;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Qw}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Zw(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new rs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new z0;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new rs;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),Ie(a)){const o={data:null,error:a};return Zw(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Zn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Su(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const a=YT(s);await Su(this.storage,this.storageKey,a)}else{const s=YT(n);await Su(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Zn(this.storage,this.storageKey),await Zn(this.storage,this.storageKey+"-code-verifier"),await Zn(this.storage,this.storageKey+"-user"),this.userStorage&&await Zn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Jn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ju);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/ju);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ju}ms, refresh threshold is ${Uj} ticks`),s<=Uj&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof oB)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Jn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await lu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?this._returnResult({data:null,error:a}):await Fe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Fe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?lre(t.webauthn.credential_response):cre(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await Fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:ire(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:ore(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Jw(r.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await Fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new rs})})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new rs});const o=await Fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Jn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new rs});const o=await Fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Jn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new rs})})}catch(t){if(Ie(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await Fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new rs})})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+gne>s)return r;const{data:a,error:o}=await Fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,r=a.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});r=m.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=Jw(r);n!=null&&n.allowExpired||Fne(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:a,header:s,signature:o},error:null}}const d=Bne(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Cne(`${l}.${c}`)))throw new Hj("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}}Wm.nextInstanceID={};const vre=Wm,xre="2.89.0";let Ih="";typeof Deno<"u"?Ih="deno":typeof document<"u"?Ih="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ih="react-native":Ih="node";const bre={"X-Client-Info":`supabase-js-${Ih}/${xre}`},wre={headers:bre},_re={schema:"public"},jre={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sre={};function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function Nre(e,t){if(Hm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cre(e){var t=Nre(e,"string");return Hm(t)=="symbol"?t:t+""}function Pre(e,t,n){return(t=Cre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(n),!0).forEach(function(r){Pre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const kre=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ere=()=>Headers,Are=(e,t,n)=>{const r=kre(n),s=Ere();return async(a,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(a,an(an({},o),{},{headers:u}))}};function Tre(e){return e.endsWith("/")?e:e+"/"}function Ore(e,t){var n,r;const{db:s,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:an(an({},c),s),auth:an(an({},u),a),realtime:an(an({},d),o),storage:{},global:an(an(an({},f),l),{},{headers:an(an({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Mre(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Tre(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Rre=class extends vre{constructor(e){super(e)}},Ire=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const a=Mre(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:_re,realtime:Sre,auth:an(an({},jre),{},{storageKey:o}),global:wre},c=Ore(n??{},l);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=Are(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(an({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new mte(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new dne(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new cte(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:a,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Rre({url:this.authUrl.href,headers:an(an({},h),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Tte(this.realtimeUrl.href,an(an({},e),{},{params:an(an({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const $re=(e,t,n)=>new Ire(e,t,n);function Dre(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Dre()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Lre="http://127.0.0.1:54321",Fre="sb_publishable_ACJWlzQHlZjBrEguHvfOxg_3BJgxAaH",ie=$re(Lre,Fre,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});function W0(){const e="http://127.0.0.1:54321";if(e!=null&&e.includes("localhost")||e!=null&&e.includes("127.0.0.1"))return"local";if(typeof window<"u"){const t=window.location.hostname;if(t.includes("preview")||t.includes("staging"))return"devo"}return"prod"}function Bre(){switch(W0()){case"local":return 0;case"devo":return 1;case"prod":return 3;default:return 3}}const rO=Bre(),Vre=W0();function zP(e){const t=`[${e}]`,n=r=>r>=rO;return{trace:(...r)=>{n(0)&&console.debug(t,...r)},debug:(...r)=>{n(1)&&console.debug(t,...r)},info:(...r)=>{n(2)&&console.info(t,...r)},warn:(...r)=>{n(3)&&console.warn(t,...r)},error:(...r)=>{n(4)&&console.error(t,...r)},level:rO,environment:Vre}}const uB=v.createContext(void 0);function ht(){const e=v.useContext(uB);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const ir=()=>!0,wt="demo-account-001",Ure="demo-user-001",Ge=e=>{const t=new Date;return t.setDate(t.getDate()-e),t.toISOString()},rr=e=>{const t=new Date;return t.setHours(t.getHours()-e),t.toISOString()},gi={id:wt,name:"Acme HVAC Services",slug:"acme-hvac",timezone:"America/New_York",business_hours_start:"08:00",business_hours_end:"18:00",notification_email:"demo@example.com",notification_phone:"+15551234567",workflow_config:{emergency_keywords:["no heat","gas leak","flooding","smoke"],service_categories:["hvac","plumbing","electrical"],transfer_enabled:!0,callback_hours_offset:2},created_at:Ge(90),updated_at:Ge(1)},oo={id:Ure,email:"demo@answerafter.com",full_name:"Demo User",role:"owner",account_id:wt,account:gi};Ge(60),Ge(1),Ge(30),Ge(1);const vc=[{id:"contact-001",account_id:wt,phone:"+15552223333",name:"John Smith",email:"john.smith@email.com",address:"123 Oak Street, Boston, MA 02101",notes:"Preferred morning appointments",status:"customer",source:"inbound_call",interest_level:"hot",lead_status:"converted",lead_notes:null,lead_updated_at:null,created_at:Ge(45),updated_at:Ge(2)},{id:"contact-002",account_id:wt,phone:"+15553334444",name:"Sarah Johnson",email:"sarah.j@email.com",address:"456 Maple Ave, Cambridge, MA 02139",notes:null,status:"lead",source:"inbound_call",interest_level:"hot",lead_status:"new",lead_notes:"Interested in AC installation",lead_updated_at:rr(4),created_at:rr(4),updated_at:rr(4)},{id:"contact-003",account_id:wt,phone:"+15554445555",name:"Mike Williams",email:null,address:"789 Pine Road, Somerville, MA 02143",notes:null,status:"lead",source:"inbound_call",interest_level:"warm",lead_status:"contacted",lead_notes:"Called back, scheduling next week",lead_updated_at:Ge(1),created_at:Ge(3),updated_at:Ge(1)},{id:"contact-004",account_id:wt,phone:"+15555556666",name:"Emily Davis",email:"emily.d@email.com",address:"321 Birch Lane, Brookline, MA 02445",notes:"Commercial property",status:"customer",source:"manual",interest_level:null,lead_status:"converted",lead_notes:null,lead_updated_at:null,created_at:Ge(60),updated_at:Ge(10)},{id:"contact-005",account_id:wt,phone:"+15556667777",name:"Robert Brown",email:null,address:null,notes:null,status:"lead",source:"inbound_call",interest_level:"cold",lead_status:"lost",lead_notes:"Went with competitor",lead_updated_at:Ge(5),created_at:Ge(14),updated_at:Ge(5)}],WP=[{id:"call-001",account_id:wt,phone_number_id:"phone-001",contact_id:"contact-002",intake_id:"intake-001",twilio_call_sid:"CA123456789",elevenlabs_conversation_id:"conv-001",caller_phone:"+15553334444",caller_name:"Sarah Johnson",status:"completed",outcome:"booked",duration_seconds:245,recording_url:null,summary:"Customer called about AC not cooling properly. Scheduled service appointment for tomorrow morning.",is_emergency:!1,started_at:rr(4),ended_at:rr(4),created_at:rr(4),updated_at:rr(4),interest_level:"hot",lead_status:"new",lead_notes:null,lead_updated_at:null},{id:"call-002",account_id:wt,phone_number_id:"phone-001",contact_id:"contact-003",intake_id:"intake-002",twilio_call_sid:"CA987654321",elevenlabs_conversation_id:"conv-002",caller_phone:"+15554445555",caller_name:"Mike Williams",status:"completed",outcome:"callback_requested",duration_seconds:180,recording_url:null,summary:"Customer inquired about furnace maintenance. Requested callback during business hours.",is_emergency:!1,started_at:rr(26),ended_at:rr(26),created_at:rr(26),updated_at:rr(26),interest_level:"warm",lead_status:"new",lead_notes:null,lead_updated_at:null},{id:"call-003",account_id:wt,phone_number_id:"phone-001",contact_id:"contact-001",intake_id:null,twilio_call_sid:"CA456789123",elevenlabs_conversation_id:"conv-003",caller_phone:"+15552223333",caller_name:"John Smith",status:"completed",outcome:"booked",duration_seconds:312,recording_url:null,summary:"Returning customer scheduled annual HVAC maintenance check.",is_emergency:!1,started_at:Ge(2),ended_at:Ge(2),created_at:Ge(2),updated_at:Ge(2),interest_level:"hot",lead_status:"converted",lead_notes:null,lead_updated_at:null},{id:"call-004",account_id:wt,phone_number_id:"phone-002",contact_id:null,intake_id:"intake-003",twilio_call_sid:"CA789123456",elevenlabs_conversation_id:"conv-004",caller_phone:"+15558889999",caller_name:null,status:"completed",outcome:"escalated",duration_seconds:95,recording_url:null,summary:"Emergency call - no heat in home with elderly resident. Transferred to on-call technician.",is_emergency:!0,started_at:Ge(3),ended_at:Ge(3),created_at:Ge(3),updated_at:Ge(3),interest_level:"hot",lead_status:"new",lead_notes:null,lead_updated_at:null},{id:"call-005",account_id:wt,phone_number_id:"phone-001",contact_id:"contact-005",intake_id:null,twilio_call_sid:"CA321654987",elevenlabs_conversation_id:"conv-005",caller_phone:"+15556667777",caller_name:"Robert Brown",status:"completed",outcome:"information_provided",duration_seconds:156,recording_url:null,summary:"Customer asked about pricing for new furnace installation. Provided general pricing range.",is_emergency:!1,started_at:Ge(5),ended_at:Ge(5),created_at:Ge(5),updated_at:Ge(5),interest_level:"cold",lead_status:"new",lead_notes:null,lead_updated_at:null}],sO=["Jennifer Lee","David Martinez","Amanda Wilson","Chris Taylor","Lisa Anderson","Kevin Thompson","Maria Garcia","James Rodriguez","Patricia White","Michael Brown","Linda Davis","Richard Miller","Barbara Wilson","William Moore","Elizabeth Taylor","Joseph Anderson","Susan Thomas","Charles Jackson","Jessica Harris","Daniel Martin","Nancy Robinson","Matthew Clark","Karen Lewis","Anthony Walker","Betty Hall","Mark Allen","Dorothy Young","Steven King","Helen Wright","Paul Scott","Sandra Green","Andrew Adams"],zre={booked:["Customer scheduled AC tune-up for next week. Confirmed address and contact details.","Booked furnace inspection appointment. Customer mentioned unusual noise when starting.","Scheduled emergency repair visit for tomorrow morning. AC unit not cooling.","Customer booked annual maintenance service. Returning customer from last year.","Appointment set for duct cleaning service. Customer has allergy concerns.","Scheduled heat pump installation consultation. Customer interested in energy savings.","Booked thermostat replacement appointment. Old unit not responding properly.","Customer scheduled HVAC diagnostic. System running but not heating efficiently."],callback_requested:["Customer requested callback to discuss pricing options for new system.","Caller wants to speak with a manager about service warranty. Scheduled callback.","Customer needs time to check schedule. Will call back within 24 hours.","Requested callback after consulting with spouse about repair vs replace decision.","Customer at work, requested evening callback to discuss service options.","Caller wants detailed quote for multi-zone system. Callback scheduled."],information_provided:["Provided pricing information for AC installation. Customer will consider options.","Explained maintenance plan benefits. Customer interested but needs more time.","Answered questions about energy-efficient systems and available rebates.","Provided service area information. Customer location confirmed within range.","Explained emergency service availability and after-hours pricing.","Discussed financing options for new HVAC system installation."],escalated:["Emergency - No heat with infant in home. Transferred to on-call technician.","Gas smell reported. Immediately transferred to emergency line.","Customer reported smoke from vents. Escalated to emergency dispatch.","Elderly resident with no AC during heat wave. Priority transfer completed.","Commercial client with server room cooling failure. Urgent dispatch arranged."],no_action:["Caller hung up before providing details.","Wrong number - caller was looking for different business.","Spam call detected and ended.","Customer decided to handle issue themselves.","Caller was inquiring about services we do not offer."]};for(let e=6;e<=65;e++){const t=Math.floor(Math.random()*30),n=Math.floor(Math.random()*12)+6,r=["booked","booked","booked","callback_requested","callback_requested","information_provided","information_provided","escalated","no_action"],s=r[Math.floor(Math.random()*r.length)],a=sO[Math.floor(Math.random()*sO.length)],o=zre[s],l=o[Math.floor(Math.random()*o.length)],c=new Date;c.setDate(c.getDate()-t),c.setHours(n,Math.floor(Math.random()*60),0,0),WP.push({id:`call-${String(e).padStart(3,"0")}`,account_id:wt,phone_number_id:Math.random()>.3?"phone-001":"phone-002",contact_id:null,intake_id:null,twilio_call_sid:`CA${Math.random().toString(36).substr(2,9)}`,elevenlabs_conversation_id:`conv-${String(e).padStart(3,"0")}`,caller_phone:`+1555${Math.floor(Math.random()*9e6+1e6)}`,caller_name:Math.random()>.2?a:null,status:"completed",outcome:s,duration_seconds:s==="no_action"?Math.floor(Math.random()*30)+5:Math.floor(Math.random()*300)+60,recording_url:null,summary:l,is_emergency:s==="escalated",started_at:c.toISOString(),ended_at:c.toISOString(),created_at:c.toISOString(),updated_at:c.toISOString(),interest_level:s==="booked"?"hot":s==="callback_requested"?"warm":["hot","warm","cold"][Math.floor(Math.random()*3)],lead_status:s==="booked"?"converted":"new",lead_notes:null,lead_updated_at:null})}const Wre=[{id:"service-001",account_id:wt,name:"HVAC Diagnostic",description:"Complete system diagnostic and inspection",price_cents:9900,duration_minutes:60,category:"hvac",is_active:!0,created_at:Ge(90)},{id:"service-002",account_id:wt,name:"AC Tune-Up",description:"Seasonal air conditioning maintenance",price_cents:14900,duration_minutes:90,category:"hvac",is_active:!0,created_at:Ge(90)},{id:"service-003",account_id:wt,name:"Furnace Repair",description:"Furnace troubleshooting and repair",price_cents:19900,duration_minutes:120,category:"hvac",is_active:!0,created_at:Ge(90)},{id:"service-004",account_id:wt,name:"Emergency Service",description:"24/7 emergency HVAC service",price_cents:29900,duration_minutes:60,category:"hvac",is_active:!0,created_at:Ge(90)}];new Date(Date.now()+24*60*60*1e3).toISOString(),new Date(Date.now()+25*60*60*1e3).toISOString(),rr(4),rr(4),new Date(Date.now()+3*24*60*60*1e3).toISOString(),new Date(Date.now()+3*24*60*60*1e3+90*60*1e3).toISOString(),Ge(2),Ge(1),Ge(1),Ge(1),Ge(5),Ge(1);const Hre={id:"sub-001",account_id:wt,stripe_customer_id:"cus_demo123",stripe_subscription_id:"sub_demo123",plan:"pro",status:"active",current_period_start:Ge(15),current_period_end:new Date(Date.now()+15*24*60*60*1e3).toISOString(),cancel_at_period_end:!1,created_at:Ge(45),updated_at:Ge(15)};rr(4),rr(4),new Date(Date.now()+2*24*60*60*1e3).toISOString(),rr(26),rr(26),Ge(3),Ge(3);function qre(e){const t=e==="7d"?7:e==="30d"?30:e==="3m"?90:180,n=WP.filter(a=>{const o=new Date(a.started_at),l=new Date;return l.setDate(l.getDate()-t),o>=l}),r=n.filter(a=>a.outcome==="booked").length,s=[];if(e==="7d"){const a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let o=6;o>=0;o--){const l=new Date;l.setDate(l.getDate()-o),s.push({name:a[l.getDay()],calls:Math.floor(Math.random()*8)+2,revenue:Math.floor(Math.random()*500)+100})}}else if(e==="30d")for(let a=5;a>=0;a--){const o=new Date;o.setDate(o.getDate()-a*5),s.push({name:`${o.getMonth()+1}/${o.getDate()}`,calls:Math.floor(Math.random()*25)+10,revenue:Math.floor(Math.random()*1500)+500})}else{const a=e==="3m"?12:24;for(let o=a-1;o>=0;o--){const l=new Date;l.setDate(l.getDate()-o*7),s.push({name:`${l.getMonth()+1}/${l.getDate()}`,calls:Math.floor(Math.random()*35)+15,revenue:Math.floor(Math.random()*2500)+800})}}return{total_calls:n.length,appointments_booked:r,revenue_estimate:r*149,calls_trend:Math.floor(Math.random()*40)-10,bookings_trend:Math.floor(Math.random()*30)-5,revenue_trend:Math.floor(Math.random()*35)-8,chart_data:s}}function Kre({children:e}){const[t,n]=v.useState(!0),r=t?{id:oo.id,email:oo.email,full_name:oo.full_name,role:oo.role,account_id:oo.account_id,account:{id:gi.id,name:gi.name,slug:gi.slug,timezone:gi.timezone,business_hours_start:gi.business_hours_start,business_hours_end:gi.business_hours_end}}:null,s=t?{access_token:"demo-token",refresh_token:"demo-refresh",expires_in:3600,token_type:"bearer",user:{id:oo.id,email:oo.email,app_metadata:{},user_metadata:{full_name:oo.full_name},aud:"authenticated",created_at:new Date().toISOString()}}:null,a=v.useCallback(async(c,u)=>(await new Promise(d=>setTimeout(d,500)),n(!0),{}),[]),o=v.useCallback(async(c,u,d,f)=>(await new Promise(h=>setTimeout(h,500)),n(!0),{}),[]),l=v.useCallback(async()=>{n(!1)},[]);return i.jsx(uB.Provider,{value:{user:r,session:s,isLoading:!1,isAuthenticated:t,login:a,signup:o,logout:l},children:e})}function mn({children:e}){const{user:t,session:n,isAuthenticated:r,isLoading:s}=ht(),a=ka(),{toast:o}=Gn(),[l,c]=v.useState(!1),u=r&&t&&!t.account_id,{data:d,isLoading:f}=jt({queryKey:["onboarding-status",t==null?void 0:t.account_id],queryFn:async()=>{if(!(t!=null&&t.account_id))return null;const{data:y,error:p}=await ie.from("accounts").select("is_onboarding_complete").eq("id",t.account_id).single();if(p)return console.error("Error fetching organization:",p),null;const{data:x,error:w}=await ie.from("subscriptions").select("*").eq("account_id",t.account_id).maybeSingle();w&&console.error("Error fetching subscription:",w);const{data:g,error:b}=await ie.from("phone_numbers").select("id").eq("account_id",t.account_id).limit(1);return b&&console.error("Error fetching phone numbers:",b),{isOnboardingComplete:(y==null?void 0:y.is_onboarding_complete)||!1,hasSubscription:!!(x!=null&&x.stripe_subscription_id),hasPhoneNumber:g&&g.length>0,subscription:x}},enabled:!!(t!=null&&t.account_id)&&!u}),h=a.pathname.startsWith("/onboarding");a.pathname;let m=null;return r&&(t!=null&&t.account_id)&&!f&&d&&!h&&(d.isOnboardingComplete||(d.hasSubscription?m="/onboarding/setup":m="/onboarding/select-plan")),v.useEffect(()=>{(async()=>{if(!(!u||l||!n)){c(!0);try{o({title:"Completing setup...",description:"Setting up your account."});const{error:p}=await ie.functions.invoke("provision-account",{headers:{Authorization:`Bearer ${n.access_token}`}});p&&console.error("Provisioning error:",p)}catch(p){console.error("Complete signup error:",p)}finally{c(!1)}}})()},[u,l,n]),s||l||f?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"}),i.jsx("p",{className:"text-muted-foreground",children:l?"Completing your account setup...":"Loading..."})]})}):r?m?i.jsx(AT,{to:m,replace:!0}):i.jsx(i.Fragment,{children:e}):i.jsx(AT,{to:"/auth",state:{from:a},replace:!0})}function Gre(){return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"h-10"}),i.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-gradient-to-r from-purple-600 to-indigo-600 text-white text-center py-2 px-4 text-sm font-medium shadow-lg",children:i.jsxs("span",{className:"inline-flex items-center gap-2",children:[i.jsx("span",{className:"animate-pulse",children:"Demo Mode"}),i.jsx("span",{className:"opacity-75",children:"|"}),i.jsx("span",{className:"opacity-90",children:"Portfolio showcase with mock data - no real API calls"})]})})]})}const HP=v.createContext({});function qP(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const KP=typeof window<"u",dB=KP?v.useLayoutEffect:v.useEffect,H0=v.createContext(null);function GP(e,t){e.indexOf(t)===-1&&e.push(t)}function YP(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Bi=(e,t,n)=>n>t?t:n<e?e:n;let Fv=()=>{};const Vi={},fB=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function hB(e){return typeof e=="object"&&e!==null}const mB=e=>/^0[^.\s]+$/u.test(e);function XP(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ls=e=>e,Yre=(e,t)=>n=>t(e(n)),ng=(...e)=>e.reduce(Yre),qm=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class QP{constructor(){this.subscriptions=[]}add(t){return GP(this.subscriptions,t),()=>YP(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xa=e=>e*1e3,Rs=e=>e/1e3;function pB(e,t){return t?e*(1e3/t):0}const gB=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Xre=1e-7,Qre=12;function Zre(e,t,n,r,s){let a,o,l=0;do o=t+(n-t)/2,a=gB(o,r,s)-e,a>0?n=o:t=o;while(Math.abs(a)>Xre&&++l<Qre);return o}function rg(e,t,n,r){if(e===t&&n===r)return Ls;const s=a=>Zre(a,0,1,e,n);return a=>a===0||a===1?a:gB(s(a),t,r)}const yB=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,vB=e=>t=>1-e(1-t),xB=rg(.33,1.53,.69,.99),ZP=vB(xB),bB=yB(ZP),wB=e=>(e*=2)<1?.5*ZP(e):.5*(2-Math.pow(2,-10*(e-1))),JP=e=>1-Math.sin(Math.acos(e)),_B=vB(JP),jB=yB(JP),Jre=rg(.42,0,1,1),ese=rg(0,0,.58,1),SB=rg(.42,0,.58,1),tse=e=>Array.isArray(e)&&typeof e[0]!="number",NB=e=>Array.isArray(e)&&typeof e[0]=="number",aO={linear:Ls,easeIn:Jre,easeInOut:SB,easeOut:ese,circIn:JP,circInOut:jB,circOut:_B,backIn:ZP,backInOut:bB,backOut:xB,anticipate:wB},nse=e=>typeof e=="string",iO=e=>{if(NB(e)){Fv(e.length===4);const[t,n,r,s]=e;return rg(t,n,r,s)}else if(nse(e))return Fv(aO[e]!==void 0),aO[e];return e},ny=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],oO={value:null,addProjectionMetrics:null};function rse(e,t){let n=new Set,r=new Set,s=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(f){o.has(f)&&(d.schedule(f),e()),c++,f(l)}const d={schedule:(f,h=!1,m=!1)=>{const p=m&&s?n:r;return h&&o.add(f),p.has(f)||p.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(l=f,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),t&&oO.value&&oO.value.frameloop[t].push(c),c=0,n.clear(),s=!1,a&&(a=!1,d.process(f))}};return d}const sse=40;function CB(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=ny.reduce((b,_)=>(b[_]=rse(a,t?_:void 0),b),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:y}=o,p=()=>{const b=Vi.useManualTiming?s.timestamp:performance.now();n=!1,Vi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(b-s.timestamp,sse),1)),s.timestamp=b,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),h.process(s),m.process(s),y.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(p))},x=()=>{n=!0,r=!0,s.isProcessing||e(p)};return{schedule:ny.reduce((b,_)=>{const j=o[_];return b[_]=(S,N=!1,C=!1)=>(n||x(),j.schedule(S,N,C)),b},{}),cancel:b=>{for(let _=0;_<ny.length;_++)o[ny[_]].cancel(b)},state:s,steps:o}}const{schedule:Yt,cancel:il,state:nr,steps:n1}=CB(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ls,!0);let Ky;function ase(){Ky=void 0}const Wr={now:()=>(Ky===void 0&&Wr.set(nr.isProcessing||Vi.useManualTiming?nr.timestamp:performance.now()),Ky),set:e=>{Ky=e,queueMicrotask(ase)}},PB=e=>t=>typeof t=="string"&&t.startsWith(e),kB=PB("--"),ise=PB("var(--"),ek=e=>ise(e)?ose.test(e.split("/*")[0].trim()):!1,ose=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ef={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Km={...Ef,transform:e=>Bi(0,1,e)},ry={...Ef,default:1},tm=e=>Math.round(e*1e5)/1e5,tk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function lse(e){return e==null}const cse=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,nk=(e,t)=>n=>!!(typeof n=="string"&&cse.test(n)&&n.startsWith(e)||t&&!lse(n)&&Object.prototype.hasOwnProperty.call(n,t)),EB=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,a,o,l]=r.match(tk);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},use=e=>Bi(0,255,e),r1={...Ef,transform:e=>Math.round(use(e))},Ql={test:nk("rgb","red"),parse:EB("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+r1.transform(e)+", "+r1.transform(t)+", "+r1.transform(n)+", "+tm(Km.transform(r))+")"};function dse(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const qj={test:nk("#"),parse:dse,transform:Ql.transform},sg=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),fo=sg("deg"),Qa=sg("%"),Ve=sg("px"),fse=sg("vh"),hse=sg("vw"),lO={...Qa,parse:e=>Qa.parse(e)/100,transform:e=>Qa.transform(e*100)},Vu={test:nk("hsl","hue"),parse:EB("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Qa.transform(tm(t))+", "+Qa.transform(tm(n))+", "+tm(Km.transform(r))+")"},Sn={test:e=>Ql.test(e)||qj.test(e)||Vu.test(e),parse:e=>Ql.test(e)?Ql.parse(e):Vu.test(e)?Vu.parse(e):qj.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ql.transform(e):Vu.transform(e),getAnimatableNone:e=>{const t=Sn.parse(e);return t.alpha=0,Sn.transform(t)}},mse=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function pse(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(tk))==null?void 0:t.length)||0)+(((n=e.match(mse))==null?void 0:n.length)||0)>0}const AB="number",TB="color",gse="var",yse="var(",cO="${}",vse=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gm(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const l=t.replace(vse,c=>(Sn.test(c)?(r.color.push(a),s.push(TB),n.push(Sn.parse(c))):c.startsWith(yse)?(r.var.push(a),s.push(gse),n.push(c)):(r.number.push(a),s.push(AB),n.push(parseFloat(c))),++a,cO)).split(cO);return{values:n,split:l,indexes:r,types:s}}function OB(e){return Gm(e).values}function MB(e){const{split:t,types:n}=Gm(e),r=t.length;return s=>{let a="";for(let o=0;o<r;o++)if(a+=t[o],s[o]!==void 0){const l=n[o];l===AB?a+=tm(s[o]):l===TB?a+=Sn.transform(s[o]):a+=s[o]}return a}}const xse=e=>typeof e=="number"?0:Sn.test(e)?Sn.getAnimatableNone(e):e;function bse(e){const t=OB(e);return MB(e)(t.map(xse))}const ol={test:pse,parse:OB,createTransformer:MB,getAnimatableNone:bse};function s1(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function wse({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,a=0,o=0;if(!t)s=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=s1(c,l,e+1/3),a=s1(c,l,e),o=s1(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function Bv(e,t){return n=>n>0?t:e}const en=(e,t,n)=>e+(t-e)*n,a1=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},_se=[qj,Ql,Vu],jse=e=>_se.find(t=>t.test(e));function uO(e){const t=jse(e);if(!t)return!1;let n=t.parse(e);return t===Vu&&(n=wse(n)),n}const dO=(e,t)=>{const n=uO(e),r=uO(t);if(!n||!r)return Bv(e,t);const s={...n};return a=>(s.red=a1(n.red,r.red,a),s.green=a1(n.green,r.green,a),s.blue=a1(n.blue,r.blue,a),s.alpha=en(n.alpha,r.alpha,a),Ql.transform(s))},Kj=new Set(["none","hidden"]);function Sse(e,t){return Kj.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Nse(e,t){return n=>en(e,t,n)}function rk(e){return typeof e=="number"?Nse:typeof e=="string"?ek(e)?Bv:Sn.test(e)?dO:kse:Array.isArray(e)?RB:typeof e=="object"?Sn.test(e)?dO:Cse:Bv}function RB(e,t){const n=[...e],r=n.length,s=e.map((a,o)=>rk(a)(a,t[o]));return a=>{for(let o=0;o<r;o++)n[o]=s[o](a);return n}}function Cse(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=rk(e[s])(e[s],t[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function Pse(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],o=e.indexes[a][r[a]],l=e.values[o]??0;n[s]=l,r[a]++}return n}const kse=(e,t)=>{const n=ol.createTransformer(t),r=Gm(e),s=Gm(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Kj.has(e)&&!s.values.length||Kj.has(t)&&!r.values.length?Sse(e,t):ng(RB(Pse(r,s),s.values),n):Bv(e,t)};function IB(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?en(e,t,n):rk(e)(e,t)}const Ese=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Yt.update(t,n),stop:()=>il(t),now:()=>nr.isProcessing?nr.timestamp:Wr.now()}},$B=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let a=0;a<s;a++)r+=Math.round(e(a/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Vv=2e4;function sk(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Vv;)t+=n,r=e.next(t);return t>=Vv?1/0:t}function Ase(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(sk(r),Vv);return{type:"keyframes",ease:a=>r.next(s*a).value/t,duration:Rs(s)}}const Tse=5;function DB(e,t,n){const r=Math.max(t-Tse,0);return pB(n-e(r),t-r)}const on={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},i1=.001;function Ose({duration:e=on.duration,bounce:t=on.bounce,velocity:n=on.velocity,mass:r=on.mass}){let s,a,o=1-t;o=Bi(on.minDamping,on.maxDamping,o),e=Bi(on.minDuration,on.maxDuration,Rs(e)),o<1?(s=u=>{const d=u*o,f=d*e,h=d-n,m=Gj(u,o),y=Math.exp(-f);return i1-h/m*y},a=u=>{const f=u*o*e,h=f*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-f),p=Gj(Math.pow(u,2),o);return(-s(u)+i1>0?-1:1)*((h-m)*y)/p}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-i1+d*f},a=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=Rse(s,a,l);if(e=Xa(e),isNaN(c))return{stiffness:on.stiffness,damping:on.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Mse=12;function Rse(e,t,n){let r=n;for(let s=1;s<Mse;s++)r=r-e(r)/t(r);return r}function Gj(e,t){return e*Math.sqrt(1-t*t)}const Ise=["duration","bounce"],$se=["stiffness","damping","mass"];function fO(e,t){return t.some(n=>e[n]!==void 0)}function Dse(e){let t={velocity:on.velocity,stiffness:on.stiffness,damping:on.damping,mass:on.mass,isResolvedFromDuration:!1,...e};if(!fO(e,$se)&&fO(e,Ise))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*Bi(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:on.mass,stiffness:s,damping:a}}else{const n=Ose(e);t={...t,...n,mass:on.mass},t.isResolvedFromDuration=!0}return t}function Uv(e=on.visualDuration,t=on.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=Dse({...n,velocity:-Rs(n.velocity||0)}),y=h||0,p=u/(2*Math.sqrt(c*d)),x=o-a,w=Rs(Math.sqrt(c/d)),g=Math.abs(x)<5;r||(r=g?on.restSpeed.granular:on.restSpeed.default),s||(s=g?on.restDelta.granular:on.restDelta.default);let b;if(p<1){const j=Gj(w,p);b=S=>{const N=Math.exp(-p*w*S);return o-N*((y+p*w*x)/j*Math.sin(j*S)+x*Math.cos(j*S))}}else if(p===1)b=j=>o-Math.exp(-w*j)*(x+(y+w*x)*j);else{const j=w*Math.sqrt(p*p-1);b=S=>{const N=Math.exp(-p*w*S),C=Math.min(j*S,300);return o-N*((y+p*w*x)*Math.sinh(C)+j*x*Math.cosh(C))/j}}const _={calculatedDuration:m&&f||null,next:j=>{const S=b(j);if(m)l.done=j>=f;else{let N=j===0?y:0;p<1&&(N=j===0?Xa(y):DB(b,j,S));const C=Math.abs(N)<=r,P=Math.abs(o-S)<=s;l.done=C&&P}return l.value=l.done?o:S,l},toString:()=>{const j=Math.min(sk(_),Vv),S=$B(N=>_.next(j*N).value,j,30);return j+"ms "+S},toTransition:()=>{}};return _}Uv.applyToOptions=e=>{const t=Ase(e,100,Uv);return e.ease=t.ease,e.duration=Xa(t.duration),e.type="keyframes",e};function Yj({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=C=>l!==void 0&&C<l||c!==void 0&&C>c,y=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let p=n*t;const x=f+p,w=o===void 0?x:o(x);w!==x&&(p=w-f);const g=C=>-p*Math.exp(-C/r),b=C=>w+g(C),_=C=>{const P=g(C),k=b(C);h.done=Math.abs(P)<=u,h.value=h.done?w:k};let j,S;const N=C=>{m(h.value)&&(j=C,S=Uv({keyframes:[h.value,y(h.value)],velocity:DB(b,C,h.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:C=>{let P=!1;return!S&&j===void 0&&(P=!0,_(C),N(C)),j!==void 0&&C>=j?S.next(C-j):(!P&&_(C),h)}}}function Lse(e,t,n){const r=[],s=n||Vi.mix||IB,a=e.length-1;for(let o=0;o<a;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Ls:t;l=ng(c,l)}r.push(l)}return r}function Fse(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const a=e.length;if(Fv(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Lse(t,r,s),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=qm(e[f],e[f+1],d);return l[f](h)};return n?d=>u(Bi(e[0],e[a-1],d)):u}function Bse(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=qm(0,t,r);e.push(en(n,1,s))}}function Vse(e){const t=[0];return Bse(t,e.length-1),t}function Use(e,t){return e.map(n=>n*t)}function zse(e,t){return e.map(()=>t||SB).splice(0,e.length-1)}function nm({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=tse(r)?r.map(iO):iO(r),a={done:!1,value:t[0]},o=Use(n&&n.length===t.length?n:Vse(t),e),l=Fse(o,t,{ease:Array.isArray(s)?s:zse(t,s)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const Wse=e=>e!==null;function ak(e,{repeat:t,repeatType:n="loop"},r,s=1){const a=e.filter(Wse),l=s<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const Hse={decay:Yj,inertia:Yj,tween:nm,keyframes:nm,spring:Uv};function LB(e){typeof e.type=="string"&&(e.type=Hse[e.type])}class ik{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const qse=e=>e/100;class ok extends ik{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Wr.now()&&this.tick(Wr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;LB(t);const{type:n=nm,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=t;let{keyframes:l}=t;const c=n||nm;c!==nm&&typeof l[0]!="number"&&(this.mixKeyframes=ng(qse,IB(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=sk(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:y,onUpdate:p,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?w<0:w>s;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let b=this.currentTime,_=r;if(f){const C=Math.min(this.currentTime,s)/l;let P=Math.floor(C),k=C%1;!k&&C>=1&&(k=1),k===1&&P--,P=Math.min(P,f+1),!!(P%2)&&(h==="reverse"?(k=1-k,m&&(k-=m/l)):h==="mirror"&&(_=o)),b=Bi(0,1,k)*l}const j=g?{done:!1,value:d[0]}:_.next(b);a&&(j.value=a(j.value));let{done:S}=j;!g&&c!==null&&(S=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return N&&y!==Yj&&(j.value=ak(d,this.options,x,this.speed)),p&&p(j.value),N&&this.finish(),j}then(t,n){return this.finished.then(t,n)}get duration(){return Rs(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Rs(t)}get time(){return Rs(this.currentTime)}set time(t){var n;t=Xa(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Wr.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Rs(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:t=Ese,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(s=this.options).onPlay)==null||a.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Wr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function Kse(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Zl=e=>e*180/Math.PI,Xj=e=>{const t=Zl(Math.atan2(e[1],e[0]));return Qj(t)},Gse={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Xj,rotateZ:Xj,skewX:e=>Zl(Math.atan(e[1])),skewY:e=>Zl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Qj=e=>(e=e%360,e<0&&(e+=360),e),hO=Xj,mO=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),pO=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Yse={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:mO,scaleY:pO,scale:e=>(mO(e)+pO(e))/2,rotateX:e=>Qj(Zl(Math.atan2(e[6],e[5]))),rotateY:e=>Qj(Zl(Math.atan2(-e[2],e[0]))),rotateZ:hO,rotate:hO,skewX:e=>Zl(Math.atan(e[4])),skewY:e=>Zl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Zj(e){return e.includes("scale")?1:0}function Jj(e,t){if(!e||e==="none")return Zj(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=Yse,s=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Gse,s=l}if(!s)return Zj(t);const a=r[t],o=s[1].split(",").map(Qse);return typeof a=="function"?a(o):o[a]}const Xse=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Jj(n,t)};function Qse(e){return parseFloat(e.trim())}const Af=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tf=new Set(Af),gO=e=>e===Ef||e===Ve,Zse=new Set(["x","y","z"]),Jse=Af.filter(e=>!Zse.has(e));function eae(e){const t=[];return Jse.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const xc={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Jj(t,"x"),y:(e,{transform:t})=>Jj(t,"y")};xc.translateX=xc.x;xc.translateY=xc.y;const bc=new Set;let eS=!1,tS=!1,nS=!1;function FB(){if(tS){const e=Array.from(bc).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=eae(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,o])=>{var l;(l=r.getValue(a))==null||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}tS=!1,eS=!1,bc.forEach(e=>e.complete(nS)),bc.clear()}function BB(){bc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(tS=!0)})}function tae(){nS=!0,BB(),FB(),nS=!1}class lk{constructor(t,n,r,s,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(bc.add(this),eS||(eS=!0,Yt.read(BB),Yt.resolveKeyframes(FB))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const a=s==null?void 0:s.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const l=r.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),s&&a===void 0&&s.set(t[0])}Kse(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),bc.delete(this)}cancel(){this.state==="scheduled"&&(bc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const nae=e=>e.startsWith("--");function rae(e,t,n){nae(t)?e.style.setProperty(t,n):e.style[t]=n}const sae=XP(()=>window.ScrollTimeline!==void 0),aae={};function iae(e,t){const n=XP(e);return()=>aae[t]??n()}const VB=iae(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$h=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,yO={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$h([0,.65,.55,1]),circOut:$h([.55,0,1,.45]),backIn:$h([.31,.01,.66,-.59]),backOut:$h([.33,1.53,.69,.99])};function UB(e,t){if(e)return typeof e=="function"?VB()?$B(e,t):"ease-out":NB(e)?$h(e):Array.isArray(e)?e.map(n=>UB(n,t)||yO.easeOut):yO[e]}function oae(e,t,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const f=UB(l,s);Array.isArray(f)&&(d.easing=f);const h={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function zB(e){return typeof e=="function"&&"applyToOptions"in e}function lae({type:e,...t}){return zB(e)&&VB()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class cae extends ik{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,Fv(typeof t.type!="string");const u=lae(t);this.animation=oae(n,r,s,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=ak(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):rae(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Rs(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Rs(t)}get time(){return Rs(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Xa(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&sae()?(this.animation.timeline=t,Ls):n(this)}}const WB={anticipate:wB,backInOut:bB,circInOut:jB};function uae(e){return e in WB}function dae(e){typeof e.ease=="string"&&uae(e.ease)&&(e.ease=WB[e.ease])}const vO=10;class fae extends cae{constructor(t){dae(t),LB(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:a,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new ok({...o,autoplay:!1}),c=Xa(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-vO).value,l.sample(c).value,vO),l.stop()}}const xO=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ol.test(e)||e==="0")&&!e.startsWith("url("));function hae(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function mae(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=xO(s,t),l=xO(a,t);return!o||!l?!1:hae(e)||(n==="spring"||zB(n))&&r}function rS(e){e.duration=0,e.type="keyframes"}const pae=new Set(["opacity","clipPath","filter","transform"]),gae=XP(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function yae(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:a,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return gae()&&n&&pae.has(n)&&(n!=="transform"||!u)&&!c&&!r&&s!=="mirror"&&a!==0&&o!=="inertia"}const vae=40;class xae extends ik{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var y;super(),this.stop=()=>{var p,x;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Wr.now();const h={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:o,name:c,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||lk;this.keyframeResolver=new m(l,(p,x,w)=>this.onKeyframesResolved(p,x,h,!w),c,u,d),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=Wr.now(),mae(t,a,o,l)||((Vi.instantAnimations||!c)&&(d==null||d(ak(t,r,n))),t[0]=t[t.length-1],rS(r),r.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>vae?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!u&&yae(h)?new fae({...h,element:h.motionValue.owner.current}):new ok(h);m.finished.then(()=>this.notifyFinished()).catch(Ls),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),tae()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const bae=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function wae(e){const t=bae.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function HB(e,t,n=1){const[r,s]=wae(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return fB(o)?parseFloat(o):o}return ek(s)?HB(s,t,n+1):s}function ck(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const qB=new Set(["width","height","top","left","right","bottom",...Af]),_ae={test:e=>e==="auto",parse:e=>e},KB=e=>t=>t.test(e),GB=[Ef,Ve,Qa,fo,hse,fse,_ae],bO=e=>GB.find(KB(e));function jae(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||mB(e):!0}const Sae=new Set(["brightness","contrast","saturate","opacity"]);function Nae(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(tk)||[];if(!r)return e;const s=n.replace(r,"");let a=Sae.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+s+")"}const Cae=/\b([a-z-]*)\(.*?\)/gu,sS={...ol,getAnimatableNone:e=>{const t=e.match(Cae);return t?t.map(Nae).join(" "):e}},wO={...Ef,transform:Math.round},Pae={rotate:fo,rotateX:fo,rotateY:fo,rotateZ:fo,scale:ry,scaleX:ry,scaleY:ry,scaleZ:ry,skew:fo,skewX:fo,skewY:fo,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:Km,originX:lO,originY:lO,originZ:Ve},uk={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,radius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,backgroundPositionX:Ve,backgroundPositionY:Ve,...Pae,zIndex:wO,fillOpacity:Km,strokeOpacity:Km,numOctaves:wO},kae={...uk,color:Sn,backgroundColor:Sn,outlineColor:Sn,fill:Sn,stroke:Sn,borderColor:Sn,borderTopColor:Sn,borderRightColor:Sn,borderBottomColor:Sn,borderLeftColor:Sn,filter:sS,WebkitFilter:sS},YB=e=>kae[e];function XB(e,t){let n=YB(e);return n!==sS&&(n=ol),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Eae=new Set(["auto","none","0"]);function Aae(e,t,n){let r=0,s;for(;r<e.length&&!s;){const a=e[r];typeof a=="string"&&!Eae.has(a)&&Gm(a).values.length&&(s=e[r]),r++}if(s&&n)for(const a of t)e[a]=XB(n,s)}class Tae extends lk{constructor(t,n,r,s,a){super(t,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),ek(u))){const d=HB(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!qB.has(r)||t.length!==2)return;const[s,a]=t,o=bO(s),l=bO(a);if(o!==l)if(gO(o)&&gO(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else xc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||jae(t[s]))&&r.push(s);r.length&&Aae(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xc[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=xc[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Oae(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const QB=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function ZB(e){return hB(e)&&"offsetHeight"in e}const _O=30,Mae=e=>!isNaN(parseFloat(e));class Rae{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const s=Wr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Wr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Mae(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new QP);const r=this.events[t].add(n);return t==="change"?()=>{r(),Yt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Wr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>_O)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,_O);return pB(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Id(e,t){return new Rae(e,t)}const{schedule:dk,cancel:e6e}=CB(queueMicrotask,!1),aa={x:!1,y:!1};function JB(){return aa.x||aa.y}function Iae(e){return e==="x"||e==="y"?aa[e]?null:(aa[e]=!0,()=>{aa[e]=!1}):aa.x||aa.y?null:(aa.x=aa.y=!0,()=>{aa.x=aa.y=!1})}function e6(e,t){const n=Oae(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function jO(e){return!(e.pointerType==="touch"||JB())}function $ae(e,t,n={}){const[r,s,a]=e6(e,n),o=l=>{if(!jO(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{jO(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),a}const t6=(e,t)=>t?e===t?!0:t6(e,t.parentElement):!1,fk=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Dae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Lae(e){return Dae.has(e.tagName)||e.tabIndex!==-1}const Gy=new WeakSet;function SO(e){return t=>{t.key==="Enter"&&e(t)}}function o1(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Fae=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=SO(()=>{if(Gy.has(n))return;o1(n,"down");const s=SO(()=>{o1(n,"up")}),a=()=>o1(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function NO(e){return fk(e)&&!JB()}function Bae(e,t,n={}){const[r,s,a]=e6(e,n),o=l=>{const c=l.currentTarget;if(!NO(l))return;Gy.add(c);const u=t(c,l),d=(m,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Gy.has(c)&&Gy.delete(c),NO(m)&&typeof u=="function"&&u(m,{success:y})},f=m=>{d(m,c===window||c===document||n.useGlobalTarget||t6(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),ZB(l)&&(l.addEventListener("focus",u=>Fae(u,s)),!Lae(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function n6(e){return hB(e)&&"ownerSVGElement"in e}function Vae(e){return n6(e)&&e.tagName==="svg"}const br=e=>!!(e&&e.getVelocity),Uae=[...GB,Sn,ol],zae=e=>Uae.find(KB(e)),hk=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function CO(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Wae(...e){return t=>{let n=!1;const r=e.map(s=>{const a=CO(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():CO(e[s],null)}}}}function Hae(...e){return v.useCallback(Wae(...e),e)}class qae extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=ZB(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Kae({children:e,isPresent:t,anchorX:n,root:r}){const s=v.useId(),a=v.useRef(null),o=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=v.useContext(hk),c=Hae(a,e==null?void 0:e.ref);return v.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:h,right:m}=o.current;if(t||!a.current||!u||!d)return;const y=n==="left"?`left: ${h}`:`right: ${m}`;a.current.dataset.motionPopId=s;const p=document.createElement("style");l&&(p.nonce=l);const x=r??document.head;return x.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${f}px !important;
          }
        `),()=>{x.contains(p)&&x.removeChild(p)}},[t]),i.jsx(qae,{isPresent:t,childRef:a,sizeRef:o,children:v.cloneElement(e,{ref:c})})}const Gae=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:o,anchorX:l,root:c})=>{const u=qP(Yae),d=v.useId();let f=!0,h=v.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:n,custom:s,onExitComplete:m=>{u.set(m,!0);for(const y of u.values())if(!y)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[n,u,r]);return a&&f&&(h={...h}),v.useMemo(()=>{u.forEach((m,y)=>u.set(y,!1))},[n]),v.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=i.jsx(Kae,{isPresent:n,anchorX:l,root:c,children:e})),i.jsx(H0.Provider,{value:h,children:e})};function Yae(){return new Map}function r6(e=!0){const t=v.useContext(H0);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,a=v.useId();v.useEffect(()=>{if(e)return s(a)},[e]);const o=v.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}const sy=e=>e.key||"";function PO(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const Of=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=r6(o),f=v.useMemo(()=>PO(e),[e]),h=o&&!u?[]:f.map(sy),m=v.useRef(!0),y=v.useRef(f),p=qP(()=>new Map),[x,w]=v.useState(f),[g,b]=v.useState(f);dB(()=>{m.current=!1,y.current=f;for(let S=0;S<g.length;S++){const N=sy(g[S]);h.includes(N)?p.delete(N):p.get(N)!==!0&&p.set(N,!1)}},[g,h.length,h.join("-")]);const _=[];if(f!==x){let S=[...f];for(let N=0;N<g.length;N++){const C=g[N],P=sy(C);h.includes(P)||(S.splice(N,0,C),_.push(C))}return a==="wait"&&_.length&&(S=_),b(PO(S)),w(f),null}const{forceRender:j}=v.useContext(HP);return i.jsx(i.Fragment,{children:g.map(S=>{const N=sy(S),C=o&&!u?!1:f===g||h.includes(N),P=()=>{if(p.has(N))p.set(N,!0);else return;let k=!0;p.forEach(A=>{A||(k=!1)}),k&&(j==null||j(),b(y.current),o&&(d==null||d()),r&&r())};return i.jsx(Gae,{isPresent:C,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:a,root:c,onExitComplete:C?void 0:P,anchorX:l,children:S},N)})})},s6=v.createContext({strict:!1}),kO={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$d={};for(const e in kO)$d[e]={isEnabled:t=>kO[e].some(n=>!!t[n])};function Xae(e){for(const t in e)$d[t]={...$d[t],...e[t]}}const Qae=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Qae.has(e)}let a6=e=>!zv(e);function Zae(e){typeof e=="function"&&(a6=t=>t.startsWith("on")?!zv(t):e(t))}try{Zae(require("@emotion/is-prop-valid").default)}catch{}function Jae(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(a6(s)||n===!0&&zv(s)||!t&&!zv(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const q0=v.createContext({});function K0(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ym(e){return typeof e=="string"||Array.isArray(e)}const mk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pk=["initial",...mk];function G0(e){return K0(e.animate)||pk.some(t=>Ym(e[t]))}function i6(e){return!!(G0(e)||e.variants)}function eie(e,t){if(G0(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ym(n)?n:void 0,animate:Ym(r)?r:void 0}}return e.inherit!==!1?t:{}}function tie(e){const{initial:t,animate:n}=eie(e,v.useContext(q0));return v.useMemo(()=>({initial:t,animate:n}),[EO(t),EO(n)])}function EO(e){return Array.isArray(e)?e.join(" "):e}function AO(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const fh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ve.test(e))e=parseFloat(e);else return e;const n=AO(e,t.target.x),r=AO(e,t.target.y);return`${n}% ${r}%`}},nie={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=ol.parse(e);if(s.length>5)return r;const a=ol.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=en(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),a(s)}},aS={borderRadius:{...fh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fh,borderTopRightRadius:fh,borderBottomLeftRadius:fh,borderBottomRightRadius:fh,boxShadow:nie};function o6(e,{layout:t,layoutId:n}){return Tf.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!aS[e]||e==="opacity")}const rie={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sie=Af.length;function aie(e,t,n){let r="",s=!0;for(let a=0;a<sie;a++){const o=Af[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=QB(l,uk[o]);if(!c){s=!1;const d=rie[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function gk(e,t,n){const{style:r,vars:s,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Tf.has(c)){o=!0;continue}else if(kB(c)){s[c]=u;continue}else{const d=QB(u,uk[c]);c.startsWith("origin")?(l=!0,a[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=aie(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;r.transformOrigin=`${c} ${u} ${d}`}}const yk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function l6(e,t,n){for(const r in t)!br(t[r])&&!o6(r,n)&&(e[r]=t[r])}function iie({transformTemplate:e},t){return v.useMemo(()=>{const n=yk();return gk(n,t,e),Object.assign({},n.vars,n.style)},[t])}function oie(e,t){const n=e.style||{},r={};return l6(r,n,e),Object.assign(r,iie(e,t)),r}function lie(e,t){const n={},r=oie(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const cie={offset:"stroke-dashoffset",array:"stroke-dasharray"},uie={offset:"strokeDashoffset",array:"strokeDasharray"};function die(e,t,n=1,r=0,s=!0){e.pathLength=1;const a=s?cie:uie;e[a.offset]=Ve.transform(-r);const o=Ve.transform(t),l=Ve.transform(n);e[a.array]=`${o} ${l}`}function c6(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:o=0,...l},c,u,d){if(gk(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&die(f,s,a,o,!1)}const u6=()=>({...yk(),attrs:{}}),d6=e=>typeof e=="string"&&e.toLowerCase()==="svg";function fie(e,t,n,r){const s=v.useMemo(()=>{const a=u6();return c6(a,t,d6(r),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};l6(a,e.style,e),s.style={...a,...s.style}}return s}const hie=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vk(e){return typeof e!="string"||e.includes("-")?!1:!!(hie.indexOf(e)>-1||/[A-Z]/u.test(e))}function mie(e,t,n,{latestValues:r},s,a=!1){const l=(vk(e)?fie:lie)(t,r,s,e),c=Jae(t,typeof e=="string",a),u=e!==v.Fragment?{...c,...l,ref:n}:{},{children:d}=t,f=v.useMemo(()=>br(d)?d.get():d,[d]);return v.createElement(e,{...u,children:f})}function TO(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function xk(e,t,n,r){if(typeof t=="function"){const[s,a]=TO(r);t=t(n!==void 0?n:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=TO(r);t=t(n!==void 0?n:e.custom,s,a)}return t}function Yy(e){return br(e)?e.get():e}function pie({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:gie(n,r,s,e),renderState:t()}}function gie(e,t,n,r){const s={},a=r(e,{});for(const h in a)s[h]=Yy(a[h]);let{initial:o,animate:l}=e;const c=G0(e),u=i6(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!K0(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const y=xk(e,h[m]);if(y){const{transitionEnd:p,transition:x,...w}=y;for(const g in w){let b=w[g];if(Array.isArray(b)){const _=d?b.length-1:0;b=b[_]}b!==null&&(s[g]=b)}for(const g in p)s[g]=p[g]}}}return s}const f6=e=>(t,n)=>{const r=v.useContext(q0),s=v.useContext(H0),a=()=>pie(e,t,r,s);return n?a():qP(a)};function bk(e,t,n){var a;const{style:r}=e,s={};for(const o in r)(br(r[o])||t.style&&br(t.style[o])||o6(o,e)||((a=n==null?void 0:n.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const yie=f6({scrapeMotionValuesFromProps:bk,createRenderState:yk});function h6(e,t,n){const r=bk(e,t,n);for(const s in e)if(br(e[s])||br(t[s])){const a=Af.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=e[s]}return r}const vie=f6({scrapeMotionValuesFromProps:h6,createRenderState:u6}),xie=Symbol.for("motionComponentSymbol");function Uu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function bie(e,t,n){return v.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Uu(n)&&(n.current=r))},[t])}const wk=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),wie="framerAppearId",m6="data-"+wk(wie),p6=v.createContext({});function _ie(e,t,n,r,s){var p,x;const{visualElement:a}=v.useContext(q0),o=v.useContext(s6),l=v.useContext(H0),c=v.useContext(hk).reducedMotion,u=v.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=v.useContext(p6);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&jie(u.current,n,s,f);const h=v.useRef(!1);v.useInsertionEffect(()=>{d&&h.current&&d.update(n,l)});const m=n[m6],y=v.useRef(!!m&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,m))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,m)));return dB(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),y.current&&d.animationState&&d.animationState.animateChanges())}),v.useEffect(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,m)}),y.current=!1),d.enteringChildren=void 0)}),d}function jie(e,t,n,r){const{layoutId:s,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:g6(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||l&&Uu(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function g6(e){if(e)return e.options.allowProjection!==!1?e.projection:g6(e.parent)}function l1(e,{forwardMotionProps:t=!1}={},n,r){n&&Xae(n);const s=vk(e)?vie:yie;function a(l,c){let u;const d={...v.useContext(hk),...l,layoutId:Sie(l)},{isStatic:f}=d,h=tie(l),m=s(l,f);if(!f&&KP){Nie();const y=Cie(d);u=y.MeasureLayout,h.visualElement=_ie(e,m,d,r,y.ProjectionNode)}return i.jsxs(q0.Provider,{value:h,children:[u&&h.visualElement?i.jsx(u,{visualElement:h.visualElement,...d}):null,mie(e,l,bie(m,h.visualElement,c),m,f,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=v.forwardRef(a);return o[xie]=e,o}function Sie({layoutId:e}){const t=v.useContext(HP).id;return t&&e!==void 0?t+"-"+e:e}function Nie(e,t){v.useContext(s6).strict}function Cie(e){const{drag:t,layout:n}=$d;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Pie(e,t){if(typeof Proxy>"u")return l1;const n=new Map,r=(a,o)=>l1(a,o,e,t),s=(a,o)=>r(a,o);return new Proxy(s,{get:(a,o)=>o==="create"?r:(n.has(o)||n.set(o,l1(o,void 0,e,t)),n.get(o))})}function y6({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function kie({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Eie(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function c1(e){return e===void 0||e===1}function iS({scale:e,scaleX:t,scaleY:n}){return!c1(e)||!c1(t)||!c1(n)}function Dl(e){return iS(e)||v6(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function v6(e){return OO(e.x)||OO(e.y)}function OO(e){return e&&e!=="0%"}function Wv(e,t,n){const r=e-n,s=t*r;return n+s}function MO(e,t,n,r,s){return s!==void 0&&(e=Wv(e,s,r)),Wv(e,n,r)+t}function oS(e,t=0,n=1,r,s){e.min=MO(e.min,t,n,r,s),e.max=MO(e.max,t,n,r,s)}function x6(e,{x:t,y:n}){oS(e.x,t.translate,t.scale,t.originPoint),oS(e.y,n.translate,n.scale,n.originPoint)}const RO=.999999999999,IO=1.0000000000001;function Aie(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,o;for(let l=0;l<s;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Wu(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,x6(e,o)),r&&Dl(a.latestValues)&&Wu(e,a.latestValues))}t.x<IO&&t.x>RO&&(t.x=1),t.y<IO&&t.y>RO&&(t.y=1)}function zu(e,t){e.min=e.min+t,e.max=e.max+t}function $O(e,t,n,r,s=.5){const a=en(e.min,e.max,s);oS(e,t,n,a,r)}function Wu(e,t){$O(e.x,t.x,t.scaleX,t.scale,t.originX),$O(e.y,t.y,t.scaleY,t.scale,t.originY)}function b6(e,t){return y6(Eie(e.getBoundingClientRect(),t))}function Tie(e,t,n){const r=b6(e,n),{scroll:s}=t;return s&&(zu(r.x,s.offset.x),zu(r.y,s.offset.y)),r}const DO=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hu=()=>({x:DO(),y:DO()}),LO=()=>({min:0,max:0}),Mn=()=>({x:LO(),y:LO()}),lS={current:null},w6={current:!1};function Oie(){if(w6.current=!0,!!KP)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>lS.current=e.matches;e.addEventListener("change",t),t()}else lS.current=!1}const Mie=new WeakMap;function Rie(e,t,n){for(const r in t){const s=t[r],a=n[r];if(br(s))e.addValue(r,s);else if(br(a))e.addValue(r,Id(s,{owner:e}));else if(a!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Id(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const FO=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Iie{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=lk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Wr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Yt.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=G0(n),this.isVariantNode=i6(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&br(m)&&m.set(c[h])}}mount(t){var n;this.current=t,Mie.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),w6.current||Oie(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lS.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),il(this.notifyUpdate),il(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Tf.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Yt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in $d){const n=$d[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Mn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<FO.length;r++){const s=FO[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=t[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Rie(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Id(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(fB(r)||mB(r))?r=parseFloat(r):!zae(r)&&ol.test(n)&&(r=XB(t,n)),this.setBaseTarget(t,br(r)?r.get():r)),br(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=xk(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!br(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new QP),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){dk.render(this.render)}}class _6 extends Iie{constructor(){super(...arguments),this.KeyframeResolver=Tae}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;br(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function j6(e,{style:t,vars:n},r,s){const a=e.style;let o;for(o in t)a[o]=t[o];s==null||s.applyProjectionStyles(a,r);for(o in n)a.setProperty(o,n[o])}function $ie(e){return window.getComputedStyle(e)}class Die extends _6{constructor(){super(...arguments),this.type="html",this.renderInstance=j6}readValueFromInstance(t,n){var r;if(Tf.has(n))return(r=this.projection)!=null&&r.isProjecting?Zj(n):Xse(t,n);{const s=$ie(t),a=(kB(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return b6(t,n)}build(t,n,r){gk(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return bk(t,n,r)}}const S6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Lie(e,t,n,r){j6(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(S6.has(s)?s:wk(s),t.attrs[s])}class Fie extends _6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Mn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Tf.has(n)){const r=YB(n);return r&&r.default||0}return n=S6.has(n)?n:wk(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return h6(t,n,r)}build(t,n,r){c6(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){Lie(t,n,r,s)}mount(t){this.isSVGTag=d6(t.tagName),super.mount(t)}}const Bie=(e,t)=>vk(e)?new Fie(t):new Die(t,{allowProjection:e!==v.Fragment});function ad(e,t,n){const r=e.getProps();return xk(r,t,n!==void 0?n:r.custom,e)}const cS=e=>Array.isArray(e);function Vie(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Id(n))}function Uie(e){return cS(e)?e[e.length-1]||0:e}function zie(e,t){const n=ad(e,t);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const o in a){const l=Uie(a[o]);Vie(e,o,l)}}function Wie(e){return!!(br(e)&&e.add)}function uS(e,t){const n=e.getValue("willChange");if(Wie(n))return n.add(t);if(!n&&Vi.WillChange){const r=new Vi.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function N6(e){return e.props[m6]}const Hie=e=>e!==null;function qie(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(Hie),a=t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const Kie={type:"spring",stiffness:500,damping:25,restSpeed:10},Gie=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Yie={type:"keyframes",duration:.8},Xie={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Qie=(e,{keyframes:t})=>t.length>2?Yie:Tf.has(e)?e.startsWith("scale")?Gie(t[1]):Kie:Xie;function Zie({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const _k=(e,t,n,r={},s,a)=>o=>{const l=ck(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Xa(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:s};Zie(l)||Object.assign(d,Qie(e,d)),d.duration&&(d.duration=Xa(d.duration)),d.repeatDelay&&(d.repeatDelay=Xa(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(rS(d),d.delay===0&&(f=!0)),(Vi.instantAnimations||Vi.skipAnimations)&&(f=!0,rS(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!a&&t.get()!==void 0){const h=qie(d.keyframes,l);if(h!==void 0){Yt.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new ok(d):new xae(d)};function Jie({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function C6(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(a=r);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&Jie(u,d))continue;const m={delay:n,...ck(a||{},d)},y=f.get();if(y!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===y&&!m.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const w=N6(e);if(w){const g=window.MotionHandoffAnimation(w,d,Yt);g!==null&&(m.startTime=g,p=!0)}}uS(e,d),f.start(_k(d,f,h,e.shouldReduceMotion&&qB.has(d)?{type:!1}:m,e,p));const x=f.animation;x&&c.push(x)}return o&&Promise.all(c).then(()=>{Yt.update(()=>{o&&zie(e,o)})}),c}function P6(e,t,n,r=0,s=1){const a=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*r;return typeof n=="function"?n(a,o):s===1?a*r:l-a*r}function dS(e,t,n={}){var c;const r=ad(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(C6(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return eoe(e,t,u,d,f,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function eoe(e,t,n=0,r=0,s=0,a=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(dS(c,t,{...o,delay:n+(typeof r=="function"?0:r)+P6(e.variantChildren,c,r,s,a)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function toe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(a=>dS(e,a,n));r=Promise.all(s)}else if(typeof t=="string")r=dS(e,t,n);else{const s=typeof t=="function"?ad(e,t,n.custom):t;r=Promise.all(C6(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function k6(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const noe=pk.length;function E6(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?E6(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<noe;n++){const r=pk[n],s=e.props[r];(Ym(s)||s===!1)&&(t[r]=s)}return t}const roe=[...mk].reverse(),soe=mk.length;function aoe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>toe(e,n,r)))}function ioe(e){let t=aoe(e),n=BO(),r=!0;const s=c=>(u,d)=>{var h;const f=ad(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:y,...p}=f;u={...u,...p,...y}}return u};function a(c){t=c(e)}function o(c){const{props:u}=e,d=E6(e.parent)||{},f=[],h=new Set;let m={},y=1/0;for(let x=0;x<soe;x++){const w=roe[x],g=n[w],b=u[w]!==void 0?u[w]:d[w],_=Ym(b),j=w===c?g.isActive:null;j===!1&&(y=x);let S=b===d[w]&&b!==u[w]&&_;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),g.protectedKeys={...m},!g.isActive&&j===null||!b&&!g.prevProp||K0(b)||typeof b=="boolean")continue;const N=ooe(g.prevProp,b);let C=N||w===c&&g.isActive&&!S&&_||x>y&&_,P=!1;const k=Array.isArray(b)?b:[b];let A=k.reduce(s(w),{});j===!1&&(A={});const{prevResolvedValues:E={}}=g,I={...E,...A},D=F=>{C=!0,h.has(F)&&(P=!0,h.delete(F)),g.needsAnimating[F]=!0;const R=e.getValue(F);R&&(R.liveStyle=!1)};for(const F in I){const R=A[F],T=E[F];if(m.hasOwnProperty(F))continue;let O=!1;cS(R)&&cS(T)?O=!k6(R,T):O=R!==T,O?R!=null?D(F):h.add(F):R!==void 0&&h.has(F)?D(F):g.protectedKeys[F]=!0}g.prevProp=b,g.prevResolvedValues=A,g.isActive&&(m={...m,...A}),r&&e.blockInitialAnimation&&(C=!1);const V=S&&N;C&&(!V||P)&&f.push(...k.map(F=>{const R={type:w};if(typeof F=="string"&&r&&!V&&e.manuallyAnimateOnMount&&e.parent){const{parent:T}=e,O=ad(T,F);if(T.enteringChildren&&O){const{delayChildren:W}=O.transition||{};R.delay=P6(T.enteringChildren,e,W)}}return{animation:F,options:R}}))}if(h.size){const x={};if(typeof u.initial!="boolean"){const w=ad(e,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&(x.transition=w.transition)}h.forEach(w=>{const g=e.getBaseTarget(w),b=e.getValue(w);b&&(b.liveStyle=!0),x[w]=g??null}),f.push({animation:x})}let p=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(f):Promise.resolve()}function l(c,u){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=BO()}}}function ooe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!k6(t,e):!1}function Ol(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function BO(){return{animate:Ol(!0),whileInView:Ol(),whileHover:Ol(),whileTap:Ol(),whileDrag:Ol(),whileFocus:Ol(),exit:Ol()}}class yl{constructor(t){this.isMounted=!1,this.node=t}update(){}}class loe extends yl{constructor(t){super(t),t.animationState||(t.animationState=ioe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();K0(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let coe=0;class uoe extends yl{constructor(){super(...arguments),this.id=coe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const doe={animation:{Feature:loe},exit:{Feature:uoe}};function Xm(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function ag(e){return{point:{x:e.pageX,y:e.pageY}}}const foe=e=>t=>fk(t)&&e(t,ag(t));function rm(e,t,n,r){return Xm(e,t,foe(n),r)}const A6=1e-4,hoe=1-A6,moe=1+A6,T6=.01,poe=0-T6,goe=0+T6;function Tr(e){return e.max-e.min}function yoe(e,t,n){return Math.abs(e-t)<=n}function VO(e,t,n,r=.5){e.origin=r,e.originPoint=en(t.min,t.max,e.origin),e.scale=Tr(n)/Tr(t),e.translate=en(n.min,n.max,e.origin)-e.originPoint,(e.scale>=hoe&&e.scale<=moe||isNaN(e.scale))&&(e.scale=1),(e.translate>=poe&&e.translate<=goe||isNaN(e.translate))&&(e.translate=0)}function sm(e,t,n,r){VO(e.x,t.x,n.x,r?r.originX:void 0),VO(e.y,t.y,n.y,r?r.originY:void 0)}function UO(e,t,n){e.min=n.min+t.min,e.max=e.min+Tr(t)}function voe(e,t,n){UO(e.x,t.x,n.x),UO(e.y,t.y,n.y)}function zO(e,t,n){e.min=t.min-n.min,e.max=e.min+Tr(t)}function Hv(e,t,n){zO(e.x,t.x,n.x),zO(e.y,t.y,n.y)}function ks(e){return[e("x"),e("y")]}const O6=({current:e})=>e?e.ownerDocument.defaultView:null,WO=(e,t)=>Math.abs(e-t);function xoe(e,t){const n=WO(e.x,t.x),r=WO(e.y,t.y);return Math.sqrt(n**2+r**2)}class M6{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=d1(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=xoe(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!y)return;const{point:p}=h,{timestamp:x}=nr;this.history.push({...p,timestamp:x});const{onStart:w,onMove:g}=this.handlers;m||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=u1(m,this.transformPagePoint),Yt.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:y,onSessionEnd:p,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=d1(h.type==="pointercancel"?this.lastMoveEventInfo:u1(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(h,w),p&&p(h,w)},!fk(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=ag(t),c=u1(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=nr;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,d1(c,this.history)),this.removeListeners=ng(rm(this.contextWindow,"pointermove",this.handlePointerMove),rm(this.contextWindow,"pointerup",this.handlePointerUp),rm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),il(this.updatePoint)}}function u1(e,t){return t?{point:t(e.point)}:e}function HO(e,t){return{x:e.x-t.x,y:e.y-t.y}}function d1({point:e},t){return{point:e,delta:HO(e,R6(t)),offset:HO(e,boe(t)),velocity:woe(t,.1)}}function boe(e){return e[0]}function R6(e){return e[e.length-1]}function woe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=R6(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Xa(t)));)n--;if(!r)return{x:0,y:0};const a=Rs(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function _oe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?en(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?en(n,e,r.max):Math.min(e,n)),e}function qO(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function joe(e,{top:t,left:n,bottom:r,right:s}){return{x:qO(e.x,n,s),y:qO(e.y,t,r)}}function KO(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Soe(e,t){return{x:KO(e.x,t.x),y:KO(e.y,t.y)}}function Noe(e,t){let n=.5;const r=Tr(e),s=Tr(t);return s>r?n=qm(t.min,t.max-r,e.min):r>s&&(n=qm(e.min,e.max-s,t.min)),Bi(0,1,n)}function Coe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const fS=.35;function Poe(e=fS){return e===!1?e=0:e===!0&&(e=fS),{x:GO(e,"left","right"),y:GO(e,"top","bottom")}}function GO(e,t,n){return{min:YO(e,t),max:YO(e,n)}}function YO(e,t){return typeof e=="number"?e:e[t]||0}const koe=new WeakMap;class Eoe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Mn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ag(f).point)},o=(f,h)=>{const{drag:m,dragPropagation:y,onDragStart:p}=this.getProps();if(m&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Iae(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ks(w=>{let g=this.getAxisMotionValue(w).get()||0;if(Qa.test(g)){const{projection:b}=this.visualElement;if(b&&b.layout){const _=b.layout.layoutBox[w];_&&(g=Tr(_)*(parseFloat(g)/100))}}this.originPoint[w]=g}),p&&Yt.postRender(()=>p(f,h)),uS(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:p,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:w}=h;if(y&&this.currentDirection===null){this.currentDirection=Aoe(w),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),x&&x(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>ks(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new M6(t,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:O6(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Yt.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!ay(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=_oe(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;t&&Uu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=joe(r.layoutBox,t):this.constraints=!1,this.elastic=Poe(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ks(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Coe(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Uu(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=Tie(r,s.root,this.visualElement.getTransformPagePoint());let o=Soe(s.layout.layoutBox,a);if(n){const l=n(kie(o));this.hasMutatedConstraints=!!l,l&&(o=y6(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ks(d=>{if(!ay(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,y={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return uS(this.visualElement,t),r.start(_k(t,r,0,n,this.visualElement,!1))}stopAnimation(){ks(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ks(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ks(n=>{const{drag:r}=this.getProps();if(!ay(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];a.set(t[n]-en(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Uu(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ks(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=Noe({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ks(o=>{if(!ay(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(en(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;koe.set(this.visualElement,this);const t=this.visualElement.current,n=rm(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Uu(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Yt.read(r);const o=Xm(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ks(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=fS,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function ay(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Aoe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Toe extends yl{constructor(t){super(t),this.removeGroupControls=Ls,this.removeListeners=Ls,this.controls=new Eoe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ls}unmount(){this.removeGroupControls(),this.removeListeners()}}const XO=e=>(t,n)=>{e&&Yt.postRender(()=>e(t,n))};class Ooe extends yl{constructor(){super(...arguments),this.removePointerDownListener=Ls}onPointerDown(t){this.session=new M6(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:O6(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:XO(t),onStart:XO(n),onMove:r,onEnd:(a,o)=>{delete this.session,s&&Yt.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=rm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let f1=!1;class Moe extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=t;a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),f1&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Xy.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,f1=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Yt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),dk.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;f1=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function I6(e){const[t,n]=r6(),r=v.useContext(HP);return i.jsx(Moe,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(p6),isPresent:t,safeToRemove:n})}function Roe(e,t,n){const r=br(e)?e:Id(e);return r.start(_k("",r,t,n)),r.animation}const Ioe=(e,t)=>e.depth-t.depth;class $oe{constructor(){this.children=[],this.isDirty=!1}add(t){GP(this.children,t),this.isDirty=!0}remove(t){YP(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Ioe),this.isDirty=!1,this.children.forEach(t)}}function Doe(e,t){const n=Wr.now(),r=({timestamp:s})=>{const a=s-n;a>=t&&(il(r),e(a-t))};return Yt.setup(r,!0),()=>il(r)}const $6=["TopLeft","TopRight","BottomLeft","BottomRight"],Loe=$6.length,QO=e=>typeof e=="string"?parseFloat(e):e,ZO=e=>typeof e=="number"||Ve.test(e);function Foe(e,t,n,r,s,a){s?(e.opacity=en(0,n.opacity??1,Boe(r)),e.opacityExit=en(t.opacity??1,0,Voe(r))):a&&(e.opacity=en(t.opacity??1,n.opacity??1,r));for(let o=0;o<Loe;o++){const l=`border${$6[o]}Radius`;let c=JO(t,l),u=JO(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||ZO(c)===ZO(u)?(e[l]=Math.max(en(QO(c),QO(u),r),0),(Qa.test(u)||Qa.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=en(t.rotate||0,n.rotate||0,r))}function JO(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Boe=D6(0,.5,_B),Voe=D6(.5,.95,Ls);function D6(e,t,n){return r=>r<e?0:r>t?1:n(qm(e,t,r))}function eM(e,t){e.min=t.min,e.max=t.max}function ta(e,t){eM(e.x,t.x),eM(e.y,t.y)}function tM(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function nM(e,t,n,r,s){return e-=t,e=Wv(e,1/n,r),s!==void 0&&(e=Wv(e,1/s,r)),e}function Uoe(e,t=0,n=1,r=.5,s,a=e,o=e){if(Qa.test(t)&&(t=parseFloat(t),t=en(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=en(a.min,a.max,r);e===a&&(l-=t),e.min=nM(e.min,t,n,l,s),e.max=nM(e.max,t,n,l,s)}function rM(e,t,[n,r,s],a,o){Uoe(e,t[n],t[r],t[s],t.scale,a,o)}const zoe=["x","scaleX","originX"],Woe=["y","scaleY","originY"];function sM(e,t,n,r){rM(e.x,t,zoe,n?n.x:void 0,r?r.x:void 0),rM(e.y,t,Woe,n?n.y:void 0,r?r.y:void 0)}function aM(e){return e.translate===0&&e.scale===1}function L6(e){return aM(e.x)&&aM(e.y)}function iM(e,t){return e.min===t.min&&e.max===t.max}function Hoe(e,t){return iM(e.x,t.x)&&iM(e.y,t.y)}function oM(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function F6(e,t){return oM(e.x,t.x)&&oM(e.y,t.y)}function lM(e){return Tr(e.x)/Tr(e.y)}function cM(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class qoe{constructor(){this.members=[]}add(t){GP(this.members,t),t.scheduleRender()}remove(t){if(YP(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Koe(e,t,n){let r="";const s=e.x.translate/t.x,a=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||a||o)&&(r=`translate3d(${s}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const h1=["","X","Y","Z"],Goe=1e3;let Yoe=0;function m1(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function B6(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=N6(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Yt,!(s||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&B6(r)}function V6({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Yoe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Zoe),this.nodes.forEach(nle),this.nodes.forEach(rle),this.nodes.forEach(Joe)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new $oe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new QP),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=n6(o)&&!Vae(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;Yt.read(()=>{f=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=Doe(h,250),Xy.hasAnimatedSinceResize&&(Xy.hasAnimatedSinceResize=!1,this.nodes.forEach(fM)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||lle,{onLayoutAnimationStart:p,onLayoutAnimationComplete:x}=u.getProps(),w=!this.targetLayout||!F6(this.targetLayout,m),g=!f&&h;if(this.options.layoutRoot||this.resumeFrom||g||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...ck(y,"layout"),onPlay:p,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,g)}else f||fM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),il(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sle),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&B6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uM);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(dM);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(tle),this.nodes.forEach(Xoe),this.nodes.forEach(Qoe)):this.nodes.forEach(dM),this.clearAllSnapshots();const l=Wr.now();nr.delta=Bi(0,1e3/60,l-nr.timestamp),nr.timestamp=l,nr.isProcessing=!0,n1.update.process(nr),n1.preRender.process(nr),n1.render.process(nr),nr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,dk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ele),this.sharedNodes.forEach(ale)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Yt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Yt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Tr(this.snapshot.measuredBox.x)&&!Tr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Mn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!L6(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Dl(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),cle(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Mn();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(ule))){const{scroll:d}=this.root;d&&(zu(l.x,d.offset.x),zu(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=Mn();if(ta(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&ta(l,o),zu(l.x,f.offset.x),zu(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=Mn();ta(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Wu(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Dl(d.latestValues)&&Wu(c,d.latestValues)}return Dl(this.latestValues)&&Wu(c,this.latestValues),c}removeTransform(o){const l=Mn();ta(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Dl(u.latestValues))continue;iS(u.latestValues)&&u.updateSnapshot();const d=Mn(),f=u.measurePageBox();ta(d,f),sM(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Dl(this.latestValues)&&sM(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=nr.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Mn(),this.targetWithTransforms=Mn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),voe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ta(this.target,this.layout.layoutBox),x6(this.target,this.targetDelta)):ta(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||iS(this.parent.latestValues)||v6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mn(),this.relativeTargetOrigin=Mn(),Hv(this.relativeTargetOrigin,l,c),ta(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var y;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===nr.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;ta(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;Aie(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Mn());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tM(this.prevProjectionDelta.x,this.projectionDelta.x),tM(this.prevProjectionDelta.y,this.projectionDelta.y)),sm(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!cM(this.projectionDelta.x,this.prevProjectionDelta.x)||!cM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hu(),this.projectionDelta=Hu(),this.projectionDeltaWithTransform=Hu()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Hu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Mn(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,p=m!==y,x=this.getStack(),w=!x||x.members.length<=1,g=!!(p&&!w&&this.options.crossfade===!0&&!this.path.some(ole));this.animationProgress=0;let b;this.mixTargetDelta=_=>{const j=_/1e3;hM(f.x,o.x,j),hM(f.y,o.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hv(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ile(this.relativeTarget,this.relativeTargetOrigin,h,j),b&&Hoe(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Mn()),ta(b,this.relativeTarget)),p&&(this.animationValues=d,Foe(d,u,this.latestValues,j,g,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(il(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Yt.update(()=>{Xy.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Id(0)),this.currentAnimation=Roe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Goe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&U6(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Mn();const f=Tr(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=Tr(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}ta(l,c),Wu(l,d),sm(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new qoe),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&m1("z",o,u,this.animationValues);for(let d=0;d<h1.length;d++)m1(`rotate${h1[d]}`,o,u,this.animationValues),m1(`skew${h1[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Yy(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Yy(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Dl(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=Koe(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),o.transform=f;const{x:h,y:m}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const y in aS){if(d[y]===void 0)continue;const{correct:p,applyTo:x,isCSSVariable:w}=aS[y],g=f==="none"?d[y]:p(d[y],u);if(x){const b=x.length;for(let _=0;_<b;_++)o[x[_]]=g}else w?this.options.visualElement.renderState.vars[y]=g:o[y]=g}this.options.layoutId&&(o.pointerEvents=u===this?Yy(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(uM),this.root.sharedNodes.clear()}}}function Xoe(e){e.updateLayout()}function Qoe(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?ks(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],m=Tr(h);h.min=r[f].min,h.max=h.min+m}):U6(a,t.layoutBox,r)&&ks(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],m=Tr(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=Hu();sm(l,r,t.layoutBox);const c=Hu();o?sm(c,e.applyTransform(s,!0),t.measuredBox):sm(c,r,t.layoutBox);const u=!L6(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const y=Mn();Hv(y,t.layoutBox,h.layoutBox);const p=Mn();Hv(p,r,m.layoutBox),F6(y,p)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=y,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Zoe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Joe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ele(e){e.clearSnapshot()}function uM(e){e.clearMeasurements()}function dM(e){e.isLayoutDirty=!1}function tle(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function fM(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nle(e){e.resolveTargetDelta()}function rle(e){e.calcProjection()}function sle(e){e.resetSkewAndRotation()}function ale(e){e.removeLeadSnapshot()}function hM(e,t,n){e.translate=en(t.translate,0,n),e.scale=en(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function mM(e,t,n,r){e.min=en(t.min,n.min,r),e.max=en(t.max,n.max,r)}function ile(e,t,n,r){mM(e.x,t.x,n.x,r),mM(e.y,t.y,n.y,r)}function ole(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const lle={duration:.45,ease:[.4,0,.1,1]},pM=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),gM=pM("applewebkit/")&&!pM("chrome/")?Math.round:Ls;function yM(e){e.min=gM(e.min),e.max=gM(e.max)}function cle(e){yM(e.x),yM(e.y)}function U6(e,t,n){return e==="position"||e==="preserve-aspect"&&!yoe(lM(t),lM(n),.2)}function ule(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const dle=V6({attachResizeListener:(e,t)=>Xm(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),p1={current:void 0},z6=V6({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!p1.current){const e=new dle({});e.mount(window),e.setOptions({layoutScroll:!0}),p1.current=e}return p1.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),fle={pan:{Feature:Ooe},drag:{Feature:Toe,ProjectionNode:z6,MeasureLayout:I6}};function vM(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&Yt.postRender(()=>a(t,ag(t)))}class hle extends yl{mount(){const{current:t}=this.node;t&&(this.unmount=$ae(t,(n,r)=>(vM(this.node,r,"Start"),s=>vM(this.node,s,"End"))))}unmount(){}}class mle extends yl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ng(Xm(this.node.current,"focus",()=>this.onFocus()),Xm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function xM(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&Yt.postRender(()=>a(t,ag(t)))}class ple extends yl{mount(){const{current:t}=this.node;t&&(this.unmount=Bae(t,(n,r)=>(xM(this.node,r,"Start"),(s,{success:a})=>xM(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hS=new WeakMap,g1=new WeakMap,gle=e=>{const t=hS.get(e.target);t&&t(e)},yle=e=>{e.forEach(gle)};function vle({root:e,...t}){const n=e||document;g1.has(n)||g1.set(n,{});const r=g1.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(yle,{root:e,...t})),r[s]}function xle(e,t,n){const r=vle(t);return hS.set(e,n),r.observe(e),()=>{hS.delete(e),r.unobserve(e)}}const ble={some:0,all:1};class wle extends yl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:ble[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return xle(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(_le(t,n))&&this.startObserver()}unmount(){}}function _le({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const jle={inView:{Feature:wle},tap:{Feature:ple},focus:{Feature:mle},hover:{Feature:hle}},Sle={layout:{ProjectionNode:z6,MeasureLayout:I6}},Nle={...doe,...jle,...fle,...Sle},Z=Pie(Nle,Bie),jk=bf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 hover:shadow-lg hover:-translate-y-0.5",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-gradient-cta text-primary-foreground hover:shadow-glow hover:-translate-y-0.5 font-semibold",heroOutline:"border-2 border-primary/30 bg-primary/5 text-primary hover:bg-primary/10 hover:border-primary/50 font-semibold",accent:"bg-accent text-accent-foreground hover:bg-accent/90 hover:shadow-accent hover:-translate-y-0.5",glass:"glass text-foreground hover:bg-card/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),G=v.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},a)=>{const o=r?mY:"button";return i.jsx(o,{className:ee(jk({variant:t,size:n,className:e})),ref:a,...s})});G.displayName="Button";const bM=[{name:"Features",href:"#features"},{name:"How It Works",href:"#how-it-works"},{name:"Pricing",href:"#pricing"},{name:"FAQ",href:"#faq"}];function Cle(){const[e,t]=v.useState(!1),r=ka().pathname==="/";return i.jsxs(Z.nav,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},className:"fixed top-0 left-0 right-0 z-50 glass-strong",children:[i.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[i.jsxs(tt,{to:"/",className:"flex items-center gap-2 group",children:[i.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-hero shadow-glow",children:i.jsx(ft,{className:"w-5 h-5 text-primary-foreground"})}),i.jsxs("span",{className:"font-display font-bold text-xl text-foreground",children:["Answer",i.jsx("span",{className:"text-gradient",children:"After"})]})]}),r&&i.jsx("div",{className:"hidden lg:flex items-center gap-8",children:bM.map(s=>i.jsx("a",{href:s.href,className:"text-muted-foreground hover:text-foreground transition-colors font-medium",children:s.name},s.name))}),i.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[i.jsx(G,{variant:"ghost",asChild:!0,children:i.jsx(tt,{to:"/auth",children:"Log In"})}),i.jsx(G,{variant:"hero",asChild:!0,children:i.jsx(tt,{to:"/auth?signup=true",children:"Get Started"})})]}),i.jsx("button",{className:"lg:hidden p-2 text-foreground",onClick:()=>t(!e),"aria-label":"Toggle menu",children:e?i.jsx(Om,{className:"w-6 h-6"}):i.jsx(A3,{className:"w-6 h-6"})})]})}),i.jsx(Of,{children:e&&i.jsx(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"lg:hidden glass-strong border-t border-border",children:i.jsxs("div",{className:"container mx-auto px-4 py-4 space-y-4",children:[r&&bM.map(s=>i.jsx("a",{href:s.href,className:"block py-2 text-muted-foreground hover:text-foreground transition-colors font-medium",onClick:()=>t(!1),children:s.name},s.name)),i.jsxs("div",{className:"flex flex-col gap-2 pt-4 border-t border-border",children:[i.jsx(G,{variant:"ghost",asChild:!0,className:"justify-start",children:i.jsx(tt,{to:"/auth",children:"Log In"})}),i.jsx(G,{variant:"hero",asChild:!0,children:i.jsx(tt,{to:"/auth?signup=true",children:"Get Started"})})]})]})})})]})}function Ple(){return i.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden pt-20",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-subtle"}),i.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-primary/10 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-accent/10 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23fff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),i.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:i.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20 mb-8",children:[i.jsx(Ga,{className:"w-4 h-4 text-primary"}),i.jsx("span",{className:"text-sm font-medium text-primary",children:"85% of Missed Calls Never Call Back"})]}),i.jsxs(Z.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"font-display text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold tracking-tight mb-6",children:["Stop Losing Leads to"," ",i.jsx("span",{className:"text-gradient",children:"Missed Calls"})]}),i.jsx(Z.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-lg sm:text-xl text-muted-foreground max-w-3xl mx-auto mb-10",children:"Every missed call costs you over half your leads. Answer After responds instantly to every inquiry, follows up within minutes, and keeps prospects engaged 24/7  so your marketing dollars actually convert."}),i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-16",children:[i.jsx(G,{variant:"hero",size:"xl",asChild:!0,children:i.jsxs(tt,{to:"/auth?signup=true",children:["Get Started",i.jsx(Yr,{className:"w-5 h-5"})]})}),i.jsx(G,{variant:"heroOutline",size:"xl",asChild:!0,children:i.jsx("a",{href:"#how-it-works",children:"See How It Works"})})]}),i.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"grid grid-cols-1 sm:grid-cols-3 gap-8 max-w-3xl mx-auto",children:[{icon:ft,value:"< 5 sec",label:"Response Time"},{icon:vs,value:"24/7",label:"Lead Coverage"},{icon:Di,value:"10x",label:"More Conversions"}].map((e,t)=>i.jsxs(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.5+t*.1},className:"flex flex-col items-center p-6 rounded-2xl glass",children:[i.jsx(e.icon,{className:"w-6 h-6 text-primary mb-3"}),i.jsx("span",{className:"text-3xl font-display font-bold text-foreground",children:e.value}),i.jsx("span",{className:"text-sm text-muted-foreground",children:e.label})]},e.label))})]})}),i.jsx(Z.div,{animate:{y:[0,-10,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/3 right-10 lg:right-20 hidden lg:block",children:i.jsx("div",{className:"p-4 rounded-2xl glass shadow-lg",children:i.jsx(ft,{className:"w-8 h-8 text-primary"})})}),i.jsx(Z.div,{animate:{y:[0,10,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-1/3 left-10 lg:left-20 hidden lg:block",children:i.jsx("div",{className:"p-4 rounded-2xl glass shadow-lg",children:i.jsx(Di,{className:"w-8 h-8 text-accent"})})})]})}const yi=[{time:0,rate:78,label:"Instant",message:"Maximum conversion potential"},{time:1,rate:74,label:"1 min",message:"Still in the golden window"},{time:5,rate:62,label:"5 min",message:"End of optimal response time"},{time:10,rate:47,label:"10 min",message:"Significant drop begins"},{time:15,rate:35,label:"15 min",message:"Half your leads are gone"},{time:30,rate:23,label:"30 min",message:"Only 23% chance remains"},{time:60,rate:16,label:"1 hour",message:"Most opportunity lost"},{time:120,rate:8,label:"2 hours",message:"Nearly impossible to convert"}],kle=1e3,mS=300,ll={top:50,right:50,bottom:50,left:50},Ele=kle-ll.left-ll.right,Ale=mS-ll.top-ll.bottom,W6=120,wM=78;function mr(e){return ll.left+e/W6*Ele}function qu(e){return ll.top+(wM-e)/wM*Ale}function _M(e){return e>=60?"#22c55e":e>=40?"#eab308":e>=20?"#f97316":"#ef4444"}function jM(e){return e>=60?"good":e>=40?"warning":e>=20?"danger":"critical"}function Tle(e){if(e<1)return"Instant (0 min)";if(e<60)return Math.round(e)+" min";const t=Math.floor(e/60),n=Math.round(e%60);return n===0?t+" hour"+(t>1?"s":""):t+"h "+n+"m"}function H6(e){if(e.length<2)return"";let t=`M ${mr(e[0].time)} ${qu(e[0].rate)}`;for(let n=1;n<e.length;n++){const r=e[n-1],s=e[n],a=mr(r.time)+(mr(s.time)-mr(r.time))/3,o=qu(r.rate),l=mr(s.time)-(mr(s.time)-mr(r.time))/3,c=qu(s.rate);t+=` C ${a} ${o}, ${l} ${c}, ${mr(s.time)} ${qu(s.rate)}`}return t}function Ole(e){const t=H6(e),n=e[e.length-1],r=e[0];return`${t} L ${mr(n.time)} ${mS-ll.bottom} L ${mr(r.time)} ${mS-ll.bottom} Z`}function Mle(e){for(let t=1;t<yi.length;t++)if(e<=yi[t].time){const n=yi[t-1],r=yi[t],s=(e-n.time)/(r.time-n.time);return n.rate+(r.rate-n.rate)*s}return yi[yi.length-1].rate}function Rle(e){return e<=5?"green":e<=15?"yellow":e<=30?"orange":"red"}function Ile(){const e=v.useRef(null),t=v.useRef(null),[n,r]=v.useState(0),[s,a]=v.useState(!0),[o,l]=v.useState(!1),[c,u]=v.useState(!1),d=v.useRef(null),f=n/100*W6,h=Math.round(Mle(f)),m=100-h,y=Rle(f),p=Math.round(h/100*70*.5+h/100*30*.1),x=v.useCallback(()=>{a(!1),d.current&&(clearInterval(d.current),d.current=null)},[]),w=v.useCallback(P=>{if(!t.current)return;const A=t.current.getBoundingClientRect(),E=A.width,I=(P-A.left)/E,D=.05,B=(I-D)/(.95-D),F=Math.max(0,Math.min(100,B*100));x(),r(F)},[x]),g=v.useCallback(P=>{u(!0),w(P.clientX)},[w]),b=v.useCallback(P=>{c&&w(P.clientX)},[c,w]),_=v.useCallback(()=>{u(!1)},[]),j=v.useCallback(P=>{u(!0),w(P.touches[0].clientX)},[w]),S=v.useCallback(P=>{c&&P.touches.length>0&&w(P.touches[0].clientX)},[c,w]);v.useEffect(()=>(c&&(window.addEventListener("mousemove",b),window.addEventListener("mouseup",_),window.addEventListener("touchmove",S),window.addEventListener("touchend",_)),()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",_),window.removeEventListener("touchmove",S),window.removeEventListener("touchend",_)}),[c,b,_,S]),v.useEffect(()=>{const P=new IntersectionObserver(([k])=>{const A=o,E=k.isIntersecting;E&&!A&&(r(0),a(!0)),l(E)},{threshold:.3});return e.current&&P.observe(e.current),()=>P.disconnect()},[o]),v.useEffect(()=>{if(!s||!o){d.current&&(clearInterval(d.current),d.current=null);return}return d.current=setInterval(()=>{r(P=>P>=50?(a(!1),50):P+.5)},50),()=>{d.current&&(clearInterval(d.current),d.current=null)}},[s,o]);const N=H6(yi),C=Ole(yi);return i.jsxs("section",{ref:e,className:"interactive-section",children:[i.jsx("style",{children:`
        .interactive-section {
          min-height: 100vh;
          padding: 80px 24px 60px;
          background: hsl(var(--background));
          color: hsl(var(--foreground));
          position: relative;
          overflow: hidden;
        }

        .mc-container {
          max-width: 1100px;
          margin: 0 auto;
        }

        .section-header {
          text-align: center;
          margin-bottom: 48px;
        }

        .section-badge {
          display: inline-flex;
          align-items: center;
          gap: 8px;
          padding: 8px 16px;
          background: hsl(var(--primary) / 0.15);
          border: 1px solid hsl(var(--primary) / 0.3);
          border-radius: 100px;
          font-size: 14px;
          font-weight: 500;
          color: hsl(var(--primary));
          margin-bottom: 20px;
        }

        .section-title {
          font-size: clamp(28px, 4vw, 44px);
          font-weight: 700;
          line-height: 1.2;
          margin-bottom: 12px;
          letter-spacing: -0.02em;
        }

        .section-title .highlight {
          background: linear-gradient(135deg, #f87171 0%, #fb923c 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .section-subtitle {
          font-size: 18px;
          color: hsl(var(--muted-foreground));
          max-width: 600px;
          margin: 0 auto;
        }

        .graph-container {
          background: hsl(var(--card));
          border: 1px solid hsl(var(--border));
          border-radius: 20px;
          padding: 40px;
          margin-bottom: 40px;
        }

        .graph-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 32px;
          flex-wrap: wrap;
          gap: 20px;
        }

        .graph-title {
          font-size: 20px;
          font-weight: 600;
          color: hsl(var(--foreground));
        }

        .graph-description {
          font-size: 14px;
          color: hsl(var(--muted-foreground));
          margin-top: 4px;
        }

        .current-stats {
          display: flex;
          gap: 24px;
          flex-wrap: wrap;
        }

        .stat-box {
          text-align: right;
        }

        .stat-box-label {
          font-size: 12px;
          color: hsl(var(--muted-foreground));
          text-transform: uppercase;
          letter-spacing: 0.05em;
        }

        .stat-box-value {
          font-size: 32px;
          font-weight: 700;
          font-variant-numeric: tabular-nums;
          transition: color 0.3s ease;
        }

        .stat-box-value.good { color: #4ade80; }
        .stat-box-value.warning { color: #fbbf24; }
        .stat-box-value.danger { color: #f87171; }
        .stat-box-value.critical { color: #dc2626; }

        .graph-wrapper {
          position: relative;
          margin-bottom: 24px;
        }

        .graph-svg {
          width: 100%;
          height: 300px;
          overflow: visible;
        }

        .grid-line {
          stroke: hsl(var(--border));
          stroke-width: 1;
        }

        .axis-label {
          fill: hsl(var(--muted-foreground));
          font-size: 12px;
        }

        .position-line {
          stroke: hsl(var(--foreground));
        }

        .graph-line {
          fill: none;
          stroke-width: 4;
          stroke-linecap: round;
          stroke-linejoin: round;
        }

        .data-point {
          cursor: pointer;
          transition: r 0.2s ease, filter 0.2s ease;
        }

        .data-point:hover {
          filter: drop-shadow(0 0 12px currentColor);
        }

        .graph-hint {
          text-align: center;
          font-size: 13px;
          color: hsl(var(--muted-foreground));
          margin-top: 12px;
        }

        .zones-container {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 12px;
          margin-top: 32px;
        }

        .zone-card {
          background: hsl(var(--card) / 0.5);
          border: 1px solid hsl(var(--border));
          border-radius: 12px;
          padding: 16px;
          text-align: center;
          transition: all 0.3s ease;
          opacity: 0.5;
        }

        .zone-card.active {
          opacity: 1;
          transform: translateY(-2px);
        }

        .zone-card.green { border-color: rgba(34, 197, 94, 0.3); }
        .zone-card.green.active { background: rgba(34, 197, 94, 0.1); box-shadow: 0 4px 20px rgba(34, 197, 94, 0.2); }

        .zone-card.yellow { border-color: rgba(234, 179, 8, 0.3); }
        .zone-card.yellow.active { background: rgba(234, 179, 8, 0.1); box-shadow: 0 4px 20px rgba(234, 179, 8, 0.2); }

        .zone-card.orange { border-color: rgba(249, 115, 22, 0.3); }
        .zone-card.orange.active { background: rgba(249, 115, 22, 0.1); box-shadow: 0 4px 20px rgba(249, 115, 22, 0.2); }

        .zone-card.red { border-color: rgba(239, 68, 68, 0.3); }
        .zone-card.red.active { background: rgba(239, 68, 68, 0.1); box-shadow: 0 4px 20px rgba(239, 68, 68, 0.2); }

        .zone-icon {
          font-size: 24px;
          margin-bottom: 8px;
        }

        .zone-time {
          font-size: 13px;
          font-weight: 600;
          color: hsl(var(--foreground));
          margin-bottom: 4px;
        }

        .zone-label {
          font-size: 11px;
          color: hsl(var(--muted-foreground));
          text-transform: uppercase;
          letter-spacing: 0.05em;
        }

        .funnel-section {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 32px;
          margin-bottom: 48px;
        }

        .funnel-card {
          background: hsl(var(--card));
          border: 1px solid hsl(var(--border));
          border-radius: 16px;
          padding: 32px;
        }

        .funnel-title {
          font-size: 16px;
          font-weight: 600;
          color: hsl(var(--foreground));
          margin-bottom: 24px;
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .funnel-title svg {
          width: 20px;
          height: 20px;
        }

        .funnel-visual {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .funnel-bar {
          height: 40px;
          border-radius: 8px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 0 16px;
          font-size: 14px;
          font-weight: 500;
          transition: all 0.5s ease;
          position: relative;
          overflow: hidden;
        }

        .funnel-bar::before {
          content: '';
          position: absolute;
          inset: 0;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
          transform: translateX(-100%);
          animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
          100% { transform: translateX(100%); }
        }

        .funnel-bar.incoming {
          background: linear-gradient(90deg, #3b82f6, #2563eb);
          width: 100%;
        }

        .funnel-bar.answered {
          background: linear-gradient(90deg, #22c55e, #16a34a);
        }

        .funnel-bar.missed {
          background: linear-gradient(90deg, #ef4444, #dc2626);
        }

        .funnel-bar.converted {
          background: linear-gradient(90deg, #8b5cf6, #7c3aed);
        }

        .funnel-bar-label {
          color: white;
          z-index: 1;
        }

        .funnel-bar-value {
          color: white;
          font-weight: 700;
          z-index: 1;
        }

        .comparison-row {
          display: grid;
          grid-template-columns: 1fr auto 1fr;
          gap: 24px;
          align-items: center;
          margin-bottom: 48px;
        }

        .comparison-card {
          background: hsl(var(--card));
          border: 1px solid hsl(var(--border));
          border-radius: 16px;
          padding: 32px;
          text-align: center;
        }

        .comparison-card.bad {
          border-color: rgba(239, 68, 68, 0.2);
        }

        .comparison-card.good {
          border-color: rgba(34, 197, 94, 0.2);
        }

        .comparison-label {
          font-size: 12px;
          color: hsl(var(--muted-foreground));
          text-transform: uppercase;
          letter-spacing: 0.1em;
          margin-bottom: 12px;
        }

        .comparison-value {
          font-size: 48px;
          font-weight: 700;
          margin-bottom: 8px;
        }

        .comparison-card.bad .comparison-value { color: #f87171; }
        .comparison-card.good .comparison-value { color: #4ade80; }

        .comparison-text {
          font-size: 14px;
          color: hsl(var(--muted-foreground));
        }

        .comparison-arrow {
          font-size: 32px;
          color: hsl(var(--primary));
        }

        .cta-section {
          text-align: center;
          padding: 48px;
          background: linear-gradient(135deg, hsl(var(--primary) / 0.1) 0%, hsl(260 84% 55% / 0.1) 100%);
          border: 1px solid hsl(var(--primary) / 0.2);
          border-radius: 20px;
        }

        .cta-title {
          font-size: 28px;
          font-weight: 700;
          margin-bottom: 12px;
        }

        .cta-text {
          font-size: 18px;
          color: hsl(var(--muted-foreground));
          margin-bottom: 32px;
          max-width: 500px;
          margin-left: auto;
          margin-right: auto;
        }

        .cta-text .emphasis {
          color: #4ade80;
          font-weight: 600;
        }

        .cta-buttons {
          display: flex;
          gap: 16px;
          justify-content: center;
          flex-wrap: wrap;
        }

        .cta-button {
          display: inline-flex;
          align-items: center;
          gap: 8px;
          padding: 16px 32px;
          font-size: 16px;
          font-weight: 600;
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.2s ease;
          text-decoration: none;
          border: none;
        }

        .cta-button.primary {
          background: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(217 91% 50%) 100%);
          color: white;
          box-shadow: 0 4px 14px hsl(var(--primary) / 0.4);
        }

        .cta-button.primary:hover {
          transform: translateY(-2px);
          box-shadow: 0 6px 20px hsl(var(--primary) / 0.5);
        }

        .cta-button.secondary {
          background: hsl(var(--card) / 0.5);
          color: hsl(var(--foreground));
          border: 1px solid hsl(var(--border));
        }

        .cta-button.secondary:hover {
          background: hsl(var(--card));
        }

        .cta-button svg {
          width: 20px;
          height: 20px;
        }

        .footnote {
          font-size: 0.6em;
          vertical-align: super;
          color: hsl(var(--muted-foreground));
          text-decoration: none;
          margin-left: 1px;
          transition: color 0.2s ease;
        }

        .footnote:hover {
          color: hsl(var(--primary));
        }

        .footnotes-section {
          text-align: center;
          margin-top: 48px;
          padding-top: 24px;
          border-top: 1px solid hsl(var(--border));
        }

        .footnotes-list {
          display: flex;
          justify-content: center;
          align-items: center;
          flex-wrap: wrap;
          gap: 24px;
        }

        .footnote-item {
          font-size: 11px;
          color: hsl(var(--muted-foreground));
        }

        .footnote-num {
          color: hsl(var(--muted-foreground));
        }

        .footnote-item a {
          color: hsl(var(--muted-foreground));
          text-decoration: none;
          transition: color 0.2s ease;
        }

        .footnote-item a:hover {
          color: hsl(var(--primary));
          text-decoration: underline;
        }

        @media (max-width: 900px) {
          .funnel-section {
            grid-template-columns: 1fr;
          }

          .comparison-row {
            grid-template-columns: 1fr;
            gap: 16px;
          }

          .comparison-arrow {
            transform: rotate(90deg);
          }
        }

        @media (max-width: 768px) {
          .interactive-section {
            padding: 40px 16px;
          }

          .graph-container {
            padding: 24px;
          }

          .graph-header {
            flex-direction: column;
            align-items: flex-start;
          }

          .current-stats {
            width: 100%;
            justify-content: space-between;
          }

          .stat-box {
            text-align: left;
          }

          .zones-container {
            grid-template-columns: repeat(2, 1fr);
          }

          .graph-svg {
            height: 220px;
          }

          .cta-section {
            padding: 32px 24px;
          }

          .cta-buttons {
            flex-direction: column;
            align-items: center;
          }

          .cta-button {
            width: 100%;
            max-width: 280px;
            justify-content: center;
          }
        }
      `}),i.jsxs("div",{className:"mc-container",children:[i.jsxs("header",{className:"section-header",children:[i.jsx("h2",{className:"section-title",children:"Missed Calls Cost You More Than You Think"}),i.jsxs("p",{className:"section-subtitle",children:["Research shows leads contacted within 5 minutes are ",i.jsx("strong",{children:"9x more likely to convert"}),i.jsx("a",{href:"https://www.leadresponsemanagement.org/lrm_study",target:"_blank",rel:"noopener noreferrer",className:"footnote",children:"[1]"}),". Wait longer, and most callers never try again."]})]}),i.jsxs("div",{className:"graph-container",children:[i.jsxs("div",{className:"graph-header",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"graph-title",children:"Lead Conversion Rate vs Response Time"}),i.jsxs("p",{className:"graph-description",children:["Based on Lead Response Management Study",i.jsx("a",{href:"https://www.leadresponsemanagement.org/lrm_study",target:"_blank",rel:"noopener noreferrer",className:"footnote",children:"[1]"})]})]}),i.jsxs("div",{className:"current-stats",children:[i.jsxs("div",{className:"stat-box",children:[i.jsx("div",{className:"stat-box-label",children:"Response Time"}),i.jsx("div",{className:`stat-box-value ${jM(h)}`,children:Tle(f)})]}),i.jsxs("div",{className:"stat-box",children:[i.jsx("div",{className:"stat-box-label",children:"Conversion Rate"}),i.jsxs("div",{className:`stat-box-value ${jM(h)}`,children:[h,"%"]})]}),i.jsxs("div",{className:"stat-box",children:[i.jsx("div",{className:"stat-box-label",children:"Leads Lost"}),i.jsxs("div",{className:`stat-box-value ${m>50?"danger":m>20?"warning":"good"}`,children:[m,"%"]})]})]})]}),i.jsxs("div",{className:"graph-wrapper",children:[i.jsxs("svg",{ref:t,className:"graph-svg",viewBox:"0 0 1000 320",preserveAspectRatio:"xMidYMid meet",onMouseDown:g,onTouchStart:j,style:{cursor:c?"grabbing":"grab"},children:[i.jsxs("g",{className:"grid",children:[i.jsx("line",{className:"grid-line",x1:"50",y1:"50",x2:"950",y2:"50"}),i.jsx("line",{className:"grid-line",x1:"50",y1:"100",x2:"950",y2:"100"}),i.jsx("line",{className:"grid-line",x1:"50",y1:"150",x2:"950",y2:"150"}),i.jsx("line",{className:"grid-line",x1:"50",y1:"200",x2:"950",y2:"200"}),i.jsx("line",{className:"grid-line",x1:"50",y1:"250",x2:"950",y2:"250"})]}),i.jsxs("g",{className:"y-labels",children:[i.jsx("text",{className:"axis-label",x:"45",y:"55",textAnchor:"end",children:"78%"}),i.jsx("text",{className:"axis-label",x:"45",y:"105",textAnchor:"end",children:"59%"}),i.jsx("text",{className:"axis-label",x:"45",y:"155",textAnchor:"end",children:"39%"}),i.jsx("text",{className:"axis-label",x:"45",y:"205",textAnchor:"end",children:"20%"}),i.jsx("text",{className:"axis-label",x:"45",y:"255",textAnchor:"end",children:"0%"})]}),i.jsxs("g",{className:"x-labels",children:[i.jsx("text",{className:"axis-label",x:"50",y:"275",textAnchor:"middle",children:"0"}),i.jsx("text",{className:"axis-label",x:"162",y:"275",textAnchor:"middle",children:"15m"}),i.jsx("text",{className:"axis-label",x:"275",y:"275",textAnchor:"middle",children:"30m"}),i.jsx("text",{className:"axis-label",x:"500",y:"275",textAnchor:"middle",children:"1hr"}),i.jsx("text",{className:"axis-label",x:"725",y:"275",textAnchor:"middle",children:"1.5hr"}),i.jsx("text",{className:"axis-label",x:"950",y:"275",textAnchor:"middle",children:"2hr"})]}),i.jsx("text",{x:"500",y:"305",textAnchor:"middle",className:"axis-label",fontSize:"12",children:"Response Time"}),i.jsx("text",{x:"-150",y:"15",textAnchor:"middle",className:"axis-label",fontSize:"12",transform:"rotate(-90)",children:"Conversion Rate"}),i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"areaGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[i.jsx("stop",{offset:"0%",style:{stopColor:"#3b82f6",stopOpacity:.2}}),i.jsx("stop",{offset:"100%",style:{stopColor:"#3b82f6",stopOpacity:0}})]}),i.jsxs("linearGradient",{id:"lineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[i.jsx("stop",{offset:"0%",style:{stopColor:"#22c55e"}}),i.jsx("stop",{offset:"20%",style:{stopColor:"#eab308"}}),i.jsx("stop",{offset:"50%",style:{stopColor:"#f97316"}}),i.jsx("stop",{offset:"100%",style:{stopColor:"#ef4444"}})]}),i.jsx("filter",{id:"lineShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:i.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"3",floodColor:"#000",floodOpacity:"0.3"})})]}),i.jsx("path",{fill:"url(#areaGradient)",d:C}),i.jsx("path",{className:"graph-line",stroke:"url(#lineGradient)",d:N,filter:"url(#lineShadow)"}),yi.map((P,k)=>i.jsx("circle",{cx:mr(P.time),cy:qu(P.rate),r:"6",fill:_M(P.rate),className:"data-point"},k)),i.jsxs("g",{className:"position-indicator",children:[i.jsx("rect",{x:mr(f)-15,y:"45",width:"30",height:"210",fill:"transparent",style:{cursor:"ew-resize"}}),i.jsx("line",{x1:mr(f),y1:"50",x2:mr(f),y2:"250",className:"position-line",strokeWidth:"2",strokeDasharray:"4,4",opacity:"0.7"}),i.jsxs("g",{transform:`translate(${mr(f)}, 150)`,opacity:"0.8",children:[i.jsx("path",{d:"M-8 -5 L-12 0 L-8 5",className:"position-line",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M8 -5 L12 0 L8 5",className:"position-line",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]}),i.jsx("circle",{cx:mr(f),cy:qu(h),r:"10",fill:_M(h),style:{filter:"drop-shadow(0 0 10px rgba(255,255,255,0.6))",cursor:"ew-resize"}})]})]}),i.jsx("p",{className:"graph-hint",children:"Drag to explore response times"})]}),i.jsxs("div",{className:"zones-container",children:[i.jsxs("div",{className:`zone-card green ${y==="green"?"active":""}`,children:[i.jsx("div",{className:"zone-icon",children:""}),i.jsx("div",{className:"zone-time",children:"0-5 min"}),i.jsx("div",{className:"zone-label",children:"Golden Window"})]}),i.jsxs("div",{className:`zone-card yellow ${y==="yellow"?"active":""}`,children:[i.jsx("div",{className:"zone-icon",children:""}),i.jsx("div",{className:"zone-time",children:"5-15 min"}),i.jsx("div",{className:"zone-label",children:"Risky Zone"})]}),i.jsxs("div",{className:`zone-card orange ${y==="orange"?"active":""}`,children:[i.jsx("div",{className:"zone-icon",children:""}),i.jsx("div",{className:"zone-time",children:"15-30 min"}),i.jsx("div",{className:"zone-label",children:"Danger Zone"})]}),i.jsxs("div",{className:`zone-card red ${y==="red"?"active":""}`,children:[i.jsx("div",{className:"zone-icon",children:""}),i.jsx("div",{className:"zone-time",children:"30+ min"}),i.jsx("div",{className:"zone-label",children:"Lost Cause"})]})]})]}),i.jsxs("div",{className:"funnel-section",children:[i.jsxs("div",{className:"funnel-card",children:[i.jsxs("h3",{className:"funnel-title",children:[i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#ef4444",strokeWidth:"2",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),i.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),"Without AI Receptionist"]}),i.jsxs("div",{className:"funnel-visual",children:[i.jsxs("div",{className:"funnel-bar incoming",style:{width:"100%"},children:[i.jsx("span",{className:"funnel-bar-label",children:"Incoming Leads"}),i.jsx("span",{className:"funnel-bar-value",children:"100"})]}),i.jsxs("div",{className:"funnel-bar answered",style:{width:"70%"},children:[i.jsx("span",{className:"funnel-bar-label",children:"Answered"}),i.jsx("span",{className:"funnel-bar-value",children:"70"})]}),i.jsxs("div",{className:"funnel-bar missed",style:{width:"30%"},children:[i.jsx("span",{className:"funnel-bar-label",children:"Missed Calls"}),i.jsx("span",{className:"funnel-bar-value",children:"30"})]}),i.jsxs("div",{className:"funnel-bar converted",style:{width:`${p}%`},children:[i.jsx("span",{className:"funnel-bar-label",children:"Converted"}),i.jsx("span",{className:"funnel-bar-value",children:p})]})]})]}),i.jsxs("div",{className:"funnel-card",children:[i.jsxs("h3",{className:"funnel-title",children:[i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#22c55e",strokeWidth:"2",children:[i.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),i.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),"With AI Receptionist"]}),i.jsxs("div",{className:"funnel-visual",children:[i.jsxs("div",{className:"funnel-bar incoming",style:{width:"100%"},children:[i.jsx("span",{className:"funnel-bar-label",children:"Incoming Leads"}),i.jsx("span",{className:"funnel-bar-value",children:"100"})]}),i.jsxs("div",{className:"funnel-bar answered",style:{width:"100%"},children:[i.jsx("span",{className:"funnel-bar-label",children:"Answered (24/7)"}),i.jsx("span",{className:"funnel-bar-value",children:"100"})]}),i.jsxs("div",{className:"funnel-bar missed",style:{width:"0%",minWidth:"80px",opacity:.3},children:[i.jsx("span",{className:"funnel-bar-label",children:"Missed"}),i.jsx("span",{className:"funnel-bar-value",children:"0"})]}),i.jsxs("div",{className:"funnel-bar converted",style:{width:"78%"},children:[i.jsx("span",{className:"funnel-bar-label",children:"Converted"}),i.jsx("span",{className:"funnel-bar-value",children:"78"})]})]})]})]}),i.jsxs("div",{className:"comparison-row",children:[i.jsxs("div",{className:"comparison-card bad",children:[i.jsx("div",{className:"comparison-label",children:"Wait 30+ Minutes"}),i.jsx("div",{className:"comparison-value",children:"-80%"}),i.jsx("div",{className:"comparison-text",children:"Drop in conversion likelihood"})]}),i.jsx("div",{className:"comparison-arrow",children:""}),i.jsxs("div",{className:"comparison-card good",children:[i.jsx("div",{className:"comparison-label",children:"Respond in 5 Minutes"}),i.jsx("div",{className:"comparison-value",children:"9x"}),i.jsx("div",{className:"comparison-text",children:"More likely to convert"})]})]}),i.jsxs("div",{className:"cta-section",children:[i.jsx("h2",{className:"cta-title",children:"Stop Losing Leads Automatically"}),i.jsxs("p",{className:"cta-text",children:["AnswerAfter responds instantly and follows up for you  ",i.jsx("span",{className:"emphasis",children:"24/7"}),". Stay in the golden window without lifting a finger."]}),i.jsxs("div",{className:"cta-buttons",children:[i.jsxs("a",{href:"/auth?signup=true",className:"cta-button primary",children:[i.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),"Start Free Trial"]}),i.jsxs("a",{href:"#pricing",className:"cta-button secondary",children:["View Pricing",i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),i.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]})]})]})]})}const $le=[{icon:oX,title:"Instant Lead Response",description:"Every call answered in seconds. Respond within the critical 5-minute window when leads are 10x more likely to convert."},{icon:Di,title:"Smart Scheduling",description:"Book appointments automatically while prospects are engaged  before they call your competitor."},{icon:T0,title:"Persistent Follow-Up",description:"Multi-touch sequences via call and text ensure no lead falls through the cracks. 78% of customers choose the first to respond."},{icon:w3,title:"Real-Time Alerts",description:"Get instant notifications for hot leads so you can jump in when it matters most."},{icon:Mm,title:"Speed to Lead",description:"Waiting 30 minutes drops conversion by 25%. Our AI responds instantly, 24/7, so you never lose the timing advantage."},{icon:cX,title:"Conversion Analytics",description:"See exactly how many leads you're capturing vs. losing. Track your marketing ROI in real-time."},{icon:oj,title:"Enterprise Security",description:"HIPAA-ready compliance, encrypted data, and multi-tenant isolation for complete peace of mind."},{icon:ft,title:"Works With Your Number",description:"Seamless integration with your existing phone system. No complicated setup required."}];function Dle(){return i.jsxs("section",{id:"features",className:"py-24 lg:py-32 relative",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-subtle"}),i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[i.jsxs(Z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"text-center max-w-3xl mx-auto mb-16 lg:mb-20",children:[i.jsx("span",{className:"inline-block px-4 py-2 rounded-full bg-accent/10 text-accent text-sm font-semibold mb-4",children:"Features"}),i.jsxs("h2",{className:"font-display text-3xl sm:text-4xl lg:text-5xl font-bold mb-6",children:["Stop Wasting Your"," ",i.jsx("span",{className:"text-gradient",children:"Marketing Budget"})]}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"You're spending thousands to make the phone ring. Answer After ensures every lead gets an instant response  so your ad spend actually converts to revenue."})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:$le.map((e,t)=>i.jsxs(Z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:t*.1},className:"group p-6 rounded-2xl bg-card border border-border hover:border-primary/30 hover:shadow-lg transition-all duration-300",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-hero flex items-center justify-center mb-4 group-hover:shadow-glow transition-shadow duration-300",children:i.jsx(e.icon,{className:"w-6 h-6 text-primary-foreground"})}),i.jsx("h3",{className:"font-display font-semibold text-lg mb-2",children:e.title}),i.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:e.description})]},e.title))})]})]})}const Lle=[{icon:yc,step:"01",title:"Lead Calls In",description:"Every call answered instantly  within seconds, not minutes. 85% of callers won't try again if you miss them."},{icon:Ds,step:"02",title:"Instant Engagement",description:"AI engages the prospect immediately, gathering their needs while they're most interested in buying."},{icon:lX,step:"03",title:"Book While Hot",description:"Schedule appointments on the spot. Leads contacted within 5 minutes are 10x more likely to convert."},{icon:iX,step:"04",title:"Persistent Follow-Up",description:"Automated reminders and follow-ups keep leads engaged until they convert  no prospect left behind."}];function Fle(){return i.jsxs("section",{id:"how-it-works",className:"py-24 lg:py-32 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[800px] h-[800px] bg-primary/5 rounded-full blur-3xl"}),i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[i.jsxs(Z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"text-center max-w-3xl mx-auto mb-16 lg:mb-20",children:[i.jsx("span",{className:"inline-block px-4 py-2 rounded-full bg-primary/10 text-primary text-sm font-semibold mb-4",children:"How It Works"}),i.jsxs("h2",{className:"font-display text-3xl sm:text-4xl lg:text-5xl font-bold mb-6",children:["From Missed Call to"," ",i.jsx("span",{className:"text-gradient",children:"Booked Appointment"})]}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Set up in minutes. Start capturing leads that would've gone to your competitors while you were busy or after hours."})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:Lle.map((e,t)=>i.jsx(Z.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:t*.15},className:"relative",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl bg-card border border-border flex items-center justify-center mb-5",children:i.jsx(e.icon,{className:"w-7 h-7 text-primary"})}),i.jsx("h3",{className:"font-display font-semibold text-xl mb-3",children:e.title}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e.description})]})},e.step))})]})]})}const qc={name:"Answer After",nameCamelCase:"AnswerAfter",website:"answerafter.com"},am={sales:"contact@answerafter.com",support:"contact@answerafter.com",general:"contact@answerafter.com"},Qm={salesEmail:`mailto:${am.sales}`,supportEmail:`mailto:${am.support}`,generalEmail:`mailto:${am.general}`},Ble={STARTER:"starter",PRO:"pro",BUSINESS:"business",ENTERPRISE:"enterprise"},Vle=Ble.STARTER;function ig(){const{user:e}=ht();return jt({queryKey:["subscription",e==null?void 0:e.account_id],queryFn:async()=>Hre,enabled:!!(e!=null&&e.account_id)||ir()})}const Ule=[{id:"1",plan_id:"starter",name:"Starter",description:"Perfect for solo practices and after-hours coverage",price_cents:4900,credits:6e3,sms_limit:0,phone_lines:1,features:["24/7 AI call answering","Appointment scheduling","Call recordings","HIPAA compliant","Email notifications","Email support"],is_popular:!1,has_custom_agent:!1,has_outbound_reminders:!1,has_call_recordings:!0,has_api_access:!1,has_priority_support:!1,has_custom_ai_training:!1,has_sla_guarantee:!1,has_hipaa_compliance:!1,has_voice_selection:!1,has_multi_language:!1,support_level:"email",is_active:!0,is_visible:!0,display_order:1,stripe_monthly_price_id:null},{id:"2",plan_id:"growth",name:"Growth",description:"Ideal for small practices with 1-2 dentists",price_cents:9900,credits:12e3,sms_limit:250,phone_lines:1,features:["Everything in Starter, plus:","200 minutes/month","250 SMS/month","Call recordings & transcripts","Custom AI greeting"],is_popular:!1,has_custom_agent:!0,has_outbound_reminders:!1,has_call_recordings:!0,has_api_access:!1,has_priority_support:!1,has_custom_ai_training:!1,has_sla_guarantee:!1,has_hipaa_compliance:!1,has_voice_selection:!1,has_multi_language:!1,support_level:"email",is_active:!0,is_visible:!0,display_order:2,stripe_monthly_price_id:null},{id:"3",plan_id:"pro",name:"Pro",description:"Best for busy practices needing full AI customization",price_cents:19900,credits:3e4,sms_limit:500,phone_lines:2,features:["Everything in Growth, plus:","500 minutes/month","500 SMS/month","Custom AI personality","Custom knowledge training","Priority support"],is_popular:!0,has_custom_agent:!0,has_outbound_reminders:!1,has_call_recordings:!0,has_api_access:!1,has_priority_support:!0,has_custom_ai_training:!0,has_sla_guarantee:!1,has_hipaa_compliance:!1,has_voice_selection:!0,has_multi_language:!1,support_level:"priority",is_active:!0,is_visible:!0,display_order:3,stripe_monthly_price_id:null},{id:"4",plan_id:"business",name:"Business",description:"Complete solution for high-volume and multi-location practices",price_cents:49900,credits:72e3,sms_limit:2e3,phone_lines:5,features:["Everything in Pro, plus:","1,200 minutes/month","2,000 SMS/month","Outbound appointment reminders","Multi-language support","Dedicated account manager","SLA guarantee"],is_popular:!1,has_custom_agent:!0,has_outbound_reminders:!0,has_call_recordings:!0,has_api_access:!1,has_priority_support:!0,has_custom_ai_training:!0,has_sla_guarantee:!1,has_hipaa_compliance:!1,has_voice_selection:!0,has_multi_language:!0,support_level:"dedicated",is_active:!0,is_visible:!0,display_order:4,stripe_monthly_price_id:null},{id:"5",plan_id:"enterprise",name:"Enterprise",description:"Custom solution for DSOs and large dental groups",price_cents:0,credits:0,sms_limit:-1,phone_lines:-1,features:["Everything in Business, plus:","Unlimited minutes","Unlimited SMS","HIPAA compliance","Custom integrations","White-label options","24/7 priority support"],is_popular:!1,has_custom_agent:!0,has_outbound_reminders:!0,has_call_recordings:!0,has_api_access:!0,has_priority_support:!0,has_custom_ai_training:!0,has_sla_guarantee:!0,has_hipaa_compliance:!1,has_voice_selection:!0,has_multi_language:!0,support_level:"enterprise",is_active:!0,is_visible:!0,display_order:5,stripe_monthly_price_id:null}];function og(){return jt({queryKey:["subscription-tiers"],queryFn:async()=>Ule,staleTime:5*60*1e3})}function q6(){ht();const{data:e,isLoading:t}=ig(),{data:n,isLoading:r}=og(),s=(e==null?void 0:e.plan)||Vle,a=(n==null?void 0:n.find(o=>o.plan_id===s))||null;return{subscription:e,currentTier:a,currentPlanId:s,isLoading:t||r,features:{hasCustomAgent:(a==null?void 0:a.has_custom_agent)??!1,hasOutboundReminders:(a==null?void 0:a.has_outbound_reminders)??!1,hasCallRecordings:(a==null?void 0:a.has_call_recordings)??!0,hasApiAccess:(a==null?void 0:a.has_api_access)??!1,hasPrioritySupport:(a==null?void 0:a.has_priority_support)??!1,hasCustomAiTraining:(a==null?void 0:a.has_custom_ai_training)??!1,hasSlaGuarantee:(a==null?void 0:a.has_sla_guarantee)??!1,hasHipaaCompliance:(a==null?void 0:a.has_hipaa_compliance)??!1,hasMultiLanguage:(a==null?void 0:a.has_multi_language)??!1,credits:(a==null?void 0:a.credits)??250}}}function zle(){const{data:e,isLoading:t}=og(),n=a=>a<0?"Custom":Math.floor(a/100),r=a=>a==="enterprise",s=a=>a==="business";return i.jsx("section",{id:"pricing",className:"py-24 lg:py-32 relative bg-muted/30",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[i.jsxs(Z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"text-center max-w-3xl mx-auto mb-12",children:[i.jsx("h2",{className:"font-display text-3xl sm:text-4xl lg:text-5xl font-bold mb-4",children:"Simple, Transparent Pricing"}),i.jsx("p",{className:"text-lg text-muted-foreground mb-3",children:"Plans that grow with your business. No hidden fees."}),i.jsx("p",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-accent/10 border border-accent/20 text-accent font-semibold text-sm",children:" Get your first month for just $1 on any plan"})]}),t&&i.jsx("div",{className:"flex justify-center items-center py-20",children:i.jsx(Oe,{className:"w-8 h-8 animate-spin text-primary"})}),!t&&e&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 max-w-7xl mx-auto",children:e.map((a,o)=>i.jsx(Z.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:o*.08},className:"relative flex flex-col",children:i.jsxs("div",{className:`flex-1 flex flex-col rounded-2xl p-5 transition-all ${a.is_popular?"bg-primary text-primary-foreground ring-2 ring-primary shadow-lg scale-[1.02]":s(a.plan_id)?"bg-card border-2 border-accent":"bg-card border border-border"}`,children:[a.is_popular&&i.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:i.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-accent text-accent-foreground text-xs font-semibold",children:"Most Popular"})}),s(a.plan_id)&&i.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:i.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-accent text-accent-foreground text-xs font-semibold whitespace-nowrap",children:"Best for High Volume"})}),i.jsxs("div",{className:"mb-4 mt-2",children:[i.jsx("h3",{className:`font-display font-semibold text-lg mb-1 ${a.is_popular?"text-primary-foreground":"text-foreground"}`,children:a.name}),i.jsx("p",{className:`text-sm ${a.is_popular?"text-primary-foreground/80":"text-muted-foreground"}`,children:a.description})]}),i.jsx("div",{className:"mb-5",children:r(a.plan_id)?i.jsx("div",{className:`font-display text-2xl font-bold ${a.is_popular?"text-primary-foreground":"text-foreground"}`,children:"Custom"}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsxs("span",{className:`font-display text-3xl font-bold ${a.is_popular?"text-primary-foreground":"text-foreground"}`,children:["$",n(a.price_cents)]}),i.jsx("span",{className:`text-sm ${a.is_popular?"text-primary-foreground/70":"text-muted-foreground"}`,children:"/mo"})]}),i.jsx("p",{className:`text-xs mt-1 ${a.is_popular?"text-primary-foreground/70":"text-muted-foreground"}`,children:"billed monthly"})]})}),i.jsx("ul",{className:"space-y-2.5 mb-5 flex-1",children:a.features.map((l,c)=>i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 ${a.is_popular?"bg-primary-foreground/20":"bg-success/10"}`,children:i.jsx(fn,{className:`w-2.5 h-2.5 ${a.is_popular?"text-primary-foreground":"text-success"}`})}),i.jsx("span",{className:`text-sm ${a.is_popular?"text-primary-foreground/90":"text-foreground"}`,children:l})]},c))}),i.jsx(G,{variant:a.is_popular?"secondary":r(a.plan_id)?"outline":"default",size:"sm",className:`w-full ${a.is_popular?"bg-primary-foreground text-primary hover:bg-primary-foreground/90":""}`,asChild:!0,children:r(a.plan_id)?i.jsxs("a",{href:Qm.salesEmail,children:["Contact Sales",i.jsx(Yr,{className:"w-4 h-4 ml-1"})]}):i.jsxs(tt,{to:"/auth?signup=true",children:["Get Started",i.jsx(Yr,{className:"w-4 h-4 ml-1"})]})})]})},a.plan_id))}),i.jsx(Z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.4},className:"mt-12 text-center max-w-2xl mx-auto",children:i.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[i.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Need more capacity?"}),i.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:"Top up anytime with minute packages. Minutes never expire and are used first."}),i.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm",children:[i.jsxs("span",{className:"text-foreground",children:[i.jsx("strong",{children:"$5"})," ",i.jsx("span",{className:"text-muted-foreground",children:"for 5 min"})]}),i.jsx("span",{className:"text-muted-foreground",children:""}),i.jsxs("span",{className:"text-foreground",children:[i.jsx("strong",{children:"$15"})," ",i.jsx("span",{className:"text-muted-foreground",children:"for 17 min"})]}),i.jsx("span",{className:"text-muted-foreground",children:""}),i.jsxs("span",{className:"text-foreground",children:[i.jsx("strong",{children:"$40"})," ",i.jsx("span",{className:"text-muted-foreground",children:"for 50 min"})]})]})]})}),i.jsx(Z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.5},className:"mt-8 text-center",children:i.jsx("p",{className:"text-muted-foreground text-sm",children:"All plans include 24/7 AI call answering and appointment booking."})})]})})}var Y0="Collapsible",[Wle,K6]=Yn(Y0),[Hle,Sk]=Wle(Y0),G6=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:a,onOpenChange:o,...l}=e,[c,u]=Kn({prop:r,defaultProp:s??!1,onChange:o,caller:Y0});return i.jsx(Hle,{scope:n,disabled:a,contentId:wr(),open:c,onOpenToggle:v.useCallback(()=>u(d=>!d),[u]),children:i.jsx(Ne.div,{"data-state":kk(c),"data-disabled":a?"":void 0,...l,ref:t})})});G6.displayName=Y0;var Y6="CollapsibleTrigger",Nk=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=Sk(Y6,n);return i.jsx(Ne.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":kk(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:ce(e.onClick,s.onOpenToggle)})});Nk.displayName=Y6;var Ck="CollapsibleContent",Pk=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Sk(Ck,e.__scopeCollapsible);return i.jsx(Bn,{present:n||s.open,children:({present:a})=>i.jsx(qle,{...r,ref:t,present:a})})});Pk.displayName=Ck;var qle=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...a}=e,o=Sk(Ck,n),[l,c]=v.useState(r),u=v.useRef(null),d=Ue(t,u),f=v.useRef(0),h=f.current,m=v.useRef(0),y=m.current,p=o.open||l,x=v.useRef(p),w=v.useRef(void 0);return v.useEffect(()=>{const g=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(g)},[]),Fn(()=>{const g=u.current;if(g){w.current=w.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const b=g.getBoundingClientRect();f.current=b.height,m.current=b.width,x.current||(g.style.transitionDuration=w.current.transitionDuration,g.style.animationName=w.current.animationName),c(r)}},[o.open,r]),i.jsx(Ne.div,{"data-state":kk(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...a,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:p&&s})});function kk(e){return e?"open":"closed"}var X6=G6,Kle=Nk,Gle=Pk,Yle=v.createContext(void 0);function Kc(e){const t=v.useContext(Yle);return e||t||"ltr"}var Ea="Accordion",Xle=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Ek,Qle,Zle]=Kp(Ea),[X0,n6e]=Yn(Ea,[Zle,K6]),Ak=K6(),Q6=M.forwardRef((e,t)=>{const{type:n,...r}=e,s=r,a=r;return i.jsx(Ek.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?i.jsx(nce,{...a,ref:t}):i.jsx(tce,{...s,ref:t})})});Q6.displayName=Ea;var[Z6,Jle]=X0(Ea),[J6,ece]=X0(Ea,{collapsible:!1}),tce=M.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:a=!1,...o}=e,[l,c]=Kn({prop:n,defaultProp:r??"",onChange:s,caller:Ea});return i.jsx(Z6,{scope:e.__scopeAccordion,value:M.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:M.useCallback(()=>a&&c(""),[a,c]),children:i.jsx(J6,{scope:e.__scopeAccordion,collapsible:a,children:i.jsx(eV,{...o,ref:t})})})}),nce=M.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...a}=e,[o,l]=Kn({prop:n,defaultProp:r??[],onChange:s,caller:Ea}),c=M.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=M.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return i.jsx(Z6,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:i.jsx(J6,{scope:e.__scopeAccordion,collapsible:!0,children:i.jsx(eV,{...a,ref:t})})})}),[rce,Q0]=X0(Ea),eV=M.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:a="vertical",...o}=e,l=M.useRef(null),c=Ue(l,t),u=Qle(n),f=Kc(s)==="ltr",h=ce(e.onKeyDown,m=>{var C;if(!Xle.includes(m.key))return;const y=m.target,p=u().filter(P=>{var k;return!((k=P.ref.current)!=null&&k.disabled)}),x=p.findIndex(P=>P.ref.current===y),w=p.length;if(x===-1)return;m.preventDefault();let g=x;const b=0,_=w-1,j=()=>{g=x+1,g>_&&(g=b)},S=()=>{g=x-1,g<b&&(g=_)};switch(m.key){case"Home":g=b;break;case"End":g=_;break;case"ArrowRight":a==="horizontal"&&(f?j():S());break;case"ArrowDown":a==="vertical"&&j();break;case"ArrowLeft":a==="horizontal"&&(f?S():j());break;case"ArrowUp":a==="vertical"&&S();break}const N=g%w;(C=p[N].ref.current)==null||C.focus()});return i.jsx(rce,{scope:n,disabled:r,direction:s,orientation:a,children:i.jsx(Ek.Slot,{scope:n,children:i.jsx(Ne.div,{...o,"data-orientation":a,ref:c,onKeyDown:r?void 0:h})})})}),qv="AccordionItem",[sce,Tk]=X0(qv),tV=M.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...s}=e,a=Q0(qv,n),o=Jle(qv,n),l=Ak(n),c=wr(),u=r&&o.value.includes(r)||!1,d=a.disabled||e.disabled;return i.jsx(sce,{scope:n,open:u,disabled:d,triggerId:c,children:i.jsx(X6,{"data-orientation":a.orientation,"data-state":oV(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(r):o.onItemClose(r)}})})});tV.displayName=qv;var nV="AccordionHeader",rV=M.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Q0(Ea,n),a=Tk(nV,n);return i.jsx(Ne.h3,{"data-orientation":s.orientation,"data-state":oV(a.open),"data-disabled":a.disabled?"":void 0,...r,ref:t})});rV.displayName=nV;var pS="AccordionTrigger",sV=M.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Q0(Ea,n),a=Tk(pS,n),o=ece(pS,n),l=Ak(n);return i.jsx(Ek.ItemSlot,{scope:n,children:i.jsx(Kle,{"aria-disabled":a.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:a.triggerId,...l,...r,ref:t})})});sV.displayName=pS;var aV="AccordionContent",iV=M.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Q0(Ea,n),a=Tk(aV,n),o=Ak(n);return i.jsx(Gle,{role:"region","aria-labelledby":a.triggerId,"data-orientation":s.orientation,...o,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});iV.displayName=aV;function oV(e){return e?"open":"closed"}var ace=Q6,ice=tV,oce=rV,lV=sV,cV=iV;const lce=ace,uV=v.forwardRef(({className:e,...t},n)=>i.jsx(ice,{ref:n,className:ee("border-b",e),...t}));uV.displayName="AccordionItem";const dV=v.forwardRef(({className:e,children:t,...n},r)=>i.jsx(oce,{className:"flex",children:i.jsxs(lV,{ref:r,className:ee("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,i.jsx(wf,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));dV.displayName=lV.displayName;const fV=v.forwardRef(({className:e,children:t,...n},r)=>i.jsx(cV,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:i.jsx("div",{className:ee("pb-4 pt-0",e),children:t})}));fV.displayName=cV.displayName;const cce=[{question:"How does the AI handle different types of service requests?",answer:"Our AI is trained to understand context and intent across various service industries. You configure business rules that define how different services should be handled  including pricing, duration, and availability windows. The AI follows these rules to provide accurate information and schedule appropriately."},{question:"What happens if the AI can't handle a call?",answer:"When the AI encounters a situation outside its configured parameters (like an unusual request or a complex question), it gracefully escalates according to your settings. This can include taking a message, transferring to an on-call staff member, or sending you an immediate notification."},{question:"How long does it take to set up?",answer:"Most businesses are up and running within 30 minutes. You'll connect your phone number, configure your services and business rules, and test a few calls. Our onboarding wizard guides you through each step, and our support team is available to help."},{question:"Can I listen to call recordings?",answer:"Yes, all calls are recorded and transcribed (where legally permitted). You can review full transcripts and audio recordings in your dashboard to ensure quality and understand how customers interact with the AI."},{question:"Is my customer data secure?",answer:"Absolutely. We use enterprise-grade encryption for all data in transit and at rest. Our multi-tenant architecture ensures complete isolation between businesses. For healthcare-related clients, we offer HIPAA-compliant configurations."},{question:"Can I customize the AI's voice and personality?",answer:"Yes! You can configure the greeting message, tone of conversation, and responses to match your brand. Enterprise customers can also request custom AI training on their specific terminology and procedures."}];function uce(){return i.jsx("section",{id:"faq",className:"py-24 lg:py-32 relative",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[i.jsxs(Z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"text-center max-w-3xl mx-auto mb-16",children:[i.jsx("span",{className:"inline-block px-4 py-2 rounded-full bg-primary/10 text-primary text-sm font-semibold mb-4",children:"FAQ"}),i.jsxs("h2",{className:"font-display text-3xl sm:text-4xl lg:text-5xl font-bold mb-6",children:["Frequently Asked"," ",i.jsx("span",{className:"text-gradient",children:"Questions"})]}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"Everything you need to know about Answer After and how it can help your business."})]}),i.jsx(Z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},className:"max-w-3xl mx-auto",children:i.jsx(lce,{type:"single",collapsible:!0,className:"space-y-4",children:cce.map((e,t)=>i.jsxs(uV,{value:`item-${t}`,className:"bg-card border border-border rounded-2xl px-6 data-[state=open]:shadow-lg transition-shadow",children:[i.jsx(dV,{className:"text-left font-display font-semibold hover:no-underline py-6",children:e.question}),i.jsx(fV,{className:"text-muted-foreground pb-6 leading-relaxed",children:e.answer})]},t))})})]})})}function dce(){return i.jsxs("section",{className:"py-24 lg:py-32 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-hero"}),i.jsx("div",{className:"absolute inset-0 opacity-10",children:i.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23fff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),i.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:i.jsxs(Z.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"max-w-4xl mx-auto text-center",children:[i.jsx(Z.div,{initial:{scale:0},whileInView:{scale:1},viewport:{once:!0},transition:{duration:.5,type:"spring"},className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary-foreground/10 backdrop-blur-sm mb-8",children:i.jsx(ft,{className:"w-8 h-8 text-primary-foreground"})}),i.jsx("h2",{className:"font-display text-3xl sm:text-4xl lg:text-5xl font-bold text-primary-foreground mb-6",children:"Ready to Capture Every Opportunity?"}),i.jsx("p",{className:"text-lg sm:text-xl text-primary-foreground/80 mb-10 max-w-2xl mx-auto",children:"No long-term contracts. Set up in minutes and see results immediately."}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[i.jsx(G,{size:"xl",className:"bg-primary-foreground text-primary hover:bg-primary-foreground/90 font-semibold",asChild:!0,children:i.jsxs(tt,{to:"/auth?signup=true",children:["Get Started",i.jsx(Yr,{className:"w-5 h-5"})]})}),i.jsx(G,{size:"xl",variant:"outline",className:"border-2 border-primary-foreground/30 bg-transparent text-primary-foreground hover:bg-primary-foreground/10 font-semibold",asChild:!0,children:i.jsx("a",{href:Qm.salesEmail,children:"Talk to Sales"})})]})]})})]})}const iy={product:[{name:"Features",href:"#features"},{name:"Pricing",href:"#pricing"},{name:"Integrations",href:"#"},{name:"Changelog",href:"#"}],company:[{name:"About",href:"#"},{name:"Blog",href:"#"},{name:"Careers",href:"#"},{name:"Contact",href:"#"}],resources:[{name:"Documentation",href:"#"},{name:"Help Center",href:"#"},{name:"API Reference",href:"#"},{name:"Status",href:"#"}],legal:[{name:"Privacy",href:"/privacy",isRoute:!0},{name:"Terms",href:"/terms",isRoute:!0},{name:"Security",href:"#"},{name:"HIPAA",href:"#"}]};function fce(){return i.jsx("footer",{className:"bg-card border-t border-border",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-8 lg:gap-12",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsxs(tt,{to:"/",className:"flex items-center gap-2 mb-4",children:[i.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-hero",children:i.jsx(ft,{className:"w-5 h-5 text-primary-foreground"})}),i.jsxs("span",{className:"font-display font-bold text-xl",children:["Answer",i.jsx("span",{className:"text-gradient",children:"After"})]})]}),i.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed mb-4 max-w-xs",children:"Stop losing leads to missed calls and slow follow-ups. Convert more of your marketing spend into revenue."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-display font-semibold mb-4",children:"Product"}),i.jsx("ul",{className:"space-y-3",children:iy.product.map(e=>i.jsx("li",{children:i.jsx("a",{href:e.href,className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:e.name})},e.name))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-display font-semibold mb-4",children:"Company"}),i.jsx("ul",{className:"space-y-3",children:iy.company.map(e=>i.jsx("li",{children:i.jsx("a",{href:e.href,className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:e.name})},e.name))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-display font-semibold mb-4",children:"Resources"}),i.jsx("ul",{className:"space-y-3",children:iy.resources.map(e=>i.jsx("li",{children:i.jsx("a",{href:e.href,className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:e.name})},e.name))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-display font-semibold mb-4",children:"Legal"}),i.jsx("ul",{className:"space-y-3",children:iy.legal.map(e=>i.jsx("li",{children:e.isRoute?i.jsx(tt,{to:e.href,className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:e.name}):i.jsx("a",{href:e.href,className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:e.name})},e.name))})]})]}),i.jsxs("div",{className:"mt-12 pt-8 border-t border-border flex flex-col sm:flex-row items-center justify-between gap-4",children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," Answer After. All rights reserved."]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("a",{href:"#",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Twitter"}),i.jsx("a",{href:"#",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"LinkedIn"}),i.jsx("a",{href:"#",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"GitHub"})]})]})]})})}const hce=()=>i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(Cle,{}),i.jsxs("main",{children:[i.jsx(Ple,{}),i.jsx(Ile,{}),i.jsx(Dle,{}),i.jsx(Fle,{}),i.jsx(zle,{}),i.jsx(uce,{}),i.jsx(dce,{})]}),i.jsx(fce,{})]}),mce=()=>i.jsx(hce,{});function Mf(){const{user:e}=ht();return jt({queryKey:["account",e==null?void 0:e.account_id],queryFn:async()=>gi,enabled:!!(e!=null&&e.account_id)||ir()})}function pce(){return jt({queryKey:["purchased-credits"],queryFn:async()=>[{id:"demo",credits_remaining:500,purchased_at:new Date().toISOString()}]})}function hV(){return Qt({mutationFn:async(e="basic")=>{const{data:{session:t}}=await ie.auth.getSession();if(!t)throw new Error("Not authenticated");const n=await ie.functions.invoke("create-credit-topup",{headers:{Authorization:`Bearer ${t.access_token}`},body:{package:e}});if(n.error)throw new Error(n.error.message);return n.data},onError:e=>{ct.error("Failed to start checkout",{description:e.message})}})}function mV(){const{data:e}=pce();return{purchasedCredits:(e==null?void 0:e.reduce((n,r)=>n+(r.credits_remaining||0),0))??0}}var y1=0;function Z0(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??SM()),document.body.insertAdjacentElement("beforeend",e[1]??SM()),y1++,()=>{y1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),y1--}},[])}function SM(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var v1="focusScope.autoFocusOnMount",x1="focusScope.autoFocusOnUnmount",NM={bubbles:!1,cancelable:!0},gce="FocusScope",lg=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=v.useState(null),u=dn(s),d=dn(a),f=v.useRef(null),h=Ue(t,p=>c(p)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let p=function(b){if(m.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:ho(f.current,{select:!0})},x=function(b){if(m.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||ho(f.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const j of b)j.removedNodes.length>0&&ho(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const g=new MutationObserver(w);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),g.disconnect()}}},[r,l,m.paused]),v.useEffect(()=>{if(l){PM.add(m);const p=document.activeElement;if(!l.contains(p)){const w=new CustomEvent(v1,NM);l.addEventListener(v1,u),l.dispatchEvent(w),w.defaultPrevented||(yce(_ce(pV(l)),{select:!0}),document.activeElement===p&&ho(l))}return()=>{l.removeEventListener(v1,u),setTimeout(()=>{const w=new CustomEvent(x1,NM);l.addEventListener(x1,d),l.dispatchEvent(w),w.defaultPrevented||ho(p??document.body,{select:!0}),l.removeEventListener(x1,d),PM.remove(m)},0)}}},[l,u,d,m]);const y=v.useCallback(p=>{if(!n&&!r||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,w=document.activeElement;if(x&&w){const g=p.currentTarget,[b,_]=vce(g);b&&_?!p.shiftKey&&w===_?(p.preventDefault(),n&&ho(b,{select:!0})):p.shiftKey&&w===b&&(p.preventDefault(),n&&ho(_,{select:!0})):w===g&&p.preventDefault()}},[n,r,m.paused]);return i.jsx(Ne.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});lg.displayName=gce;function yce(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ho(r,{select:t}),document.activeElement!==n)return}function vce(e){const t=pV(e),n=CM(t,e),r=CM(t.reverse(),e);return[n,r]}function pV(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function CM(e,t){for(const n of e)if(!xce(n,{upTo:t}))return n}function xce(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function bce(e){return e instanceof HTMLInputElement&&"select"in e}function ho(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&bce(e)&&t&&e.select()}}var PM=wce();function wce(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=kM(e,t),e.unshift(t)},remove(t){var n;e=kM(e,t),(n=e[0])==null||n.resume()}}}function kM(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function _ce(e){return e.filter(t=>t.tagName!=="A")}var jce=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},fu=new WeakMap,oy=new WeakMap,ly={},b1=0,gV=function(e){return e&&(e.host||gV(e.parentNode))},Sce=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=gV(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Nce=function(e,t,n,r){var s=Sce(t,Array.isArray(e)?e:[e]);ly[n]||(ly[n]=new WeakMap);var a=ly[n],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(r),y=m!==null&&m!=="false",p=(fu.get(h)||0)+1,x=(a.get(h)||0)+1;fu.set(h,p),a.set(h,x),o.push(h),p===1&&y&&oy.set(h,!0),x===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return d(t),l.clear(),b1++,function(){o.forEach(function(f){var h=fu.get(f)-1,m=a.get(f)-1;fu.set(f,h),a.set(f,m),h||(oy.has(f)||f.removeAttribute(r),oy.delete(f)),m||f.removeAttribute(n)}),b1--,b1||(fu=new WeakMap,fu=new WeakMap,oy=new WeakMap,ly={})}},J0=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=jce(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Nce(r,s,n,"aria-hidden")):function(){return null}},Qy="right-scroll-bar-position",Zy="width-before-scroll-bar",Cce="with-scroll-bars-hidden",Pce="--removed-body-scroll-bar-size";function w1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function kce(e,t){var n=v.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var Ece=typeof window<"u"?v.useLayoutEffect:v.useEffect,EM=new WeakMap;function Ace(e,t){var n=kce(null,function(r){return e.forEach(function(s){return w1(s,r)})});return Ece(function(){var r=EM.get(n);if(r){var s=new Set(r),a=new Set(e),o=n.current;s.forEach(function(l){a.has(l)||w1(l,null)}),a.forEach(function(l){s.has(l)||w1(l,o)})}EM.set(n,e)},[e]),n}function Tce(e){return e}function Oce(e,t){t===void 0&&(t=Tce);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function Mce(e){e===void 0&&(e={});var t=Oce(null);return t.options=Ba({async:!0,ssr:!1},e),t}var yV=function(e){var t=e.sideCar,n=kf(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Ba({},n))};yV.isSideCarExport=!0;function Rce(e,t){return e.useMedium(t),yV}var vV=Mce(),_1=function(){},eb=v.forwardRef(function(e,t){var n=v.useRef(null),r=v.useState({onScrollCapture:_1,onWheelCapture:_1,onTouchMoveCapture:_1}),s=r[0],a=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,y=e.noIsolation,p=e.inert,x=e.allowPinchZoom,w=e.as,g=w===void 0?"div":w,b=e.gapMode,_=kf(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,S=Ace([n,t]),N=Ba(Ba({},_),s);return v.createElement(v.Fragment,null,d&&v.createElement(j,{sideCar:vV,removeScrollBar:u,shards:f,noRelative:m,noIsolation:y,inert:p,setCallbacks:a,allowPinchZoom:!!x,lockRef:n,gapMode:b}),o?v.cloneElement(v.Children.only(l),Ba(Ba({},N),{ref:S})):v.createElement(g,Ba({},N,{className:c,ref:S}),l))});eb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};eb.classNames={fullWidth:Zy,zeroRight:Qy};var Ice=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $ce(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Ice();return t&&e.setAttribute("nonce",t),e}function Dce(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Lce(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Fce=function(){var e=0,t=null;return{add:function(n){e==0&&(t=$ce())&&(Dce(t,n),Lce(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Bce=function(){var e=Fce();return function(t,n){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},xV=function(){var e=Bce(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},Vce={left:0,top:0,right:0,gap:0},j1=function(e){return parseInt(e||"",10)||0},Uce=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[j1(n),j1(r),j1(s)]},zce=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Vce;var t=Uce(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Wce=xV(),id="data-scroll-locked",Hce=function(e,t,n,r){var s=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Cce,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(id,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qy,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Zy,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Qy," .").concat(Qy,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Zy," .").concat(Zy,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(id,`] {
    `).concat(Pce,": ").concat(l,`px;
  }
`)},AM=function(){var e=parseInt(document.body.getAttribute(id)||"0",10);return isFinite(e)?e:0},qce=function(){v.useEffect(function(){return document.body.setAttribute(id,(AM()+1).toString()),function(){var e=AM()-1;e<=0?document.body.removeAttribute(id):document.body.setAttribute(id,e.toString())}},[])},Kce=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;qce();var a=v.useMemo(function(){return zce(s)},[s]);return v.createElement(Wce,{styles:Hce(a,!t,s,n?"":"!important")})},gS=!1;if(typeof window<"u")try{var cy=Object.defineProperty({},"passive",{get:function(){return gS=!0,!0}});window.addEventListener("test",cy,cy),window.removeEventListener("test",cy,cy)}catch{gS=!1}var hu=gS?{passive:!1}:!1,Gce=function(e){return e.tagName==="TEXTAREA"},bV=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Gce(e)&&n[t]==="visible")},Yce=function(e){return bV(e,"overflowY")},Xce=function(e){return bV(e,"overflowX")},TM=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=wV(e,r);if(s){var a=_V(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Qce=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Zce=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},wV=function(e,t){return e==="v"?Yce(t):Xce(t)},_V=function(e,t){return e==="v"?Qce(t):Zce(t)},Jce=function(e,t){return e==="h"&&t==="rtl"?-1:1},eue=function(e,t,n,r,s){var a=Jce(e,window.getComputedStyle(t).direction),o=a*r,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=_V(e,l),y=m[0],p=m[1],x=m[2],w=p-x-a*y;(y||w)&&wV(e,l)&&(f+=w,h+=y);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},uy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},OM=function(e){return[e.deltaX,e.deltaY]},MM=function(e){return e&&"current"in e?e.current:e},tue=function(e,t){return e[0]===t[0]&&e[1]===t[1]},nue=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},rue=0,mu=[];function sue(e){var t=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(rue++)[0],a=v.useState(xV)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=ite([e.lockRef.current],(e.shards||[]).map(MM),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var w=uy(p),g=n.current,b="deltaX"in p?p.deltaX:g[0]-w[0],_="deltaY"in p?p.deltaY:g[1]-w[1],j,S=p.target,N=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in p&&N==="h"&&S.type==="range")return!1;var C=TM(N,S);if(!C)return!0;if(C?j=N:(j=N==="v"?"h":"v",C=TM(N,S)),!C)return!1;if(!r.current&&"changedTouches"in p&&(b||_)&&(r.current=j),!j)return!0;var P=r.current||j;return eue(P,x,p,P==="h"?b:_,!0)},[]),c=v.useCallback(function(p){var x=p;if(!(!mu.length||mu[mu.length-1]!==a)){var w="deltaY"in x?OM(x):uy(x),g=t.current.filter(function(j){return j.name===x.type&&(j.target===x.target||x.target===j.shadowParent)&&tue(j.delta,w)})[0];if(g&&g.should){x.cancelable&&x.preventDefault();return}if(!g){var b=(o.current.shards||[]).map(MM).filter(Boolean).filter(function(j){return j.contains(x.target)}),_=b.length>0?l(x,b[0]):!o.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),u=v.useCallback(function(p,x,w,g){var b={name:p,delta:x,target:w,should:g,shadowParent:aue(w)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=v.useCallback(function(p){n.current=uy(p),r.current=void 0},[]),f=v.useCallback(function(p){u(p.type,OM(p),p.target,l(p,e.lockRef.current))},[]),h=v.useCallback(function(p){u(p.type,uy(p),p.target,l(p,e.lockRef.current))},[]);v.useEffect(function(){return mu.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,hu),document.addEventListener("touchmove",c,hu),document.addEventListener("touchstart",d,hu),function(){mu=mu.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,hu),document.removeEventListener("touchmove",c,hu),document.removeEventListener("touchstart",d,hu)}},[]);var m=e.removeScrollBar,y=e.inert;return v.createElement(v.Fragment,null,y?v.createElement(a,{styles:nue(s)}):null,m?v.createElement(Kce,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function aue(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const iue=Rce(vV,sue);var cg=v.forwardRef(function(e,t){return v.createElement(eb,Ba({},e,{ref:t,sideCar:iue}))});cg.classNames=eb.classNames;var tb="Popover",[jV,r6e]=Yn(tb,[pl]),ug=pl(),[oue,vl]=jV(tb),SV=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:o=!1}=e,l=ug(t),c=v.useRef(null),[u,d]=v.useState(!1),[f,h]=Kn({prop:r,defaultProp:s??!1,onChange:a,caller:tb});return i.jsx(Jp,{...l,children:i.jsx(oue,{scope:t,contentId:wr(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:v.useCallback(()=>d(!0),[]),onCustomAnchorRemove:v.useCallback(()=>d(!1),[]),modal:o,children:n})})};SV.displayName=tb;var NV="PopoverAnchor",lue=v.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=vl(NV,n),a=ug(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return v.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(eg,{...a,...r,ref:t})});lue.displayName=NV;var CV="PopoverTrigger",PV=v.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=vl(CV,n),a=ug(n),o=Ue(t,s.triggerRef),l=i.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":OV(s.open),...r,ref:o,onClick:ce(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:i.jsx(eg,{asChild:!0,...a,children:l})});PV.displayName=CV;var Ok="PopoverPortal",[cue,uue]=jV(Ok,{forceMount:void 0}),kV=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,a=vl(Ok,t);return i.jsx(cue,{scope:t,forceMount:n,children:i.jsx(Bn,{present:n||a.open,children:i.jsx(xf,{asChild:!0,container:s,children:r})})})};kV.displayName=Ok;var Dd="PopoverContent",EV=v.forwardRef((e,t)=>{const n=uue(Dd,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,a=vl(Dd,e.__scopePopover);return i.jsx(Bn,{present:r||a.open,children:a.modal?i.jsx(fue,{...s,ref:t}):i.jsx(hue,{...s,ref:t})})});EV.displayName=Dd;var due=rl("PopoverContent.RemoveScroll"),fue=v.forwardRef((e,t)=>{const n=vl(Dd,e.__scopePopover),r=v.useRef(null),s=Ue(t,r),a=v.useRef(!1);return v.useEffect(()=>{const o=r.current;if(o)return J0(o)},[]),i.jsx(cg,{as:due,allowPinchZoom:!0,children:i.jsx(AV,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ce(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ce(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ce(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),hue=v.forwardRef((e,t)=>{const n=vl(Dd,e.__scopePopover),r=v.useRef(!1),s=v.useRef(!1);return i.jsx(AV,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),AV=v.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=vl(Dd,n),m=ug(n);return Z0(),i.jsx(lg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Hc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(I0,{"data-state":OV(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),TV="PopoverClose",mue=v.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=vl(TV,n);return i.jsx(Ne.button,{type:"button",...r,ref:t,onClick:ce(e.onClick,()=>s.onOpenChange(!1))})});mue.displayName=TV;var pue="PopoverArrow",gue=v.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ug(n);return i.jsx($0,{...s,...r,ref:t})});gue.displayName=pue;function OV(e){return e?"open":"closed"}var yue=SV,vue=PV,xue=kV,MV=EV;const bue=yue,wue=vue,RV=v.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>i.jsx(xue,{children:i.jsx(MV,{ref:s,align:t,sideOffset:n,className:ee("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));RV.displayName=MV.displayName;var _ue="Separator",RM="horizontal",jue=["horizontal","vertical"],IV=v.forwardRef((e,t)=>{const{decorative:n,orientation:r=RM,...s}=e,a=Sue(r)?r:RM,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(Ne.div,{"data-orientation":a,...l,...s,ref:t})});IV.displayName=_ue;function Sue(e){return jue.includes(e)}var $V=IV;const vi=v.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>i.jsx($V,{ref:s,decorative:n,orientation:t,className:ee("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));vi.displayName=$V.displayName;function Nue(){const[e,t]=v.useState(()=>typeof window<"u"&&localStorage.getItem("theme")||"system");return v.useEffect(()=>{const n=window.document.documentElement;if(n.classList.remove("light","dark"),e==="system"){const r=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";n.classList.add(r)}else n.classList.add(e);localStorage.setItem("theme",e)},[e]),{theme:e,setTheme:t}}function Cue({collapsed:e,accountName:t,onClose:n}){const{data:r}=ig(),{purchasedCredits:s}=mV(),a=hV(),{logout:o}=ht(),l=es(),c=St(),[u,d]=V0(),[f,h]=v.useState(!1),[m,y]=v.useState(!1),{theme:p,setTheme:x}=Nue();v.useEffect(()=>{const R=u.get("topup"),T=u.get("credits");R==="success"&&(c.invalidateQueries({queryKey:["purchased-credits"]}),ct.success("Minutes added!",{description:`${T||"5"} minutes have been added to your account.`}),u.delete("topup"),u.delete("credits"),d(u,{replace:!0}))},[u,d,c]);const w=(r==null?void 0:r.total_credits)??1e3,g=(r==null?void 0:r.used_credits)??0,b=w-g,_=b+s,j=w+s,S=j>0?_/j*100:0,N=_<=100||S<=25,C=_<=25||S<=10,P=40,k=3,A=(P-k)/2,E=2*Math.PI*A,I=E-S/100*E,D=async()=>{h(!1),n==null||n(),await o(),l("/")},V=async()=>{const R=await a.mutateAsync();R!=null&&R.url&&(window.location.href=R.url)},B=()=>{h(!1),n==null||n()},F=()=>i.jsxs("div",{className:"relative",style:{width:P,height:P},children:[i.jsxs("svg",{width:P,height:P,viewBox:`0 0 ${P} ${P}`,className:"transform -rotate-90",children:[i.jsx("circle",{cx:P/2,cy:P/2,r:A,stroke:"currentColor",strokeWidth:k,fill:"none",className:"text-muted/30"}),i.jsx("circle",{cx:P/2,cy:P/2,r:A,stroke:"currentColor",strokeWidth:k,fill:"none",strokeLinecap:"round",strokeDasharray:E,strokeDashoffset:I,className:ee("transition-all duration-500",S>50?"text-success":S>20?"text-warning":"text-destructive")})]}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("span",{className:"text-[9px] font-semibold text-foreground",children:[Math.round(_/60),"m"]})})]});return i.jsxs(bue,{open:f,onOpenChange:h,children:[i.jsx(kP,{children:i.jsxs(_F,{children:[i.jsx(jF,{asChild:!0,children:i.jsx(wue,{asChild:!0,children:i.jsxs("button",{className:ee("flex items-center gap-3 w-full p-2 rounded-lg hover:bg-sidebar-accent/50 transition-colors cursor-pointer",e&&"justify-center"),children:[i.jsx(F,{}),!e&&i.jsx("div",{className:"flex-1 min-w-0 text-left",children:i.jsx("p",{className:"text-sm font-medium truncate",children:t||"My Workspace"})})]})})}),i.jsxs(EP,{side:"right",className:"text-xs",children:[Math.round(_/60)," minutes available"]})]})}),i.jsxs(RV,{side:e?"right":"top",align:"start",className:"w-64 p-0",sideOffset:8,children:[i.jsxs("div",{className:"p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(F,{}),i.jsxs("div",{children:[i.jsx("span",{className:ee("text-xl font-bold",C&&"text-destructive",N&&!C&&"text-warning"),children:Math.round(_/60)}),i.jsx("span",{className:"text-sm text-muted-foreground ml-1",children:"minutes"})]})]}),i.jsx(G,{size:"sm",variant:"ghost",className:"h-7 text-xs px-2",onClick:V,disabled:a.isPending,children:a.isPending?i.jsx(Oe,{className:"w-3 h-3 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(qn,{className:"w-3 h-3 mr-1"}),"Top Up"]})})]}),i.jsxs("div",{className:"space-y-1.5 text-sm border-t border-border pt-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Monthly plan"}),i.jsxs("span",{children:[i.jsx("span",{className:"font-medium",children:Math.round(b/60)}),i.jsxs("span",{className:"text-muted-foreground",children:[" / ",Math.round(w/60)," min"]})]})]}),s>0&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Bonus minutes"}),i.jsxs("span",{className:"font-medium text-success",children:["+",Math.round(s/60)]})]})]}),N&&i.jsx("p",{className:ee("text-xs",C?"text-destructive":"text-warning"),children:C?"Minutes running low!":"Consider upgrading or topping up"})]}),i.jsx(vi,{}),i.jsxs("div",{className:"p-2",children:[i.jsxs(tt,{to:"/dashboard/account",onClick:B,className:"flex items-center gap-3 px-3 py-2 text-sm rounded-md hover:bg-muted transition-colors",children:[i.jsx(T0,{className:"w-4 h-4"}),"Settings"]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),className:"flex items-center justify-between w-full px-3 py-2 text-sm rounded-md hover:bg-muted transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(T3,{className:"w-4 h-4"}),"Appearance"]}),i.jsx(ml,{className:"w-4 h-4"})]}),m&&i.jsxs("div",{onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),className:"absolute left-full top-0 ml-1 w-40 bg-popover border border-border rounded-lg shadow-lg p-1 z-50",children:[i.jsxs("button",{onClick:()=>{x("system"),y(!1)},className:"flex items-center justify-between w-full px-3 py-2 text-sm rounded-md hover:bg-muted transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(vX,{className:"w-4 h-4"}),"System"]}),p==="system"&&i.jsx(fn,{className:"w-4 h-4 text-primary"})]}),i.jsxs("button",{onClick:()=>{x("dark"),y(!1)},className:"flex items-center justify-between w-full px-3 py-2 text-sm rounded-md hover:bg-muted transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(xX,{className:"w-4 h-4"}),"Dark"]}),p==="dark"&&i.jsx(fn,{className:"w-4 h-4 text-primary"})]}),i.jsxs("button",{onClick:()=>{x("light"),y(!1)},className:"flex items-center justify-between w-full px-3 py-2 text-sm rounded-md hover:bg-muted transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(jX,{className:"w-4 h-4"}),"Light"]}),p==="light"&&i.jsx(fn,{className:"w-4 h-4 text-primary"})]})]})]}),i.jsxs(tt,{to:"/dashboard/subscriptions",onClick:B,className:"flex items-center gap-3 px-3 py-2 text-sm rounded-md hover:bg-muted transition-colors",children:[i.jsx(Cv,{className:"w-4 h-4"}),"View Plans"]})]}),i.jsx(vi,{}),i.jsx("div",{className:"p-2",children:i.jsxs("button",{onClick:D,className:"flex items-center gap-3 w-full px-3 py-2 text-sm rounded-md hover:bg-muted transition-colors text-left",children:[i.jsx(pX,{className:"w-4 h-4"}),"Sign out"]})})]})]})}var S1="rovingFocusGroup.onEntryFocus",Pue={bubbles:!1,cancelable:!0},dg="RovingFocusGroup",[yS,DV,kue]=Kp(dg),[Eue,Rf]=Yn(dg,[kue]),[Aue,Tue]=Eue(dg),LV=v.forwardRef((e,t)=>i.jsx(yS.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(yS.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Oue,{...e,ref:t})})}));LV.displayName=dg;var Oue=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=v.useRef(null),m=Ue(t,h),y=Kc(a),[p,x]=Kn({prop:o,defaultProp:l??null,onChange:c,caller:dg}),[w,g]=v.useState(!1),b=dn(u),_=DV(n),j=v.useRef(!1),[S,N]=v.useState(0);return v.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(S1,b),()=>C.removeEventListener(S1,b)},[b]),i.jsx(Aue,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:p,onItemFocus:v.useCallback(C=>x(C),[x]),onItemShiftTab:v.useCallback(()=>g(!0),[]),onFocusableItemAdd:v.useCallback(()=>N(C=>C+1),[]),onFocusableItemRemove:v.useCallback(()=>N(C=>C-1),[]),children:i.jsx(Ne.div,{tabIndex:w||S===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:ce(e.onMouseDown,()=>{j.current=!0}),onFocus:ce(e.onFocus,C=>{const P=!j.current;if(C.target===C.currentTarget&&P&&!w){const k=new CustomEvent(S1,Pue);if(C.currentTarget.dispatchEvent(k),!k.defaultPrevented){const A=_().filter(B=>B.focusable),E=A.find(B=>B.active),I=A.find(B=>B.id===p),V=[E,I,...A].filter(Boolean).map(B=>B.ref.current);VV(V,d)}}j.current=!1}),onBlur:ce(e.onBlur,()=>g(!1))})})}),FV="RovingFocusGroupItem",BV=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,children:o,...l}=e,c=wr(),u=a||c,d=Tue(FV,n),f=d.currentTabStopId===u,h=DV(n),{onFocusableItemAdd:m,onFocusableItemRemove:y,currentTabStopId:p}=d;return v.useEffect(()=>{if(r)return m(),()=>y()},[r,m,y]),i.jsx(yS.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:i.jsx(Ne.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ce(e.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:ce(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ce(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const w=Iue(x,d.orientation,d.dir);if(w!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let b=h().filter(_=>_.focusable).map(_=>_.ref.current);if(w==="last")b.reverse();else if(w==="prev"||w==="next"){w==="prev"&&b.reverse();const _=b.indexOf(x.currentTarget);b=d.loop?$ue(b,_+1):b.slice(_+1)}setTimeout(()=>VV(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});BV.displayName=FV;var Mue={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Rue(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Iue(e,t,n){const r=Rue(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Mue[r]}function VV(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function $ue(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Mk=LV,Rk=BV,vS=["Enter"," "],Due=["ArrowDown","PageUp","Home"],UV=["ArrowUp","PageDown","End"],Lue=[...Due,...UV],Fue={ltr:[...vS,"ArrowRight"],rtl:[...vS,"ArrowLeft"]},Bue={ltr:["ArrowLeft"],rtl:["ArrowRight"]},fg="Menu",[Zm,Vue,Uue]=Kp(fg),[Gc,zV]=Yn(fg,[Uue,pl,Rf]),hg=pl(),WV=Rf(),[HV,xl]=Gc(fg),[zue,mg]=Gc(fg),qV=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:a,modal:o=!0}=e,l=hg(t),[c,u]=v.useState(null),d=v.useRef(!1),f=dn(a),h=Kc(s);return v.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),i.jsx(Jp,{...l,children:i.jsx(HV,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(zue,{scope:t,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:r})})})};qV.displayName=fg;var Wue="MenuAnchor",Ik=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=hg(n);return i.jsx(eg,{...s,...r,ref:t})});Ik.displayName=Wue;var $k="MenuPortal",[Hue,KV]=Gc($k,{forceMount:void 0}),GV=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,a=xl($k,t);return i.jsx(Hue,{scope:t,forceMount:n,children:i.jsx(Bn,{present:n||a.open,children:i.jsx(xf,{asChild:!0,container:s,children:r})})})};GV.displayName=$k;var Fs="MenuContent",[que,Dk]=Gc(Fs),YV=v.forwardRef((e,t)=>{const n=KV(Fs,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=xl(Fs,e.__scopeMenu),o=mg(Fs,e.__scopeMenu);return i.jsx(Zm.Provider,{scope:e.__scopeMenu,children:i.jsx(Bn,{present:r||a.open,children:i.jsx(Zm.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(Kue,{...s,ref:t}):i.jsx(Gue,{...s,ref:t})})})})}),Kue=v.forwardRef((e,t)=>{const n=xl(Fs,e.__scopeMenu),r=v.useRef(null),s=Ue(t,r);return v.useEffect(()=>{const a=r.current;if(a)return J0(a)},[]),i.jsx(Lk,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ce(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Gue=v.forwardRef((e,t)=>{const n=xl(Fs,e.__scopeMenu);return i.jsx(Lk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Yue=rl("MenuContent.ScrollLock"),Lk=v.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:y,...p}=e,x=xl(Fs,n),w=mg(Fs,n),g=hg(n),b=WV(n),_=Vue(n),[j,S]=v.useState(null),N=v.useRef(null),C=Ue(t,N,x.onContentChange),P=v.useRef(0),k=v.useRef(""),A=v.useRef(0),E=v.useRef(null),I=v.useRef("right"),D=v.useRef(0),V=y?cg:v.Fragment,B=y?{as:Yue,allowPinchZoom:!0}:void 0,F=T=>{var re,Me;const O=k.current+T,W=_().filter(te=>!te.disabled),$=document.activeElement,Y=(re=W.find(te=>te.ref.current===$))==null?void 0:re.textValue,U=W.map(te=>te.textValue),ne=ode(U,O,Y),be=(Me=W.find(te=>te.textValue===ne))==null?void 0:Me.ref.current;(function te(J){k.current=J,window.clearTimeout(P.current),J!==""&&(P.current=window.setTimeout(()=>te(""),1e3))})(O),be&&setTimeout(()=>be.focus())};v.useEffect(()=>()=>window.clearTimeout(P.current),[]),Z0();const R=v.useCallback(T=>{var W,$;return I.current===((W=E.current)==null?void 0:W.side)&&cde(T,($=E.current)==null?void 0:$.area)},[]);return i.jsx(que,{scope:n,searchRef:k,onItemEnter:v.useCallback(T=>{R(T)&&T.preventDefault()},[R]),onItemLeave:v.useCallback(T=>{var O;R(T)||((O=N.current)==null||O.focus(),S(null))},[R]),onTriggerLeave:v.useCallback(T=>{R(T)&&T.preventDefault()},[R]),pointerGraceTimerRef:A,onPointerGraceIntentChange:v.useCallback(T=>{E.current=T},[]),children:i.jsx(V,{...B,children:i.jsx(lg,{asChild:!0,trapped:s,onMountAutoFocus:ce(a,T=>{var O;T.preventDefault(),(O=N.current)==null||O.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(Hc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:i.jsx(Mk,{asChild:!0,...b,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:S,onEntryFocus:ce(c,T=>{w.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(I0,{role:"menu","aria-orientation":"vertical","data-state":fU(x.open),"data-radix-menu-content":"",dir:w.dir,...g,...p,ref:C,style:{outline:"none",...p.style},onKeyDown:ce(p.onKeyDown,T=>{const W=T.target.closest("[data-radix-menu-content]")===T.currentTarget,$=T.ctrlKey||T.altKey||T.metaKey,Y=T.key.length===1;W&&(T.key==="Tab"&&T.preventDefault(),!$&&Y&&F(T.key));const U=N.current;if(T.target!==U||!Lue.includes(T.key))return;T.preventDefault();const be=_().filter(re=>!re.disabled).map(re=>re.ref.current);UV.includes(T.key)&&be.reverse(),ade(be)}),onBlur:ce(e.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(P.current),k.current="")}),onPointerMove:ce(e.onPointerMove,Jm(T=>{const O=T.target,W=D.current!==T.clientX;if(T.currentTarget.contains(O)&&W){const $=T.clientX>D.current?"right":"left";I.current=$,D.current=T.clientX}}))})})})})})})});YV.displayName=Fs;var Xue="MenuGroup",Fk=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(Ne.div,{role:"group",...r,ref:t})});Fk.displayName=Xue;var Que="MenuLabel",XV=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(Ne.div,{...r,ref:t})});XV.displayName=Que;var Kv="MenuItem",IM="menu.itemSelect",nb=v.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,a=v.useRef(null),o=mg(Kv,e.__scopeMenu),l=Dk(Kv,e.__scopeMenu),c=Ue(t,a),u=v.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const h=new CustomEvent(IM,{bubbles:!0,cancelable:!0});f.addEventListener(IM,m=>r==null?void 0:r(m),{once:!0}),sP(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(QV,{...s,ref:c,disabled:n,onClick:ce(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:ce(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:ce(e.onKeyDown,f=>{const h=l.searchRef.current!=="";n||h&&f.key===" "||vS.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});nb.displayName=Kv;var QV=v.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...a}=e,o=Dk(Kv,n),l=WV(n),c=v.useRef(null),u=Ue(t,c),[d,f]=v.useState(!1),[h,m]=v.useState("");return v.useEffect(()=>{const y=c.current;y&&m((y.textContent??"").trim())},[a.children]),i.jsx(Zm.ItemSlot,{scope:n,disabled:r,textValue:s??h,children:i.jsx(Rk,{asChild:!0,...l,focusable:!r,children:i.jsx(Ne.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:ce(e.onPointerMove,Jm(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ce(e.onPointerLeave,Jm(y=>o.onItemLeave(y))),onFocus:ce(e.onFocus,()=>f(!0)),onBlur:ce(e.onBlur,()=>f(!1))})})})}),Zue="MenuCheckboxItem",ZV=v.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return i.jsx(rU,{scope:e.__scopeMenu,checked:n,children:i.jsx(nb,{role:"menuitemcheckbox","aria-checked":Gv(n)?"mixed":n,...s,ref:t,"data-state":Uk(n),onSelect:ce(s.onSelect,()=>r==null?void 0:r(Gv(n)?!0:!n),{checkForDefaultPrevented:!1})})})});ZV.displayName=Zue;var JV="MenuRadioGroup",[Jue,ede]=Gc(JV,{value:void 0,onValueChange:()=>{}}),eU=v.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,a=dn(r);return i.jsx(Jue,{scope:e.__scopeMenu,value:n,onValueChange:a,children:i.jsx(Fk,{...s,ref:t})})});eU.displayName=JV;var tU="MenuRadioItem",nU=v.forwardRef((e,t)=>{const{value:n,...r}=e,s=ede(tU,e.__scopeMenu),a=n===s.value;return i.jsx(rU,{scope:e.__scopeMenu,checked:a,children:i.jsx(nb,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":Uk(a),onSelect:ce(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});nU.displayName=tU;var Bk="MenuItemIndicator",[rU,tde]=Gc(Bk,{checked:!1}),sU=v.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,a=tde(Bk,n);return i.jsx(Bn,{present:r||Gv(a.checked)||a.checked===!0,children:i.jsx(Ne.span,{...s,ref:t,"data-state":Uk(a.checked)})})});sU.displayName=Bk;var nde="MenuSeparator",aU=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(Ne.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});aU.displayName=nde;var rde="MenuArrow",iU=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=hg(n);return i.jsx($0,{...s,...r,ref:t})});iU.displayName=rde;var Vk="MenuSub",[sde,oU]=Gc(Vk),lU=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:s}=e,a=xl(Vk,t),o=hg(t),[l,c]=v.useState(null),[u,d]=v.useState(null),f=dn(s);return v.useEffect(()=>(a.open===!1&&f(!1),()=>f(!1)),[a.open,f]),i.jsx(Jp,{...o,children:i.jsx(HV,{scope:t,open:r,onOpenChange:f,content:u,onContentChange:d,children:i.jsx(sde,{scope:t,contentId:wr(),triggerId:wr(),trigger:l,onTriggerChange:c,children:n})})})};lU.displayName=Vk;var Dh="MenuSubTrigger",cU=v.forwardRef((e,t)=>{const n=xl(Dh,e.__scopeMenu),r=mg(Dh,e.__scopeMenu),s=oU(Dh,e.__scopeMenu),a=Dk(Dh,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(Ik,{asChild:!0,...u,children:i.jsx(QV,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":fU(n.open),...e,ref:C0(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ce(e.onPointerMove,Jm(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ce(e.onPointerLeave,Jm(f=>{var m,y;d();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(y=n.content)==null?void 0:y.dataset.side,x=p==="right",w=x?-5:5,g=h[x?"left":"right"],b=h[x?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:g,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:g,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ce(e.onKeyDown,f=>{var m;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||Fue[r.dir].includes(f.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),f.preventDefault())})})})});cU.displayName=Dh;var uU="MenuSubContent",dU=v.forwardRef((e,t)=>{const n=KV(Fs,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=xl(Fs,e.__scopeMenu),o=mg(Fs,e.__scopeMenu),l=oU(uU,e.__scopeMenu),c=v.useRef(null),u=Ue(t,c);return i.jsx(Zm.Provider,{scope:e.__scopeMenu,children:i.jsx(Bn,{present:r||a.open,children:i.jsx(Zm.Slot,{scope:e.__scopeMenu,children:i.jsx(Lk,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ce(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ce(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ce(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=Bue[o.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});dU.displayName=uU;function fU(e){return e?"open":"closed"}function Gv(e){return e==="indeterminate"}function Uk(e){return Gv(e)?"indeterminate":e?"checked":"unchecked"}function ade(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function ide(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function ode(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=ide(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function lde(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(s=!s)}return s}function cde(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return lde(n,t)}function Jm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var ude=qV,dde=Ik,fde=GV,hde=YV,mde=Fk,pde=XV,gde=nb,yde=ZV,vde=eU,xde=nU,bde=sU,wde=aU,_de=iU,jde=lU,Sde=cU,Nde=dU,rb="DropdownMenu",[Cde,s6e]=Yn(rb,[zV]),jr=zV(),[Pde,hU]=Cde(rb),mU=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=jr(t),u=v.useRef(null),[d,f]=Kn({prop:s,defaultProp:a??!1,onChange:o,caller:rb});return i.jsx(Pde,{scope:t,triggerId:wr(),triggerRef:u,contentId:wr(),open:d,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(h=>!h),[f]),modal:l,children:i.jsx(ude,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};mU.displayName=rb;var pU="DropdownMenuTrigger",gU=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,a=hU(pU,n),o=jr(n);return i.jsx(dde,{asChild:!0,...o,children:i.jsx(Ne.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:C0(t,a.triggerRef),onPointerDown:ce(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:ce(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});gU.displayName=pU;var kde="DropdownMenuPortal",yU=e=>{const{__scopeDropdownMenu:t,...n}=e,r=jr(t);return i.jsx(fde,{...r,...n})};yU.displayName=kde;var vU="DropdownMenuContent",xU=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=hU(vU,n),a=jr(n),o=v.useRef(!1);return i.jsx(hde,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:t,onCloseAutoFocus:ce(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ce(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});xU.displayName=vU;var Ede="DropdownMenuGroup",Ade=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=jr(n);return i.jsx(mde,{...s,...r,ref:t})});Ade.displayName=Ede;var Tde="DropdownMenuLabel",bU=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=jr(n);return i.jsx(pde,{...s,...r,ref:t})});bU.displayName=Tde;var Ode="DropdownMenuItem",wU=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=jr(n);return i.jsx(gde,{...s,...r,ref:t})});wU.displayName=Ode;var Mde="DropdownMenuCheckboxItem",_U=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=jr(n);return i.jsx(yde,{...s,...r,ref:t})});_U.displayName=Mde;var Rde="DropdownMenuRadioGroup",Ide=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=jr(n);return i.jsx(vde,{...s,...r,ref:t})});Ide.displayName=Rde;var $de="DropdownMenuRadioItem",jU=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=jr(n);return i.jsx(xde,{...s,...r,ref:t})});jU.displayName=$de;var Dde="DropdownMenuItemIndicator",SU=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=jr(n);return i.jsx(bde,{...s,...r,ref:t})});SU.displayName=Dde;var Lde="DropdownMenuSeparator",NU=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=jr(n);return i.jsx(wde,{...s,...r,ref:t})});NU.displayName=Lde;var Fde="DropdownMenuArrow",Bde=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=jr(n);return i.jsx(_de,{...s,...r,ref:t})});Bde.displayName=Fde;var Vde=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:s,defaultOpen:a}=e,o=jr(t),[l,c]=Kn({prop:r,defaultProp:a??!1,onChange:s,caller:"DropdownMenuSub"});return i.jsx(jde,{...o,open:l,onOpenChange:c,children:n})},Ude="DropdownMenuSubTrigger",CU=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=jr(n);return i.jsx(Sde,{...s,...r,ref:t})});CU.displayName=Ude;var zde="DropdownMenuSubContent",PU=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=jr(n);return i.jsx(Nde,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});PU.displayName=zde;var Wde=mU,Hde=gU,qde=yU,kU=xU,EU=bU,AU=wU,TU=_U,OU=jU,MU=SU,RU=NU,Kde=Vde,IU=CU,$U=PU;const Yc=Wde,Xc=Hde,$M=Kde,xS=v.forwardRef(({className:e,inset:t,children:n,...r},s)=>i.jsxs(IU,{ref:s,className:ee("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...r,children:[n,i.jsx(ml,{className:"ml-auto h-4 w-4"})]}));xS.displayName=IU.displayName;const bS=v.forwardRef(({className:e,...t},n)=>i.jsx($U,{ref:n,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));bS.displayName=$U.displayName;const bl=v.forwardRef(({className:e,sideOffset:t=4,...n},r)=>i.jsx(qde,{children:i.jsx(kU,{ref:r,sideOffset:t,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));bl.displayName=kU.displayName;const At=v.forwardRef(({className:e,inset:t,...n},r)=>i.jsx(AU,{ref:r,className:ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...n}));At.displayName=AU.displayName;const DU=v.forwardRef(({className:e,children:t,checked:n,...r},s)=>i.jsxs(TU,{ref:s,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:n,...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(MU,{children:i.jsx(fn,{className:"h-4 w-4"})})}),t]}));DU.displayName=TU.displayName;const Gde=v.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(OU,{ref:r,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(MU,{children:i.jsx(uX,{className:"h-2 w-2 fill-current"})})}),t]}));Gde.displayName=OU.displayName;const zk=v.forwardRef(({className:e,inset:t,...n},r)=>i.jsx(EU,{ref:r,className:ee("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));zk.displayName=EU.displayName;const Za=v.forwardRef(({className:e,...t},n)=>i.jsx(RU,{ref:n,className:ee("-mx-1 my-1 h-px bg-muted",e),...t}));Za.displayName=RU.displayName;const Yde=[{label:null,links:[{name:"Dashboard",href:"/dashboard",icon:mX},{name:"Schedule",href:"/dashboard/calendar",icon:Di},{name:"Calls",href:"/dashboard/calls",icon:E0},{name:"Messages",href:"/dashboard/messages",icon:Ds}]},{label:"Contacts",links:[{name:"Leads",href:"/dashboard/leads",icon:uj},{name:"Customers",href:"/dashboard/customers",icon:Sa}]},{label:"Business",links:[{name:"Team",href:"/dashboard/team",icon:SX},{name:"Services",href:"/dashboard/services",icon:aj},{name:"Campaigns",href:"/dashboard/campaigns",icon:E3},{name:"AI Agent",href:"/dashboard/voice-behavior",icon:uP}]},{label:"Settings",links:[{name:"Widget",href:"/dashboard/widget",icon:P3},{name:"Integrations",href:"/dashboard/integrations",icon:R3},{name:"Account",href:"/dashboard/account",icon:T0}]}];function Ht({children:e}){const[t,n]=v.useState(!1),[r,s]=v.useState(!1),a=ka();return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsxs("header",{className:"lg:hidden fixed top-0 left-0 right-0 z-50 h-16 bg-card border-b border-border flex items-center justify-between px-4",children:[i.jsxs(tt,{to:"/",className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-hero",children:i.jsx(ft,{className:"w-4 h-4 text-primary-foreground"})}),i.jsx("span",{className:"font-display font-bold text-lg",children:"AnswerAfter"})]}),i.jsx("button",{onClick:()=>s(!r),className:"p-2 text-foreground",children:i.jsx(A3,{className:"w-6 h-6"})})]}),i.jsx(Of,{children:r&&i.jsxs(i.Fragment,{children:[i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>s(!1),className:"lg:hidden fixed inset-0 z-40 bg-foreground/20 backdrop-blur-sm"}),i.jsx(Z.aside,{initial:{x:-280},animate:{x:0},exit:{x:-280},transition:{type:"spring",damping:25,stiffness:200},className:"lg:hidden fixed left-0 top-0 bottom-0 z-50 w-[280px] bg-sidebar border-r border-sidebar-border p-4",children:i.jsx(DM,{collapsed:!1,currentPath:a.pathname,onClose:()=>s(!1)})})]})}),i.jsxs(Z.aside,{animate:{width:t?80:280},transition:{type:"spring",damping:25,stiffness:200},className:"hidden lg:flex fixed left-0 top-0 bottom-0 z-40 bg-sidebar border-r border-sidebar-border flex-col p-4",children:[i.jsx(DM,{collapsed:t,currentPath:a.pathname}),i.jsx("button",{onClick:()=>n(!t),className:"absolute -right-3 top-20 w-6 h-6 rounded-full bg-card border border-border flex items-center justify-center shadow-md hover:bg-muted transition-colors",children:t?i.jsx(ml,{className:"w-4 h-4"}):i.jsx(Yp,{className:"w-4 h-4"})})]}),i.jsx("main",{className:ee("min-h-screen pt-16 lg:pt-0 transition-all duration-300",t?"lg:pl-20":"lg:pl-[280px]"),children:i.jsx("div",{className:"p-6 lg:p-8",children:e})})]})}function DM({collapsed:e,currentPath:t,onClose:n}){const{data:r}=Mf();ht();const[s,a]=v.useState("inbound");return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs(tt,{to:"/",className:ee("flex items-center gap-3 mb-4",e&&"justify-center"),onClick:n,children:[i.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-hero shadow-glow flex-shrink-0",children:i.jsx(ft,{className:"w-5 h-5 text-primary-foreground"})}),!e&&i.jsxs("span",{className:"font-display font-bold text-lg",children:["Answer",i.jsx("span",{className:"text-gradient",children:"After"})]})]}),!e&&i.jsxs(Yc,{children:[i.jsx(Xc,{asChild:!0,children:i.jsxs("button",{className:"w-full flex items-center justify-between gap-2 px-3 py-2.5 rounded-lg bg-sidebar-accent/50 hover:bg-sidebar-accent transition-colors text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[s==="inbound"?i.jsx(yc,{className:"w-4 h-4 text-primary"}):i.jsx(Vw,{className:"w-4 h-4 text-primary"}),i.jsx("span",{className:"font-medium",children:s==="inbound"?"Inbound":"Outbound"})]}),i.jsx(wf,{className:"w-4 h-4 text-muted-foreground"})]})}),i.jsxs(bl,{align:"start",className:"w-56 bg-popover border border-border shadow-lg",children:[i.jsxs(At,{onClick:()=>a("inbound"),className:"flex items-center justify-between cursor-pointer",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(yc,{className:"w-4 h-4"}),"Inbound"]}),s==="inbound"&&i.jsx(fn,{className:"w-4 h-4 text-primary"})]}),i.jsxs(At,{onClick:()=>a("outbound"),className:"flex items-center justify-between cursor-pointer",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Vw,{className:"w-4 h-4"}),"Outbound"]}),s==="outbound"&&i.jsx(fn,{className:"w-4 h-4 text-primary"})]})]})]}),e&&i.jsx("div",{className:"flex justify-center",children:s==="inbound"?i.jsx(yc,{className:"w-5 h-5 text-primary"}):i.jsx(Vw,{className:"w-5 h-5 text-primary"})})]}),s==="inbound"?i.jsx("nav",{className:"flex-1 space-y-4 overflow-y-auto",children:Yde.map((o,l)=>i.jsxs("div",{children:[o.label&&!e&&i.jsx("div",{className:"px-3 py-1.5 text-sm font-medium text-muted-foreground uppercase tracking-wider",children:o.label}),i.jsx("div",{className:"space-y-1",children:o.links.map(c=>{const u=t===c.href;return i.jsxs(tt,{to:c.href,onClick:n,className:ee("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 text-sm",e&&"justify-center px-2",u?"bg-sidebar-accent text-sidebar-accent-foreground font-medium":"text-sidebar-foreground hover:bg-sidebar-accent/50"),children:[i.jsx(c.icon,{className:ee("w-5 h-5 flex-shrink-0",u&&"text-primary")}),!e&&i.jsx("span",{children:c.name})]},c.href)})})]},l))}):i.jsx("div",{className:"flex-1 flex flex-col items-center justify-center px-4 text-center",children:e?i.jsx(vs,{className:"w-6 h-6 text-muted-foreground"}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-muted/50 flex items-center justify-center mb-4",children:i.jsx(vs,{className:"w-8 h-8 text-muted-foreground"})}),i.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Coming Soon"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Outbound calling features are currently in development."})]})}),i.jsxs("div",{className:ee("pt-4 border-t border-sidebar-border mt-4 space-y-3",e&&"flex flex-col items-center"),children:[i.jsx(G,{variant:"outline",size:e?"icon":"sm",className:ee("w-full gap-2",e&&"w-10"),asChild:!0,children:i.jsxs(tt,{to:"/dashboard/subscriptions",onClick:n,children:[i.jsx(Ga,{className:"w-4 h-4"}),!e&&i.jsx("span",{children:"Upgrade"})]})}),i.jsx(Cue,{collapsed:e,accountName:r==null?void 0:r.name,onClose:n})]})]})}const me=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:ee("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));me.displayName="Card";const Ye=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:ee("flex flex-col space-y-1.5 p-6",e),...t}));Ye.displayName="CardHeader";const Xe=v.forwardRef(({className:e,...t},n)=>i.jsx("h3",{ref:n,className:ee("text-2xl font-semibold leading-none tracking-tight",e),...t}));Xe.displayName="CardTitle";const vt=v.forwardRef(({className:e,...t},n)=>i.jsx("p",{ref:n,className:ee("text-sm text-muted-foreground",e),...t}));vt.displayName="CardDescription";const ge=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:ee("p-6 pt-0",e),...t}));ge.displayName="CardContent";const Xde=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:ee("flex items-center p-6 pt-0",e),...t}));Xde.displayName="CardFooter";const Qde=bf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function It({className:e,variant:t,...n}){return i.jsx("div",{className:ee(Qde({variant:t}),e),...n})}function Ot({className:e,...t}){return i.jsx("div",{className:ee("animate-pulse rounded-md bg-muted",e),...t})}function Zde(e="7d"){const{user:t}=ht();return jt({queryKey:["dashboard","stats",t==null?void 0:t.account_id,e],queryFn:async()=>(await new Promise(n=>setTimeout(n,300)),qre(e)),enabled:!!(t!=null&&t.account_id)||ir(),refetchInterval:!1})}function Jde(e){const{user:t}=ht();return jt({queryKey:["conversations",t==null?void 0:t.account_id,e],queryFn:async()=>(await new Promise(n=>setTimeout(n,200)),{conversations:[],meta:{page:1,per_page:20,total:0,has_more:!1}}),enabled:!!(t!=null&&t.account_id)||ir()})}function efe(e=5){const{user:t}=ht();return jt({queryKey:["calls","twilio","recent",t==null?void 0:t.account_id,e],queryFn:async()=>(await new Promise(r=>setTimeout(r,150)),[...WP].sort((r,s)=>new Date(s.started_at).getTime()-new Date(r.started_at).getTime()).slice(0,e)),enabled:!!(t!=null&&t.account_id)||ir(),refetchInterval:!1})}function LU(e={},t=1,n=20){const{user:r}=ht();return jt({queryKey:["contacts",r==null?void 0:r.account_id,e,t,n],queryFn:async()=>{{await new Promise(c=>setTimeout(c,200));let s=[...vc];if(e.status&&e.status!=="all"&&(s=s.filter(c=>c.status===e.status)),e.interest_level&&e.interest_level!=="all"&&(s=s.filter(c=>c.interest_level===e.interest_level)),e.lead_status&&e.lead_status!=="all"&&(s=s.filter(c=>c.lead_status===e.lead_status)),e.search){const c=e.search.toLowerCase();s=s.filter(u=>{var d,f;return((d=u.name)==null?void 0:d.toLowerCase().includes(c))||u.phone.includes(c)||((f=u.email)==null?void 0:f.toLowerCase().includes(c))})}const a=(t-1)*n,o=a+n,l={total:s.length,hot:s.filter(c=>c.interest_level==="hot").length,warm:s.filter(c=>c.interest_level==="warm").length,cold:s.filter(c=>c.interest_level==="cold").length};return{contacts:s.slice(a,o),meta:{page:t,per_page:n,total:s.length,total_pages:Math.ceil(s.length/n)},stats:l}}},enabled:!!(r!=null&&r.account_id)||ir()})}function tfe(e={},t=1,n=20){return LU({...e,status:"lead"},t,n)}function Wk(e={},t=1,n=20){return LU({...e,status:"customer"},t,n)}function nfe(e){return jt({queryKey:["contacts",e,"calls"],queryFn:async()=>{const{data:t,error:n}=await ie.from("calls").select("*").eq("contact_id",e).order("started_at",{ascending:!1});if(n)throw n;return t||[]},enabled:!!e})}function FU(e){return jt({queryKey:["contacts","by-phone",e],queryFn:async()=>{if(!e)return new Map;const{data:t,error:n}=await ie.from("contacts").select("*").eq("account_id",e);if(n)throw n;const r=new Map;for(const s of t||[]){const a=s.phone.replace(/\D/g,"").slice(-10);r.set(a,s)}return r},enabled:!!e})}function rfe(){const e=St();return ht(),Qt({mutationFn:async t=>{{await new Promise(r=>setTimeout(r,300));const n={id:`contact-${Date.now()}`,account_id:gi.id,phone:t.phone,name:t.name||null,email:t.email||null,address:t.address||null,notes:t.notes||null,status:t.status||"customer",source:t.source||"manual",interest_level:null,lead_status:"new",lead_notes:null,lead_updated_at:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return vc.unshift(n),n}},onSuccess:()=>{e.invalidateQueries({queryKey:["contacts"]})}})}function BU(){const e=St();return Qt({mutationFn:async({id:t,...n})=>{{await new Promise(a=>setTimeout(a,300));const r=vc.findIndex(a=>a.id===t);if(r===-1)throw new Error("Contact not found");const s={...vc[r],...n,updated_at:new Date().toISOString()};return vc[r]=s,s}},onSuccess:(t,{id:n})=>{e.invalidateQueries({queryKey:["contacts"]}),e.invalidateQueries({queryKey:["contacts",n]})}})}function sfe(){const e=St();return Qt({mutationFn:async t=>{{await new Promise(r=>setTimeout(r,200));const n=vc.findIndex(r=>r.id===t);n!==-1&&vc.splice(n,1);return}},onSuccess:()=>{e.invalidateQueries({queryKey:["contacts"]})}})}var VU="Toggle",Hk=v.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:s,...a}=e,[o,l]=Kn({prop:n,onChange:s,defaultProp:r??!1,caller:VU});return i.jsx(Ne.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0,...a,ref:t,onClick:ce(e.onClick,()=>{e.disabled||l(!o)})})});Hk.displayName=VU;var UU=Hk,wl="ToggleGroup",[zU,a6e]=Yn(wl,[Rf]),WU=Rf(),qk=M.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const s=r;return i.jsx(afe,{...s,ref:t})}if(n==="multiple"){const s=r;return i.jsx(ife,{...s,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${wl}\``)});qk.displayName=wl;var[HU,qU]=zU(wl),afe=M.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...a}=e,[o,l]=Kn({prop:n,defaultProp:r??"",onChange:s,caller:wl});return i.jsx(HU,{scope:e.__scopeToggleGroup,type:"single",value:M.useMemo(()=>o?[o]:[],[o]),onItemActivate:l,onItemDeactivate:M.useCallback(()=>l(""),[l]),children:i.jsx(KU,{...a,ref:t})})}),ife=M.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...a}=e,[o,l]=Kn({prop:n,defaultProp:r??[],onChange:s,caller:wl}),c=M.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=M.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return i.jsx(HU,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:c,onItemDeactivate:u,children:i.jsx(KU,{...a,ref:t})})});qk.displayName=wl;var[ofe,lfe]=zU(wl),KU=M.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:s=!0,orientation:a,dir:o,loop:l=!0,...c}=e,u=WU(n),d=Kc(o),f={role:"group",dir:d,...c};return i.jsx(ofe,{scope:n,rovingFocus:s,disabled:r,children:s?i.jsx(Mk,{asChild:!0,...u,orientation:a,dir:d,loop:l,children:i.jsx(Ne.div,{...f,ref:t})}):i.jsx(Ne.div,{...f,ref:t})})}),Yv="ToggleGroupItem",GU=M.forwardRef((e,t)=>{const n=qU(Yv,e.__scopeToggleGroup),r=lfe(Yv,e.__scopeToggleGroup),s=WU(e.__scopeToggleGroup),a=n.value.includes(e.value),o=r.disabled||e.disabled,l={...e,pressed:a,disabled:o},c=M.useRef(null);return r.rovingFocus?i.jsx(Rk,{asChild:!0,...s,focusable:!o,active:a,ref:c,children:i.jsx(LM,{...l,ref:t})}):i.jsx(LM,{...l,ref:t})});GU.displayName=Yv;var LM=M.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...s}=e,a=qU(Yv,n),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=a.type==="single"?o:void 0;return i.jsx(Hk,{...l,...s,ref:t,onPressedChange:c=>{c?a.onItemActivate(r):a.onItemDeactivate(r)}})}),YU=qk,XU=GU;const QU=bf("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),cfe=v.forwardRef(({className:e,variant:t,size:n,...r},s)=>i.jsx(UU,{ref:s,className:ee(QU({variant:t,size:n,className:e})),...r}));cfe.displayName=UU.displayName;const ZU=v.createContext({size:"default",variant:"default"}),JU=v.forwardRef(({className:e,variant:t,size:n,children:r,...s},a)=>i.jsx(YU,{ref:a,className:ee("flex items-center justify-center gap-1",e),...s,children:i.jsx(ZU.Provider,{value:{variant:t,size:n},children:r})}));JU.displayName=YU.displayName;const Lh=v.forwardRef(({className:e,children:t,variant:n,size:r,...s},a)=>{const o=v.useContext(ZU);return i.jsx(XU,{ref:a,className:ee(QU({variant:o.variant||n,size:o.size||r}),e),...s,children:t})});Lh.displayName=XU.displayName;function st(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Kt(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function If(e,t){const n=st(e);return isNaN(t)?Kt(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function e8(e,t){const n=+st(e);return Kt(e,n+t)}const t8=6048e5,ufe=864e5,n8=6e4,r8=36e5,dfe=1e3,dy=43200,FM=1440;function ffe(e,t){return e8(e,t*r8)}let hfe={};function Qc(){return hfe}function Ui(e,t){var l,c,u,d;const n=Qc(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=st(e),a=s.getDay(),o=(a<r?7:0)+a-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Ld(e){return Ui(e,{weekStartsOn:1})}function s8(e){const t=st(e),n=t.getFullYear(),r=Kt(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Ld(r),a=Kt(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Ld(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Fd(e){const t=st(e);return t.setHours(0,0,0,0),t}function Bd(e){const t=st(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function mfe(e,t){const n=Fd(e),r=Fd(t),s=+n-Bd(n),a=+r-Bd(r);return Math.round((s-a)/ufe)}function pfe(e){const t=s8(e),n=Kt(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Ld(n)}function N1(e,t){return e8(e,t*n8)}function a8(e,t){const n=t*7;return If(e,n)}function Jy(e,t){const n=st(e),r=st(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function i8(e){return Kt(e,Date.now())}function gfe(e,t){const n=Fd(e),r=Fd(t);return+n==+r}function yfe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function vfe(e){if(!yfe(e)&&typeof e!="number")return!1;const t=st(e);return!isNaN(Number(t))}function xfe(e,t){const n=st(e),r=st(t),s=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return s*12+a}function bfe(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function wfe(e,t){return+st(e)-+st(t)}function Kk(e){const t=st(e);return t.setHours(23,59,59,999),t}function _fe(e){const t=st(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function jfe(e){const t=st(e);return+Kk(t)==+_fe(t)}function Sfe(e,t){const n=st(e),r=st(t),s=Jy(n,r),a=Math.abs(xfe(n,r));let o;if(a<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*a);let l=Jy(n,r)===-s;jfe(st(e))&&a===1&&Jy(e,r)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function Nfe(e,t,n){const r=wfe(e,t)/1e3;return bfe(n==null?void 0:n.roundingMethod)(r)}function Cfe(e){const t=st(e),n=Kt(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Pfe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kfe=(e,t,n)=>{let r;const s=Pfe[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function C1(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Efe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Afe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Tfe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ofe={date:C1({formats:Efe,defaultWidth:"full"}),time:C1({formats:Afe,defaultWidth:"full"}),dateTime:C1({formats:Tfe,defaultWidth:"full"})},Mfe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Rfe=(e,t,n,r)=>Mfe[e];function hh(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const Ife={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$fe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Dfe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Lfe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ffe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Bfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Vfe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Ufe={ordinalNumber:Vfe,era:hh({values:Ife,defaultWidth:"wide"}),quarter:hh({values:$fe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:hh({values:Dfe,defaultWidth:"wide"}),day:hh({values:Lfe,defaultWidth:"wide"}),dayPeriod:hh({values:Ffe,defaultWidth:"wide",formattingValues:Bfe,defaultFormattingWidth:"wide"})};function mh(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Wfe(l,f=>f.test(o)):zfe(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function zfe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Wfe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Hfe(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const qfe=/^(\d+)(th|st|nd|rd)?/i,Kfe=/\d+/i,Gfe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Yfe={any:[/^b/i,/^(a|c)/i]},Xfe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Qfe={any:[/1/i,/2/i,/3/i,/4/i]},Zfe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Jfe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ehe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},the={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nhe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rhe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},she={ordinalNumber:Hfe({matchPattern:qfe,parsePattern:Kfe,valueCallback:e=>parseInt(e,10)}),era:mh({matchPatterns:Gfe,defaultMatchWidth:"wide",parsePatterns:Yfe,defaultParseWidth:"any"}),quarter:mh({matchPatterns:Xfe,defaultMatchWidth:"wide",parsePatterns:Qfe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:mh({matchPatterns:Zfe,defaultMatchWidth:"wide",parsePatterns:Jfe,defaultParseWidth:"any"}),day:mh({matchPatterns:ehe,defaultMatchWidth:"wide",parsePatterns:the,defaultParseWidth:"any"}),dayPeriod:mh({matchPatterns:nhe,defaultMatchWidth:"any",parsePatterns:rhe,defaultParseWidth:"any"})},Gk={code:"en-US",formatDistance:kfe,formatLong:Ofe,formatRelative:Rfe,localize:Ufe,match:she,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ahe(e){const t=st(e);return mfe(t,Cfe(t))+1}function o8(e){const t=st(e),n=+Ld(t)-+pfe(t);return Math.round(n/t8)+1}function Yk(e,t){var d,f,h,m;const n=st(e),r=n.getFullYear(),s=Qc(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Kt(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=Ui(o,t),c=Kt(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=Ui(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function ihe(e,t){var l,c,u,d;const n=Qc(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=Yk(e,t),a=Kt(e,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),Ui(a,t)}function l8(e,t){const n=st(e),r=+Ui(n,t)-+ihe(n,t);return Math.round(r/t8)+1}function Ct(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const lo={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ct(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ct(n+1,2)},d(e,t){return Ct(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ct(e.getHours()%12||12,t.length)},H(e,t){return Ct(e.getHours(),t.length)},m(e,t){return Ct(e.getMinutes(),t.length)},s(e,t){return Ct(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Ct(s,t.length)}},pu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},BM={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return lo.y(e,t)},Y:function(e,t,n,r){const s=Yk(e,r),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return Ct(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Ct(a,t.length)},R:function(e,t){const n=s8(e);return Ct(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ct(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ct(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ct(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return lo.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ct(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=l8(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Ct(s,t.length)},I:function(e,t,n){const r=o8(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ct(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):lo.d(e,t)},D:function(e,t,n){const r=ahe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ct(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ct(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ct(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return Ct(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=pu.noon:r===0?s=pu.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=pu.evening:r>=12?s=pu.afternoon:r>=4?s=pu.morning:s=pu.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return lo.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):lo.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ct(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ct(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):lo.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):lo.s(e,t)},S:function(e,t){return lo.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return UM(r);case"XXXX":case"XX":return Ll(r);case"XXXXX":case"XXX":default:return Ll(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return UM(r);case"xxxx":case"xx":return Ll(r);case"xxxxx":case"xxx":default:return Ll(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+VM(r,":");case"OOOO":default:return"GMT"+Ll(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+VM(r,":");case"zzzz":default:return"GMT"+Ll(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Ct(r,t.length)},T:function(e,t,n){const r=e.getTime();return Ct(r,t.length)}};function VM(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+t+Ct(a,2)}function UM(e,t){return e%60===0?(e>0?"-":"+")+Ct(Math.abs(e)/60,2):Ll(e,t)}function Ll(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Ct(Math.trunc(r/60),2),a=Ct(r%60,2);return n+s+t+a}const zM=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},c8=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},ohe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return zM(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",zM(r,t)).replace("{{time}}",c8(s,t))},wS={p:c8,P:ohe},lhe=/^D+$/,che=/^Y+$/,uhe=["D","DD","YY","YYYY"];function u8(e){return lhe.test(e)}function d8(e){return che.test(e)}function _S(e,t,n){const r=dhe(e,t,n);if(console.warn(r),uhe.includes(e))throw new RangeError(r)}function dhe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const fhe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hhe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mhe=/^'([^]*?)'?$/,phe=/''/g,ghe=/[a-zA-Z]/;function Nn(e,t,n){var d,f,h,m;const r=Qc(),s=r.locale??Gk,a=r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=r.weekStartsOn??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,l=st(e);if(!vfe(l))throw new RangeError("Invalid time value");let c=t.match(hhe).map(y=>{const p=y[0];if(p==="p"||p==="P"){const x=wS[p];return x(y,s.formatLong)}return y}).join("").match(fhe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const p=y[0];if(p==="'")return{isToken:!1,value:yhe(y)};if(BM[p])return{isToken:!0,value:y};if(p.match(ghe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(y=>{if(!y.isToken)return y.value;const p=y.value;(d8(p)||u8(p))&&_S(p,t,String(e));const x=BM[p[0]];return x(l,p,s.localize,u)}).join("")}function yhe(e){const t=e.match(mhe);return t?t[1].replace(phe,"'"):e}function vhe(e,t,n){const r=Qc(),s=(n==null?void 0:n.locale)??r.locale??Gk,a=2520,o=Jy(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,u;o>0?(c=st(t),u=st(e)):(c=st(e),u=st(t));const d=Nfe(u,c),f=(Bd(u)-Bd(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return n!=null&&n.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<FM){const y=Math.round(h/60);return s.formatDistance("aboutXHours",y,l)}else{if(h<a)return s.formatDistance("xDays",1,l);if(h<dy){const y=Math.round(h/FM);return s.formatDistance("xDays",y,l)}else if(h<dy*2)return m=Math.round(h/dy),s.formatDistance("aboutXMonths",m,l)}if(m=Sfe(u,c),m<12){const y=Math.round(h/dy);return s.formatDistance("xMonths",y,l)}else{const y=m%12,p=Math.trunc(m/12);return y<3?s.formatDistance("aboutXYears",p,l):y<9?s.formatDistance("overXYears",p,l):s.formatDistance("almostXYears",p+1,l)}}function Zc(e,t){return vhe(e,i8(e),t)}function xhe(){return Object.assign({},Qc())}function bhe(e){let n=st(e).getDay();return n===0&&(n=7),n}function whe(e,t){const n=t instanceof Date?Kt(t,0):new t(0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}const _he=10;class f8{constructor(){je(this,"subPriority",0)}validate(t,n){return!0}}class jhe extends f8{constructor(t,n,r,s,a){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=s,a&&(this.subPriority=a)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class She extends f8{constructor(){super(...arguments);je(this,"priority",_he);je(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:Kt(n,whe(n,Date))}}class xt{run(t,n,r,s){const a=this.parse(t,n,r,s);return a?{setter:new jhe(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(t,n,r){return!0}}class Nhe extends xt{constructor(){super(...arguments);je(this,"priority",140);je(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})||s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"})}}set(n,r,s){return r.era=s,n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}const yn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Va={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function vn(e,t){return e&&{value:t(e.value),rest:e.rest}}function tn(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Ua(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(s*r8+a*n8+o*dfe),rest:t.slice(n[0].length)}}function h8(e){return tn(yn.anyDigitsSigned,e)}function hn(e,t){switch(e){case 1:return tn(yn.singleDigit,t);case 2:return tn(yn.twoDigits,t);case 3:return tn(yn.threeDigits,t);case 4:return tn(yn.fourDigits,t);default:return tn(new RegExp("^\\d{1,"+e+"}"),t)}}function Xv(e,t){switch(e){case 1:return tn(yn.singleDigitSigned,t);case 2:return tn(yn.twoDigitsSigned,t);case 3:return tn(yn.threeDigitsSigned,t);case 4:return tn(yn.fourDigitsSigned,t);default:return tn(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Xk(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function m8(e,t){const n=t>0,r=n?t:1-t;let s;if(r<=50)s=e||100;else{const a=r+50,o=Math.trunc(a/100)*100,l=e>=a%100;s=e+o-(l?100:0)}return n?s:1-s}function p8(e){return e%400===0||e%4===0&&e%100!==0}class Che extends xt{constructor(){super(...arguments);je(this,"priority",130);je(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,s){const a=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return vn(hn(4,n),a);case"yo":return vn(s.ordinalNumber(n,{unit:"year"}),a);default:return vn(hn(r.length,n),a)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s){const a=n.getFullYear();if(s.isTwoDigitYear){const l=m8(s.year,a);return n.setFullYear(l,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class Phe extends xt{constructor(){super(...arguments);je(this,"priority",130);je(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,s){const a=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return vn(hn(4,n),a);case"Yo":return vn(s.ordinalNumber(n,{unit:"year"}),a);default:return vn(hn(r.length,n),a)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s,a){const o=Yk(n,a);if(s.isTwoDigitYear){const c=m8(s.year,o);return n.setFullYear(c,0,a.firstWeekContainsDate),n.setHours(0,0,0,0),Ui(n,a)}const l=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(l,0,a.firstWeekContainsDate),n.setHours(0,0,0,0),Ui(n,a)}}class khe extends xt{constructor(){super(...arguments);je(this,"priority",130);je(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Xv(r==="R"?4:r.length,n)}set(n,r,s){const a=Kt(n,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),Ld(a)}}class Ehe extends xt{constructor(){super(...arguments);je(this,"priority",130);je(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Xv(r==="u"?4:r.length,n)}set(n,r,s){return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class Ahe extends xt{constructor(){super(...arguments);je(this,"priority",120);je(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"Q":case"QQ":return hn(r.length,n);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})||s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class The extends xt{constructor(){super(...arguments);je(this,"priority",120);je(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"q":case"qq":return hn(r.length,n);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})||s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class Ohe extends xt{constructor(){super(...arguments);je(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);je(this,"priority",110)}parse(n,r,s){const a=o=>o-1;switch(r){case"M":return vn(tn(yn.month,n),a);case"MM":return vn(hn(2,n),a);case"Mo":return vn(s.ordinalNumber(n,{unit:"month"}),a);case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})||s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}class Mhe extends xt{constructor(){super(...arguments);je(this,"priority",110);je(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,s){const a=o=>o-1;switch(r){case"L":return vn(tn(yn.month,n),a);case"LL":return vn(hn(2,n),a);case"Lo":return vn(s.ordinalNumber(n,{unit:"month"}),a);case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})||s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}function Rhe(e,t,n){const r=st(e),s=l8(r,n)-t;return r.setDate(r.getDate()-s*7),r}class Ihe extends xt{constructor(){super(...arguments);je(this,"priority",100);je(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,s){switch(r){case"w":return tn(yn.week,n);case"wo":return s.ordinalNumber(n,{unit:"week"});default:return hn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s,a){return Ui(Rhe(n,s,a),a)}}function $he(e,t){const n=st(e),r=o8(n)-t;return n.setDate(n.getDate()-r*7),n}class Dhe extends xt{constructor(){super(...arguments);je(this,"priority",100);je(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,s){switch(r){case"I":return tn(yn.week,n);case"Io":return s.ordinalNumber(n,{unit:"week"});default:return hn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s){return Ld($he(n,s))}}const Lhe=[31,28,31,30,31,30,31,31,30,31,30,31],Fhe=[31,29,31,30,31,30,31,31,30,31,30,31];class Bhe extends xt{constructor(){super(...arguments);je(this,"priority",90);je(this,"subPriority",1);je(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"d":return tn(yn.date,n);case"do":return s.ordinalNumber(n,{unit:"date"});default:return hn(r.length,n)}}validate(n,r){const s=n.getFullYear(),a=p8(s),o=n.getMonth();return a?r>=1&&r<=Fhe[o]:r>=1&&r<=Lhe[o]}set(n,r,s){return n.setDate(s),n.setHours(0,0,0,0),n}}class Vhe extends xt{constructor(){super(...arguments);je(this,"priority",90);je(this,"subpriority",1);je(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,s){switch(r){case"D":case"DD":return tn(yn.dayOfYear,n);case"Do":return s.ordinalNumber(n,{unit:"date"});default:return hn(r.length,n)}}validate(n,r){const s=n.getFullYear();return p8(s)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,s){return n.setMonth(0,s),n.setHours(0,0,0,0),n}}function Qk(e,t,n){var f,h,m,y;const r=Qc(),s=(n==null?void 0:n.weekStartsOn)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((y=(m=r.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,a=st(e),o=a.getDay(),c=(t%7+7)%7,u=7-s,d=t<0||t>6?t-(o+u)%7:(c+u)%7-(o+u)%7;return If(a,d)}class Uhe extends xt{constructor(){super(...arguments);je(this,"priority",90);je(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,a){return n=Qk(n,s,a),n.setHours(0,0,0,0),n}}class zhe extends xt{constructor(){super(...arguments);je(this,"priority",90);je(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,s,a){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+c};switch(r){case"e":case"ee":return vn(hn(r.length,n),o);case"eo":return vn(s.ordinalNumber(n,{unit:"day"}),o);case"eee":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,a){return n=Qk(n,s,a),n.setHours(0,0,0,0),n}}class Whe extends xt{constructor(){super(...arguments);je(this,"priority",90);je(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,s,a){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+c};switch(r){case"c":case"cc":return vn(hn(r.length,n),o);case"co":return vn(s.ordinalNumber(n,{unit:"day"}),o);case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})||s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,a){return n=Qk(n,s,a),n.setHours(0,0,0,0),n}}function Hhe(e,t){const n=st(e),r=bhe(n),s=t-r;return If(n,s)}class qhe extends xt{constructor(){super(...arguments);je(this,"priority",90);je(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,s){const a=o=>o===0?7:o;switch(r){case"i":case"ii":return hn(r.length,n);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return vn(s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),a);case"iiiii":return vn(s.day(n,{width:"narrow",context:"formatting"}),a);case"iiiiii":return vn(s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),a);case"iiii":default:return vn(s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),a)}}validate(n,r){return r>=1&&r<=7}set(n,r,s){return n=Hhe(n,s),n.setHours(0,0,0,0),n}}class Khe extends xt{constructor(){super(...arguments);je(this,"priority",80);je(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(Xk(s),0,0,0),n}}class Ghe extends xt{constructor(){super(...arguments);je(this,"priority",80);je(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(Xk(s),0,0,0),n}}class Yhe extends xt{constructor(){super(...arguments);je(this,"priority",80);je(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(Xk(s),0,0,0),n}}class Xhe extends xt{constructor(){super(...arguments);je(this,"priority",70);je(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,s){switch(r){case"h":return tn(yn.hour12h,n);case"ho":return s.ordinalNumber(n,{unit:"hour"});default:return hn(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,s){const a=n.getHours()>=12;return a&&s<12?n.setHours(s+12,0,0,0):!a&&s===12?n.setHours(0,0,0,0):n.setHours(s,0,0,0),n}}class Qhe extends xt{constructor(){super(...arguments);je(this,"priority",70);je(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,s){switch(r){case"H":return tn(yn.hour23h,n);case"Ho":return s.ordinalNumber(n,{unit:"hour"});default:return hn(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,s){return n.setHours(s,0,0,0),n}}class Zhe extends xt{constructor(){super(...arguments);je(this,"priority",70);je(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,s){switch(r){case"K":return tn(yn.hour11h,n);case"Ko":return s.ordinalNumber(n,{unit:"hour"});default:return hn(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.getHours()>=12&&s<12?n.setHours(s+12,0,0,0):n.setHours(s,0,0,0),n}}class Jhe extends xt{constructor(){super(...arguments);je(this,"priority",70);je(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,s){switch(r){case"k":return tn(yn.hour24h,n);case"ko":return s.ordinalNumber(n,{unit:"hour"});default:return hn(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,s){const a=s<=24?s%24:s;return n.setHours(a,0,0,0),n}}class eme extends xt{constructor(){super(...arguments);je(this,"priority",60);je(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"m":return tn(yn.minute,n);case"mo":return s.ordinalNumber(n,{unit:"minute"});default:return hn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setMinutes(s,0,0),n}}class tme extends xt{constructor(){super(...arguments);je(this,"priority",50);je(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"s":return tn(yn.second,n);case"so":return s.ordinalNumber(n,{unit:"second"});default:return hn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setSeconds(s,0),n}}class nme extends xt{constructor(){super(...arguments);je(this,"priority",30);je(this,"incompatibleTokens",["t","T"])}parse(n,r){const s=a=>Math.trunc(a*Math.pow(10,-r.length+3));return vn(hn(r.length,n),s)}set(n,r,s){return n.setMilliseconds(s),n}}class rme extends xt{constructor(){super(...arguments);je(this,"priority",10);je(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Ua(Va.basicOptionalMinutes,n);case"XX":return Ua(Va.basic,n);case"XXXX":return Ua(Va.basicOptionalSeconds,n);case"XXXXX":return Ua(Va.extendedOptionalSeconds,n);case"XXX":default:return Ua(Va.extended,n)}}set(n,r,s){return r.timestampIsSet?n:Kt(n,n.getTime()-Bd(n)-s)}}class sme extends xt{constructor(){super(...arguments);je(this,"priority",10);je(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Ua(Va.basicOptionalMinutes,n);case"xx":return Ua(Va.basic,n);case"xxxx":return Ua(Va.basicOptionalSeconds,n);case"xxxxx":return Ua(Va.extendedOptionalSeconds,n);case"xxx":default:return Ua(Va.extended,n)}}set(n,r,s){return r.timestampIsSet?n:Kt(n,n.getTime()-Bd(n)-s)}}class ame extends xt{constructor(){super(...arguments);je(this,"priority",40);je(this,"incompatibleTokens","*")}parse(n){return h8(n)}set(n,r,s){return[Kt(n,s*1e3),{timestampIsSet:!0}]}}class ime extends xt{constructor(){super(...arguments);je(this,"priority",20);je(this,"incompatibleTokens","*")}parse(n){return h8(n)}set(n,r,s){return[Kt(n,s),{timestampIsSet:!0}]}}const ome={G:new Nhe,y:new Che,Y:new Phe,R:new khe,u:new Ehe,Q:new Ahe,q:new The,M:new Ohe,L:new Mhe,w:new Ihe,I:new Dhe,d:new Bhe,D:new Vhe,E:new Uhe,e:new zhe,c:new Whe,i:new qhe,a:new Khe,b:new Ghe,B:new Yhe,h:new Xhe,H:new Qhe,K:new Zhe,k:new Jhe,m:new eme,s:new tme,S:new nme,X:new rme,x:new sme,t:new ame,T:new ime},lme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ume=/^'([^]*?)'?$/,dme=/''/g,fme=/\S/,hme=/[a-zA-Z]/;function ph(e,t,n,r){var p,x,w,g;const s=xhe(),a=s.locale??Gk,o=s.firstWeekContainsDate??((x=(p=s.locale)==null?void 0:p.options)==null?void 0:x.firstWeekContainsDate)??1,l=s.weekStartsOn??((g=(w=s.locale)==null?void 0:w.options)==null?void 0:g.weekStartsOn)??0;if(t==="")return e===""?st(n):Kt(n,NaN);const c={firstWeekContainsDate:o,weekStartsOn:l,locale:a},u=[new She],d=t.match(cme).map(b=>{const _=b[0];if(_ in wS){const j=wS[_];return j(b,a.formatLong)}return b}).join("").match(lme),f=[];for(let b of d){d8(b)&&_S(b,t,e),u8(b)&&_S(b,t,e);const _=b[0],j=ome[_];if(j){const{incompatibleTokens:S}=j;if(Array.isArray(S)){const C=f.find(P=>S.includes(P.token)||P.token===_);if(C)throw new RangeError(`The format string mustn't contain \`${C.fullToken}\` and \`${b}\` at the same time`)}else if(j.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${b}\` and any other token at the same time`);f.push({token:_,fullToken:b});const N=j.run(e,b,a.match,c);if(!N)return Kt(n,NaN);u.push(N.setter),e=N.rest}else{if(_.match(hme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");if(b==="''"?b="'":_==="'"&&(b=mme(b)),e.indexOf(b)===0)e=e.slice(b.length);else return Kt(n,NaN)}}if(e.length>0&&fme.test(e))return Kt(n,NaN);const h=u.map(b=>b.priority).sort((b,_)=>_-b).filter((b,_,j)=>j.indexOf(b)===_).map(b=>u.filter(_=>_.priority===b).sort((_,j)=>j.subPriority-_.subPriority)).map(b=>b[0]);let m=st(n);if(isNaN(m.getTime()))return Kt(n,NaN);const y={};for(const b of h){if(!b.validate(m,c))return Kt(n,NaN);const _=b.set(m,y,c);Array.isArray(_)?(m=_[0],Object.assign(y,_[1])):m=_}return Kt(n,m)}function mme(e){return e.match(ume)[1].replace(dme,"'")}function P1(e){return gfe(e,i8(e))}function Nu(e,t){return If(e,-t)}function gh(e,t){return ffe(e,-t)}function pme(e,t){return a8(e,-t)}var gme=Array.isArray,ts=gme,yme=typeof Eg=="object"&&Eg&&Eg.Object===Object&&Eg,g8=yme,vme=g8,xme=typeof self=="object"&&self&&self.Object===Object&&self,bme=vme||xme||Function("return this")(),ai=bme,wme=ai,_me=wme.Symbol,pg=_me,WM=pg,y8=Object.prototype,jme=y8.hasOwnProperty,Sme=y8.toString,yh=WM?WM.toStringTag:void 0;function Nme(e){var t=jme.call(e,yh),n=e[yh];try{e[yh]=void 0;var r=!0}catch{}var s=Sme.call(e);return r&&(t?e[yh]=n:delete e[yh]),s}var Cme=Nme,Pme=Object.prototype,kme=Pme.toString;function Eme(e){return kme.call(e)}var Ame=Eme,HM=pg,Tme=Cme,Ome=Ame,Mme="[object Null]",Rme="[object Undefined]",qM=HM?HM.toStringTag:void 0;function Ime(e){return e==null?e===void 0?Rme:Mme:qM&&qM in Object(e)?Tme(e):Ome(e)}var Qi=Ime;function $me(e){return e!=null&&typeof e=="object"}var Zi=$me,Dme=Qi,Lme=Zi,Fme="[object Symbol]";function Bme(e){return typeof e=="symbol"||Lme(e)&&Dme(e)==Fme}var $f=Bme,Vme=ts,Ume=$f,zme=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wme=/^\w*$/;function Hme(e,t){if(Vme(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Ume(e)?!0:Wme.test(e)||!zme.test(e)||t!=null&&e in Object(t)}var Zk=Hme;function qme(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var _l=qme;const Df=Mt(_l);var Kme=Qi,Gme=_l,Yme="[object AsyncFunction]",Xme="[object Function]",Qme="[object GeneratorFunction]",Zme="[object Proxy]";function Jme(e){if(!Gme(e))return!1;var t=Kme(e);return t==Xme||t==Qme||t==Yme||t==Zme}var Jk=Jme;const Je=Mt(Jk);var epe=ai,tpe=epe["__core-js_shared__"],npe=tpe,k1=npe,KM=function(){var e=/[^.]+$/.exec(k1&&k1.keys&&k1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function rpe(e){return!!KM&&KM in e}var spe=rpe,ape=Function.prototype,ipe=ape.toString;function ope(e){if(e!=null){try{return ipe.call(e)}catch{}try{return e+""}catch{}}return""}var v8=ope,lpe=Jk,cpe=spe,upe=_l,dpe=v8,fpe=/[\\^$.*+?()[\]{}|]/g,hpe=/^\[object .+?Constructor\]$/,mpe=Function.prototype,ppe=Object.prototype,gpe=mpe.toString,ype=ppe.hasOwnProperty,vpe=RegExp("^"+gpe.call(ype).replace(fpe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xpe(e){if(!upe(e)||cpe(e))return!1;var t=lpe(e)?vpe:hpe;return t.test(dpe(e))}var bpe=xpe;function wpe(e,t){return e==null?void 0:e[t]}var _pe=wpe,jpe=bpe,Spe=_pe;function Npe(e,t){var n=Spe(e,t);return jpe(n)?n:void 0}var Jc=Npe,Cpe=Jc,Ppe=Cpe(Object,"create"),sb=Ppe,GM=sb;function kpe(){this.__data__=GM?GM(null):{},this.size=0}var Epe=kpe;function Ape(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Tpe=Ape,Ope=sb,Mpe="__lodash_hash_undefined__",Rpe=Object.prototype,Ipe=Rpe.hasOwnProperty;function $pe(e){var t=this.__data__;if(Ope){var n=t[e];return n===Mpe?void 0:n}return Ipe.call(t,e)?t[e]:void 0}var Dpe=$pe,Lpe=sb,Fpe=Object.prototype,Bpe=Fpe.hasOwnProperty;function Vpe(e){var t=this.__data__;return Lpe?t[e]!==void 0:Bpe.call(t,e)}var Upe=Vpe,zpe=sb,Wpe="__lodash_hash_undefined__";function Hpe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=zpe&&t===void 0?Wpe:t,this}var qpe=Hpe,Kpe=Epe,Gpe=Tpe,Ype=Dpe,Xpe=Upe,Qpe=qpe;function Lf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Lf.prototype.clear=Kpe;Lf.prototype.delete=Gpe;Lf.prototype.get=Ype;Lf.prototype.has=Xpe;Lf.prototype.set=Qpe;var Zpe=Lf;function Jpe(){this.__data__=[],this.size=0}var ege=Jpe;function tge(e,t){return e===t||e!==e&&t!==t}var eE=tge,nge=eE;function rge(e,t){for(var n=e.length;n--;)if(nge(e[n][0],t))return n;return-1}var ab=rge,sge=ab,age=Array.prototype,ige=age.splice;function oge(e){var t=this.__data__,n=sge(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():ige.call(t,n,1),--this.size,!0}var lge=oge,cge=ab;function uge(e){var t=this.__data__,n=cge(t,e);return n<0?void 0:t[n][1]}var dge=uge,fge=ab;function hge(e){return fge(this.__data__,e)>-1}var mge=hge,pge=ab;function gge(e,t){var n=this.__data__,r=pge(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var yge=gge,vge=ege,xge=lge,bge=dge,wge=mge,_ge=yge;function Ff(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ff.prototype.clear=vge;Ff.prototype.delete=xge;Ff.prototype.get=bge;Ff.prototype.has=wge;Ff.prototype.set=_ge;var ib=Ff,jge=Jc,Sge=ai,Nge=jge(Sge,"Map"),tE=Nge,YM=Zpe,Cge=ib,Pge=tE;function kge(){this.size=0,this.__data__={hash:new YM,map:new(Pge||Cge),string:new YM}}var Ege=kge;function Age(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Tge=Age,Oge=Tge;function Mge(e,t){var n=e.__data__;return Oge(t)?n[typeof t=="string"?"string":"hash"]:n.map}var ob=Mge,Rge=ob;function Ige(e){var t=Rge(this,e).delete(e);return this.size-=t?1:0,t}var $ge=Ige,Dge=ob;function Lge(e){return Dge(this,e).get(e)}var Fge=Lge,Bge=ob;function Vge(e){return Bge(this,e).has(e)}var Uge=Vge,zge=ob;function Wge(e,t){var n=zge(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Hge=Wge,qge=Ege,Kge=$ge,Gge=Fge,Yge=Uge,Xge=Hge;function Bf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Bf.prototype.clear=qge;Bf.prototype.delete=Kge;Bf.prototype.get=Gge;Bf.prototype.has=Yge;Bf.prototype.set=Xge;var nE=Bf,x8=nE,Qge="Expected a function";function rE(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Qge);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],a=n.cache;if(a.has(s))return a.get(s);var o=e.apply(this,r);return n.cache=a.set(s,o)||a,o};return n.cache=new(rE.Cache||x8),n}rE.Cache=x8;var b8=rE;const Zge=Mt(b8);var Jge=b8,eye=500;function tye(e){var t=Jge(e,function(r){return n.size===eye&&n.clear(),r}),n=t.cache;return t}var nye=tye,rye=nye,sye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,aye=/\\(\\)?/g,iye=rye(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(sye,function(n,r,s,a){t.push(s?a.replace(aye,"$1"):r||n)}),t}),oye=iye;function lye(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var sE=lye,XM=pg,cye=sE,uye=ts,dye=$f,fye=1/0,QM=XM?XM.prototype:void 0,ZM=QM?QM.toString:void 0;function w8(e){if(typeof e=="string")return e;if(uye(e))return cye(e,w8)+"";if(dye(e))return ZM?ZM.call(e):"";var t=e+"";return t=="0"&&1/e==-fye?"-0":t}var hye=w8,mye=hye;function pye(e){return e==null?"":mye(e)}var _8=pye,gye=ts,yye=Zk,vye=oye,xye=_8;function bye(e,t){return gye(e)?e:yye(e,t)?[e]:vye(xye(e))}var j8=bye,wye=$f,_ye=1/0;function jye(e){if(typeof e=="string"||wye(e))return e;var t=e+"";return t=="0"&&1/e==-_ye?"-0":t}var lb=jye,Sye=j8,Nye=lb;function Cye(e,t){t=Sye(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Nye(t[n++])];return n&&n==r?e:void 0}var aE=Cye,Pye=aE;function kye(e,t,n){var r=e==null?void 0:Pye(e,t);return r===void 0?n:r}var S8=kye;const Bs=Mt(S8);function Eye(e){return e==null}var Aye=Eye;const nt=Mt(Aye);var Tye=Qi,Oye=ts,Mye=Zi,Rye="[object String]";function Iye(e){return typeof e=="string"||!Oye(e)&&Mye(e)&&Tye(e)==Rye}var $ye=Iye;const Mc=Mt($ye);var N8={exports:{}},kt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE=Symbol.for("react.element"),oE=Symbol.for("react.portal"),cb=Symbol.for("react.fragment"),ub=Symbol.for("react.strict_mode"),db=Symbol.for("react.profiler"),fb=Symbol.for("react.provider"),hb=Symbol.for("react.context"),Dye=Symbol.for("react.server_context"),mb=Symbol.for("react.forward_ref"),pb=Symbol.for("react.suspense"),gb=Symbol.for("react.suspense_list"),yb=Symbol.for("react.memo"),vb=Symbol.for("react.lazy"),Lye=Symbol.for("react.offscreen"),C8;C8=Symbol.for("react.module.reference");function Hs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case iE:switch(e=e.type,e){case cb:case db:case ub:case pb:case gb:return e;default:switch(e=e&&e.$$typeof,e){case Dye:case hb:case mb:case vb:case yb:case fb:return e;default:return t}}case oE:return t}}}kt.ContextConsumer=hb;kt.ContextProvider=fb;kt.Element=iE;kt.ForwardRef=mb;kt.Fragment=cb;kt.Lazy=vb;kt.Memo=yb;kt.Portal=oE;kt.Profiler=db;kt.StrictMode=ub;kt.Suspense=pb;kt.SuspenseList=gb;kt.isAsyncMode=function(){return!1};kt.isConcurrentMode=function(){return!1};kt.isContextConsumer=function(e){return Hs(e)===hb};kt.isContextProvider=function(e){return Hs(e)===fb};kt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===iE};kt.isForwardRef=function(e){return Hs(e)===mb};kt.isFragment=function(e){return Hs(e)===cb};kt.isLazy=function(e){return Hs(e)===vb};kt.isMemo=function(e){return Hs(e)===yb};kt.isPortal=function(e){return Hs(e)===oE};kt.isProfiler=function(e){return Hs(e)===db};kt.isStrictMode=function(e){return Hs(e)===ub};kt.isSuspense=function(e){return Hs(e)===pb};kt.isSuspenseList=function(e){return Hs(e)===gb};kt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===cb||e===db||e===ub||e===pb||e===gb||e===Lye||typeof e=="object"&&e!==null&&(e.$$typeof===vb||e.$$typeof===yb||e.$$typeof===fb||e.$$typeof===hb||e.$$typeof===mb||e.$$typeof===C8||e.getModuleId!==void 0)};kt.typeOf=Hs;N8.exports=kt;var Fye=N8.exports,Bye=Qi,Vye=Zi,Uye="[object Number]";function zye(e){return typeof e=="number"||Vye(e)&&Bye(e)==Uye}var P8=zye;const Wye=Mt(P8);var Hye=P8;function qye(e){return Hye(e)&&e!=+e}var Kye=qye;const gg=Mt(Kye);var wa=function(t){return t===0?0:t>0?1:-1},Jl=function(t){return Mc(t)&&t.indexOf("%")===t.length-1},ye=function(t){return Wye(t)&&!gg(t)},Gye=function(t){return nt(t)},Ln=function(t){return ye(t)||Mc(t)},Yye=0,yg=function(t){var n=++Yye;return"".concat(t||"").concat(n)},Rc=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ye(t)&&!Mc(t))return r;var a;if(Jl(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return gg(a)&&(a=r),s&&a>n&&(a=n),a},jo=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},Xye=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},s=0;s<n;s++)if(!r[t[s]])r[t[s]]=!0;else return!0;return!1},ga=function(t,n){return ye(t)&&ye(n)?function(r){return t+r*(n-t)}:function(){return n}};function Qv(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Bs(r,t))===n})}var Qye=function(t,n){return ye(t)&&ye(n)?t-n:Mc(t)&&Mc(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function od(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function jS(e){"@babel/helpers - typeof";return jS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jS(e)}var Zye=["viewBox","children"],Jye=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],JM=["points","pathLength"],E1={svg:Zye,polygon:JM,polyline:JM},lE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Zv=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(v.isValidElement(t)&&(r=t.props),!Df(r))return null;var s={};return Object.keys(r).forEach(function(a){lE.includes(a)&&(s[a]=n||function(o){return r[a](r,o)})}),s},eve=function(t,n,r){return function(s){return t(n,r,s),null}},Jv=function(t,n,r){if(!Df(t)||jS(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(a){var o=t[a];lE.includes(a)&&typeof o=="function"&&(s||(s={}),s[a]=eve(o,n,r))}),s},tve=["children"],nve=["children"];function eR(e,t){if(e==null)return{};var n=rve(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function SS(e){"@babel/helpers - typeof";return SS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},SS(e)}var tR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Pi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},nR=null,A1=null,cE=function e(t){if(t===nR&&Array.isArray(A1))return A1;var n=[];return v.Children.forEach(t,function(r){nt(r)||(Fye.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),A1=n,nR=t,n};function Vs(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(s){return Pi(s)}):r=[Pi(t)],cE(e).forEach(function(s){var a=Bs(s,"type.displayName")||Bs(s,"type.name");r.indexOf(a)!==-1&&n.push(s)}),n}function os(e,t){var n=Vs(e,t);return n&&n[0]}var rR=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,s=n.height;return!(!ye(r)||r<=0||!ye(s)||s<=0)},sve=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ave=function(t){return t&&t.type&&Mc(t.type)&&sve.indexOf(t.type)>=0},ive=function(t){return t&&SS(t)==="object"&&"clipDot"in t},ove=function(t,n,r,s){var a,o=(a=E1==null?void 0:E1[s])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Je(t)&&(s&&o.includes(n)||Jye.includes(n))||r&&lE.includes(n)},it=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(v.isValidElement(t)&&(s=t.props),!Df(s))return null;var a={};return Object.keys(s).forEach(function(o){var l;ove((l=s)===null||l===void 0?void 0:l[o],o,n,r)&&(a[o]=s[o])}),a},NS=function e(t,n){if(t===n)return!0;var r=v.Children.count(t);if(r!==v.Children.count(n))return!1;if(r===0)return!0;if(r===1)return sR(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var s=0;s<r;s++){var a=t[s],o=n[s];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!sR(a,o))return!1}return!0},sR=function(t,n){if(nt(t)&&nt(n))return!0;if(!nt(t)&&!nt(n)){var r=t.props||{},s=r.children,a=eR(r,tve),o=n.props||{},l=o.children,c=eR(o,nve);return s&&l?od(a,c)&&NS(s,l):!s&&!l?od(a,c):!1}return!1},aR=function(t,n){var r=[],s={};return cE(t).forEach(function(a,o){if(ave(a))r.push(a);else if(a){var l=Pi(a.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(a,l,o);r.push(f),s[l]=!0}}}),r},lve=function(t){var n=t&&t.type;return n&&tR[n]?tR[n]:null},cve=function(t,n){return cE(n).indexOf(t)},uve=["children","width","height","viewBox","className","style","title","desc"];function CS(){return CS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CS.apply(this,arguments)}function dve(e,t){if(e==null)return{};var n=fve(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function fve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function PS(e){var t=e.children,n=e.width,r=e.height,s=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,u=dve(e,uve),d=s||{width:n,height:r,x:0,y:0},f=ot("recharts-surface",a);return M.createElement("svg",CS({},it(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),M.createElement("title",null,l),M.createElement("desc",null,c),t)}var hve=["children","className"];function kS(){return kS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kS.apply(this,arguments)}function mve(e,t){if(e==null)return{};var n=pve(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var gn=M.forwardRef(function(e,t){var n=e.children,r=e.className,s=mve(e,hve),a=ot("recharts-layer",r);return M.createElement("g",kS({className:a},it(s,!0),{ref:t}),n)}),ki=function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a]};function gve(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(s);++r<s;)a[r]=e[r+t];return a}var yve=gve,vve=yve;function xve(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:vve(e,t,n)}var bve=xve,wve="\\ud800-\\udfff",_ve="\\u0300-\\u036f",jve="\\ufe20-\\ufe2f",Sve="\\u20d0-\\u20ff",Nve=_ve+jve+Sve,Cve="\\ufe0e\\ufe0f",Pve="\\u200d",kve=RegExp("["+Pve+wve+Nve+Cve+"]");function Eve(e){return kve.test(e)}var k8=Eve;function Ave(e){return e.split("")}var Tve=Ave,E8="\\ud800-\\udfff",Ove="\\u0300-\\u036f",Mve="\\ufe20-\\ufe2f",Rve="\\u20d0-\\u20ff",Ive=Ove+Mve+Rve,$ve="\\ufe0e\\ufe0f",Dve="["+E8+"]",ES="["+Ive+"]",AS="\\ud83c[\\udffb-\\udfff]",Lve="(?:"+ES+"|"+AS+")",A8="[^"+E8+"]",T8="(?:\\ud83c[\\udde6-\\uddff]){2}",O8="[\\ud800-\\udbff][\\udc00-\\udfff]",Fve="\\u200d",M8=Lve+"?",R8="["+$ve+"]?",Bve="(?:"+Fve+"(?:"+[A8,T8,O8].join("|")+")"+R8+M8+")*",Vve=R8+M8+Bve,Uve="(?:"+[A8+ES+"?",ES,T8,O8,Dve].join("|")+")",zve=RegExp(AS+"(?="+AS+")|"+Uve+Vve,"g");function Wve(e){return e.match(zve)||[]}var Hve=Wve,qve=Tve,Kve=k8,Gve=Hve;function Yve(e){return Kve(e)?Gve(e):qve(e)}var Xve=Yve,Qve=bve,Zve=k8,Jve=Xve,exe=_8;function txe(e){return function(t){t=exe(t);var n=Zve(t)?Jve(t):void 0,r=n?n[0]:t.charAt(0),s=n?Qve(n,1).join(""):t.slice(1);return r[e]()+s}}var nxe=txe,rxe=nxe,sxe=rxe("toUpperCase"),axe=sxe;const xb=Mt(axe);function Lt(e){return function(){return e}}const I8=Math.cos,ex=Math.sin,Aa=Math.sqrt,tx=Math.PI,bb=2*tx,TS=Math.PI,OS=2*TS,Fl=1e-6,ixe=OS-Fl;function $8(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function oxe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $8;const n=10**t;return function(r){this._+=r[0];for(let s=1,a=r.length;s<a;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class lxe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$8:oxe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,s){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,n,r,s,a,o){this._append`C${+t},${+n},${+r},${+s},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,s,a){if(t=+t,n=+n,r=+r,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=r-t,u=s-n,d=o-t,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Fl)if(!(Math.abs(f*c-u*d)>Fl)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,y=s-l,p=c*c+u*u,x=m*m+y*y,w=Math.sqrt(p),g=Math.sqrt(h),b=a*Math.tan((TS-Math.acos((p+h-x)/(2*w*g)))/2),_=b/g,j=b/w;Math.abs(_-1)>Fl&&this._append`L${t+_*d},${n+_*f}`,this._append`A${a},${a},0,0,${+(f*m>d*y)},${this._x1=t+j*c},${this._y1=n+j*u}`}}arc(t,n,r,s,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(s),c=r*Math.sin(s),u=t+l,d=n+c,f=1^o,h=o?s-a:a-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Fl||Math.abs(this._y1-d)>Fl)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%OS+OS),h>ixe?this._append`A${r},${r},0,1,${f},${t-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Fl&&this._append`A${r},${r},0,${+(h>=TS)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function uE(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new lxe(t)}function dE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function D8(e){this._context=e}D8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function wb(e){return new D8(e)}function L8(e){return e[0]}function F8(e){return e[1]}function B8(e,t){var n=Lt(!0),r=null,s=wb,a=null,o=uE(l);e=typeof e=="function"?e:e===void 0?L8:Lt(e),t=typeof t=="function"?t:t===void 0?F8:Lt(t);function l(c){var u,d=(c=dE(c)).length,f,h=!1,m;for(r==null&&(a=s(m=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Lt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Lt(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Lt(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,r!=null&&(a=s(r)),l):s},l.context=function(c){return arguments.length?(c==null?r=a=null:a=s(r=c),l):r},l}function fy(e,t,n){var r=null,s=Lt(!0),a=null,o=wb,l=null,c=uE(u);e=typeof e=="function"?e:e===void 0?L8:Lt(+e),t=typeof t=="function"?t:Lt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?F8:Lt(+n);function u(f){var h,m,y,p=(f=dE(f)).length,x,w=!1,g,b=new Array(p),_=new Array(p);for(a==null&&(l=o(g=c())),h=0;h<=p;++h){if(!(h<p&&s(x=f[h],h,f))===w)if(w=!w)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=m;--y)l.point(b[y],_[y]);l.lineEnd(),l.areaEnd()}w&&(b[h]=+e(x,h,f),_[h]=+t(x,h,f),l.point(r?+r(x,h,f):b[h],n?+n(x,h,f):_[h]))}if(g)return l=null,g+""||null}function d(){return B8().defined(s).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Lt(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Lt(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Lt(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Lt(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Lt(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Lt(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Lt(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),u):a},u}class V8{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function cxe(e){return new V8(e,!0)}function uxe(e){return new V8(e,!1)}const fE={draw(e,t){const n=Aa(t/tx);e.moveTo(n,0),e.arc(0,0,n,0,bb)}},dxe={draw(e,t){const n=Aa(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},U8=Aa(1/3),fxe=U8*2,hxe={draw(e,t){const n=Aa(t/fxe),r=n*U8;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},mxe={draw(e,t){const n=Aa(t),r=-n/2;e.rect(r,r,n,n)}},pxe=.8908130915292852,z8=ex(tx/10)/ex(7*tx/10),gxe=ex(bb/10)*z8,yxe=-I8(bb/10)*z8,vxe={draw(e,t){const n=Aa(t*pxe),r=gxe*n,s=yxe*n;e.moveTo(0,-n),e.lineTo(r,s);for(let a=1;a<5;++a){const o=bb*a/5,l=I8(o),c=ex(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*s,c*r+l*s)}e.closePath()}},T1=Aa(3),xxe={draw(e,t){const n=-Aa(t/(T1*3));e.moveTo(0,n*2),e.lineTo(-T1*n,-n),e.lineTo(T1*n,-n),e.closePath()}},Ns=-.5,Cs=Aa(3)/2,MS=1/Aa(12),bxe=(MS/2+1)*3,wxe={draw(e,t){const n=Aa(t/bxe),r=n/2,s=n*MS,a=r,o=n*MS+n,l=-a,c=o;e.moveTo(r,s),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(Ns*r-Cs*s,Cs*r+Ns*s),e.lineTo(Ns*a-Cs*o,Cs*a+Ns*o),e.lineTo(Ns*l-Cs*c,Cs*l+Ns*c),e.lineTo(Ns*r+Cs*s,Ns*s-Cs*r),e.lineTo(Ns*a+Cs*o,Ns*o-Cs*a),e.lineTo(Ns*l+Cs*c,Ns*c-Cs*l),e.closePath()}};function _xe(e,t){let n=null,r=uE(s);e=typeof e=="function"?e:Lt(e||fE),t=typeof t=="function"?t:Lt(t===void 0?64:+t);function s(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return s.type=function(a){return arguments.length?(e=typeof a=="function"?a:Lt(a),s):e},s.size=function(a){return arguments.length?(t=typeof a=="function"?a:Lt(+a),s):t},s.context=function(a){return arguments.length?(n=a??null,s):n},s}function nx(){}function rx(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function W8(e){this._context=e}W8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jxe(e){return new W8(e)}function H8(e){this._context=e}H8.prototype={areaStart:nx,areaEnd:nx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:rx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Sxe(e){return new H8(e)}function q8(e){this._context=e}q8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:rx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Nxe(e){return new q8(e)}function K8(e){this._context=e}K8.prototype={areaStart:nx,areaEnd:nx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Cxe(e){return new K8(e)}function iR(e){return e<0?-1:1}function oR(e,t,n){var r=e._x1-e._x0,s=t-e._x1,a=(e._y1-e._y0)/(r||s<0&&-0),o=(n-e._y1)/(s||r<0&&-0),l=(a*s+o*r)/(r+s);return(iR(a)+iR(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function lR(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function O1(e,t,n){var r=e._x0,s=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,s+l*t,a-l,o-l*n,a,o)}function sx(e){this._context=e}sx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:O1(this,this._t0,lR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,O1(this,lR(this,n=oR(this,e,t)),n);break;default:O1(this,this._t0,n=oR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function G8(e){this._context=new Y8(e)}(G8.prototype=Object.create(sx.prototype)).point=function(e,t){sx.prototype.point.call(this,t,e)};function Y8(e){this._context=e}Y8.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,s,a){this._context.bezierCurveTo(t,e,r,n,a,s)}};function Pxe(e){return new sx(e)}function kxe(e){return new G8(e)}function X8(e){this._context=e}X8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=cR(e),s=cR(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],s[0][a],r[1][a],s[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function cR(e){var t,n=e.length-1,r,s=new Array(n),a=new Array(n),o=new Array(n);for(s[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(s[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)s[t]=(o[t]-s[t+1])/a[t];for(a[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-s[t+1];return[s,a]}function Exe(e){return new X8(e)}function _b(e,t){this._context=e,this._t=t}_b.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Axe(e){return new _b(e,.5)}function Txe(e){return new _b(e,0)}function Oxe(e){return new _b(e,1)}function Vd(e,t){if((o=e.length)>1)for(var n=1,r,s,a=e[t[0]],o,l=a.length;n<o;++n)for(s=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function RS(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Mxe(e,t){return e[t]}function Rxe(e){const t=[];return t.key=e,t}function Ixe(){var e=Lt([]),t=RS,n=Vd,r=Mxe;function s(a){var o=Array.from(e.apply(this,arguments),Rxe),l,c=o.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(f,o[l].key,u,a)]).data=f;for(l=0,d=dE(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return s.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Lt(Array.from(a)),s):e},s.value=function(a){return arguments.length?(r=typeof a=="function"?a:Lt(+a),s):r},s.order=function(a){return arguments.length?(t=a==null?RS:typeof a=="function"?a:Lt(Array.from(a)),s):t},s.offset=function(a){return arguments.length?(n=a??Vd,s):n},s}function $xe(e,t){if((r=e.length)>0){for(var n,r,s=0,a=e[0].length,o;s<a;++s){for(o=n=0;n<r;++n)o+=e[n][s][1]||0;if(o)for(n=0;n<r;++n)e[n][s][1]/=o}Vd(e,t)}}function Dxe(e,t){if((s=e.length)>0){for(var n=0,r=e[t[0]],s,a=r.length;n<a;++n){for(var o=0,l=0;o<s;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Vd(e,t)}}function Lxe(e,t){if(!(!((o=e.length)>0)||!((a=(s=e[t[0]]).length)>0))){for(var n=0,r=1,s,a,o;r<a;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,y=0;y<l;++y){var p=e[t[y]],x=p[r][1]||0,w=p[r-1][1]||0;m+=x-w}c+=f,u+=m*f}s[r-1][1]+=s[r-1][0]=n,c&&(n-=u/c)}s[r-1][1]+=s[r-1][0]=n,Vd(e,t)}}function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}var Fxe=["type","size","sizeType"];function IS(){return IS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IS.apply(this,arguments)}function uR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function dR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(n),!0).forEach(function(r){Bxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bxe(e,t,n){return t=Vxe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vxe(e){var t=Uxe(e,"string");return ep(t)=="symbol"?t:t+""}function Uxe(e,t){if(ep(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zxe(e,t){if(e==null)return{};var n=Wxe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Wxe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Q8={symbolCircle:fE,symbolCross:dxe,symbolDiamond:hxe,symbolSquare:mxe,symbolStar:vxe,symbolTriangle:xxe,symbolWye:wxe},Hxe=Math.PI/180,qxe=function(t){var n="symbol".concat(xb(t));return Q8[n]||fE},Kxe=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*Hxe;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Gxe=function(t,n){Q8["symbol".concat(xb(t))]=n},hE=function(t){var n=t.type,r=n===void 0?"circle":n,s=t.size,a=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=zxe(t,Fxe),u=dR(dR({},c),{},{type:r,size:a,sizeType:l}),d=function(){var x=qxe(r),w=_xe().type(x).size(Kxe(a,l,r));return w()},f=u.className,h=u.cx,m=u.cy,y=it(u,!0);return h===+h&&m===+m&&a===+a?M.createElement("path",IS({},y,{className:ot("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};hE.registerSymbol=Gxe;function Ud(e){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(e)}function $S(){return $S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$S.apply(this,arguments)}function fR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Yxe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(n),!0).forEach(function(r){tp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qxe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,J8(r.key),r)}}function Zxe(e,t,n){return t&&Qxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jxe(e,t,n){return t=ax(t),e0e(e,Z8()?Reflect.construct(t,n||[],ax(e).constructor):t.apply(e,n))}function e0e(e,t){if(t&&(Ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t0e(e)}function t0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z8=function(){return!!e})()}function ax(e){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ax(e)}function n0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DS(e,t)}function DS(e,t){return DS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},DS(e,t)}function tp(e,t,n){return t=J8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J8(e){var t=r0e(e,"string");return Ud(t)=="symbol"?t:t+""}function r0e(e,t){if(Ud(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ps=32,mE=function(e){function t(){return Xxe(this,t),Jxe(this,t,arguments)}return n0e(t,e),Zxe(t,[{key:"renderIcon",value:function(r){var s=this.props.inactiveColor,a=Ps/2,o=Ps/6,l=Ps/3,c=r.inactive?s:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Ps,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Ps,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ps/8,"h").concat(Ps,"v").concat(Ps*3/4,"h").concat(-Ps,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var u=Yxe({},r);return delete u.legendIcon,M.cloneElement(r.legendIcon,u)}return M.createElement(hE,{fill:c,cx:a,cy:a,size:Ps,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,s=this.props,a=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:Ps,height:Ps},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,y){var p=m.formatter||c,x=ot(tp(tp({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var w=Je(m.value)?null:m.value;ki(!Je(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=m.inactive?u:m.color;return M.createElement("li",$S({className:x,style:f,key:"legend-item-".concat(y)},Jv(r.props,m,y)),M.createElement(PS,{width:o,height:o,viewBox:d,style:h},r.renderIcon(m)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},p?p(w,m,y):w))})}},{key:"render",value:function(){var r=this.props,s=r.payload,a=r.layout,o=r.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);tp(mE,"displayName","Legend");tp(mE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var s0e=ib;function a0e(){this.__data__=new s0e,this.size=0}var i0e=a0e;function o0e(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var l0e=o0e;function c0e(e){return this.__data__.get(e)}var u0e=c0e;function d0e(e){return this.__data__.has(e)}var f0e=d0e,h0e=ib,m0e=tE,p0e=nE,g0e=200;function y0e(e,t){var n=this.__data__;if(n instanceof h0e){var r=n.__data__;if(!m0e||r.length<g0e-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new p0e(r)}return n.set(e,t),this.size=n.size,this}var v0e=y0e,x0e=ib,b0e=i0e,w0e=l0e,_0e=u0e,j0e=f0e,S0e=v0e;function Vf(e){var t=this.__data__=new x0e(e);this.size=t.size}Vf.prototype.clear=b0e;Vf.prototype.delete=w0e;Vf.prototype.get=_0e;Vf.prototype.has=j0e;Vf.prototype.set=S0e;var ez=Vf,N0e="__lodash_hash_undefined__";function C0e(e){return this.__data__.set(e,N0e),this}var P0e=C0e;function k0e(e){return this.__data__.has(e)}var E0e=k0e,A0e=nE,T0e=P0e,O0e=E0e;function ix(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new A0e;++t<n;)this.add(e[t])}ix.prototype.add=ix.prototype.push=T0e;ix.prototype.has=O0e;var tz=ix;function M0e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var nz=M0e;function R0e(e,t){return e.has(t)}var rz=R0e,I0e=tz,$0e=nz,D0e=rz,L0e=1,F0e=2;function B0e(e,t,n,r,s,a){var o=n&L0e,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=n&F0e?new I0e:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var y=e[f],p=t[f];if(r)var x=o?r(p,y,f,t,e,a):r(y,p,f,e,t,a);if(x!==void 0){if(x)continue;h=!1;break}if(m){if(!$0e(t,function(w,g){if(!D0e(m,g)&&(y===w||s(y,w,n,r,a)))return m.push(g)})){h=!1;break}}else if(!(y===p||s(y,p,n,r,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var sz=B0e,V0e=ai,U0e=V0e.Uint8Array,z0e=U0e;function W0e(e){var t=-1,n=Array(e.size);return e.forEach(function(r,s){n[++t]=[s,r]}),n}var H0e=W0e;function q0e(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var pE=q0e,hR=pg,mR=z0e,K0e=eE,G0e=sz,Y0e=H0e,X0e=pE,Q0e=1,Z0e=2,J0e="[object Boolean]",ebe="[object Date]",tbe="[object Error]",nbe="[object Map]",rbe="[object Number]",sbe="[object RegExp]",abe="[object Set]",ibe="[object String]",obe="[object Symbol]",lbe="[object ArrayBuffer]",cbe="[object DataView]",pR=hR?hR.prototype:void 0,M1=pR?pR.valueOf:void 0;function ube(e,t,n,r,s,a,o){switch(n){case cbe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case lbe:return!(e.byteLength!=t.byteLength||!a(new mR(e),new mR(t)));case J0e:case ebe:case rbe:return K0e(+e,+t);case tbe:return e.name==t.name&&e.message==t.message;case sbe:case ibe:return e==t+"";case nbe:var l=Y0e;case abe:var c=r&Q0e;if(l||(l=X0e),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=Z0e,o.set(e,t);var d=G0e(l(e),l(t),r,s,a,o);return o.delete(e),d;case obe:if(M1)return M1.call(e)==M1.call(t)}return!1}var dbe=ube;function fbe(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var az=fbe,hbe=az,mbe=ts;function pbe(e,t,n){var r=t(e);return mbe(e)?r:hbe(r,n(e))}var gbe=pbe;function ybe(e,t){for(var n=-1,r=e==null?0:e.length,s=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[s++]=o)}return a}var vbe=ybe;function xbe(){return[]}var bbe=xbe,wbe=vbe,_be=bbe,jbe=Object.prototype,Sbe=jbe.propertyIsEnumerable,gR=Object.getOwnPropertySymbols,Nbe=gR?function(e){return e==null?[]:(e=Object(e),wbe(gR(e),function(t){return Sbe.call(e,t)}))}:_be,Cbe=Nbe;function Pbe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var kbe=Pbe,Ebe=Qi,Abe=Zi,Tbe="[object Arguments]";function Obe(e){return Abe(e)&&Ebe(e)==Tbe}var Mbe=Obe,yR=Mbe,Rbe=Zi,iz=Object.prototype,Ibe=iz.hasOwnProperty,$be=iz.propertyIsEnumerable,Dbe=yR(function(){return arguments}())?yR:function(e){return Rbe(e)&&Ibe.call(e,"callee")&&!$be.call(e,"callee")},gE=Dbe,ox={exports:{}};function Lbe(){return!1}var Fbe=Lbe;ox.exports;(function(e,t){var n=ai,r=Fbe,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===s,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(ox,ox.exports);var oz=ox.exports,Bbe=9007199254740991,Vbe=/^(?:0|[1-9]\d*)$/;function Ube(e,t){var n=typeof e;return t=t??Bbe,!!t&&(n=="number"||n!="symbol"&&Vbe.test(e))&&e>-1&&e%1==0&&e<t}var yE=Ube,zbe=9007199254740991;function Wbe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=zbe}var vE=Wbe,Hbe=Qi,qbe=vE,Kbe=Zi,Gbe="[object Arguments]",Ybe="[object Array]",Xbe="[object Boolean]",Qbe="[object Date]",Zbe="[object Error]",Jbe="[object Function]",ewe="[object Map]",twe="[object Number]",nwe="[object Object]",rwe="[object RegExp]",swe="[object Set]",awe="[object String]",iwe="[object WeakMap]",owe="[object ArrayBuffer]",lwe="[object DataView]",cwe="[object Float32Array]",uwe="[object Float64Array]",dwe="[object Int8Array]",fwe="[object Int16Array]",hwe="[object Int32Array]",mwe="[object Uint8Array]",pwe="[object Uint8ClampedArray]",gwe="[object Uint16Array]",ywe="[object Uint32Array]",Ut={};Ut[cwe]=Ut[uwe]=Ut[dwe]=Ut[fwe]=Ut[hwe]=Ut[mwe]=Ut[pwe]=Ut[gwe]=Ut[ywe]=!0;Ut[Gbe]=Ut[Ybe]=Ut[owe]=Ut[Xbe]=Ut[lwe]=Ut[Qbe]=Ut[Zbe]=Ut[Jbe]=Ut[ewe]=Ut[twe]=Ut[nwe]=Ut[rwe]=Ut[swe]=Ut[awe]=Ut[iwe]=!1;function vwe(e){return Kbe(e)&&qbe(e.length)&&!!Ut[Hbe(e)]}var xwe=vwe;function bwe(e){return function(t){return e(t)}}var lz=bwe,lx={exports:{}};lx.exports;(function(e,t){var n=g8,r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===r,o=a&&n.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(lx,lx.exports);var wwe=lx.exports,_we=xwe,jwe=lz,vR=wwe,xR=vR&&vR.isTypedArray,Swe=xR?jwe(xR):_we,cz=Swe,Nwe=kbe,Cwe=gE,Pwe=ts,kwe=oz,Ewe=yE,Awe=cz,Twe=Object.prototype,Owe=Twe.hasOwnProperty;function Mwe(e,t){var n=Pwe(e),r=!n&&Cwe(e),s=!n&&!r&&kwe(e),a=!n&&!r&&!s&&Awe(e),o=n||r||s||a,l=o?Nwe(e.length,String):[],c=l.length;for(var u in e)(t||Owe.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Ewe(u,c)))&&l.push(u);return l}var Rwe=Mwe,Iwe=Object.prototype;function $we(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Iwe;return e===n}var Dwe=$we;function Lwe(e,t){return function(n){return e(t(n))}}var uz=Lwe,Fwe=uz,Bwe=Fwe(Object.keys,Object),Vwe=Bwe,Uwe=Dwe,zwe=Vwe,Wwe=Object.prototype,Hwe=Wwe.hasOwnProperty;function qwe(e){if(!Uwe(e))return zwe(e);var t=[];for(var n in Object(e))Hwe.call(e,n)&&n!="constructor"&&t.push(n);return t}var Kwe=qwe,Gwe=Jk,Ywe=vE;function Xwe(e){return e!=null&&Ywe(e.length)&&!Gwe(e)}var vg=Xwe,Qwe=Rwe,Zwe=Kwe,Jwe=vg;function e1e(e){return Jwe(e)?Qwe(e):Zwe(e)}var jb=e1e,t1e=gbe,n1e=Cbe,r1e=jb;function s1e(e){return t1e(e,r1e,n1e)}var a1e=s1e,bR=a1e,i1e=1,o1e=Object.prototype,l1e=o1e.hasOwnProperty;function c1e(e,t,n,r,s,a){var o=n&i1e,l=bR(e),c=l.length,u=bR(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:l1e.call(t,h)))return!1}var m=a.get(e),y=a.get(t);if(m&&y)return m==t&&y==e;var p=!0;a.set(e,t),a.set(t,e);for(var x=o;++f<c;){h=l[f];var w=e[h],g=t[h];if(r)var b=o?r(g,w,h,t,e,a):r(w,g,h,e,t,a);if(!(b===void 0?w===g||s(w,g,n,r,a):b)){p=!1;break}x||(x=h=="constructor")}if(p&&!x){var _=e.constructor,j=t.constructor;_!=j&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof j=="function"&&j instanceof j)&&(p=!1)}return a.delete(e),a.delete(t),p}var u1e=c1e,d1e=Jc,f1e=ai,h1e=d1e(f1e,"DataView"),m1e=h1e,p1e=Jc,g1e=ai,y1e=p1e(g1e,"Promise"),v1e=y1e,x1e=Jc,b1e=ai,w1e=x1e(b1e,"Set"),dz=w1e,_1e=Jc,j1e=ai,S1e=_1e(j1e,"WeakMap"),N1e=S1e,LS=m1e,FS=tE,BS=v1e,VS=dz,US=N1e,fz=Qi,Uf=v8,wR="[object Map]",C1e="[object Object]",_R="[object Promise]",jR="[object Set]",SR="[object WeakMap]",NR="[object DataView]",P1e=Uf(LS),k1e=Uf(FS),E1e=Uf(BS),A1e=Uf(VS),T1e=Uf(US),Bl=fz;(LS&&Bl(new LS(new ArrayBuffer(1)))!=NR||FS&&Bl(new FS)!=wR||BS&&Bl(BS.resolve())!=_R||VS&&Bl(new VS)!=jR||US&&Bl(new US)!=SR)&&(Bl=function(e){var t=fz(e),n=t==C1e?e.constructor:void 0,r=n?Uf(n):"";if(r)switch(r){case P1e:return NR;case k1e:return wR;case E1e:return _R;case A1e:return jR;case T1e:return SR}return t});var O1e=Bl,R1=ez,M1e=sz,R1e=dbe,I1e=u1e,CR=O1e,PR=ts,kR=oz,$1e=cz,D1e=1,ER="[object Arguments]",AR="[object Array]",hy="[object Object]",L1e=Object.prototype,TR=L1e.hasOwnProperty;function F1e(e,t,n,r,s,a){var o=PR(e),l=PR(t),c=o?AR:CR(e),u=l?AR:CR(t);c=c==ER?hy:c,u=u==ER?hy:u;var d=c==hy,f=u==hy,h=c==u;if(h&&kR(e)){if(!kR(t))return!1;o=!0,d=!1}if(h&&!d)return a||(a=new R1),o||$1e(e)?M1e(e,t,n,r,s,a):R1e(e,t,c,n,r,s,a);if(!(n&D1e)){var m=d&&TR.call(e,"__wrapped__"),y=f&&TR.call(t,"__wrapped__");if(m||y){var p=m?e.value():e,x=y?t.value():t;return a||(a=new R1),s(p,x,n,r,a)}}return h?(a||(a=new R1),I1e(e,t,n,r,s,a)):!1}var B1e=F1e,V1e=B1e,OR=Zi;function hz(e,t,n,r,s){return e===t?!0:e==null||t==null||!OR(e)&&!OR(t)?e!==e&&t!==t:V1e(e,t,n,r,hz,s)}var xE=hz,U1e=ez,z1e=xE,W1e=1,H1e=2;function q1e(e,t,n,r){var s=n.length,a=s,o=!r;if(e==null)return!a;for(e=Object(e);s--;){var l=n[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){l=n[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new U1e;if(r)var h=r(u,d,c,e,t,f);if(!(h===void 0?z1e(d,u,W1e|H1e,r,f):h))return!1}}return!0}var K1e=q1e,G1e=_l;function Y1e(e){return e===e&&!G1e(e)}var mz=Y1e,X1e=mz,Q1e=jb;function Z1e(e){for(var t=Q1e(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,X1e(s)]}return t}var J1e=Z1e;function e_e(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var pz=e_e,t_e=K1e,n_e=J1e,r_e=pz;function s_e(e){var t=n_e(e);return t.length==1&&t[0][2]?r_e(t[0][0],t[0][1]):function(n){return n===e||t_e(n,e,t)}}var a_e=s_e;function i_e(e,t){return e!=null&&t in Object(e)}var o_e=i_e,l_e=j8,c_e=gE,u_e=ts,d_e=yE,f_e=vE,h_e=lb;function m_e(e,t,n){t=l_e(t,e);for(var r=-1,s=t.length,a=!1;++r<s;){var o=h_e(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=s?a:(s=e==null?0:e.length,!!s&&f_e(s)&&d_e(o,s)&&(u_e(e)||c_e(e)))}var p_e=m_e,g_e=o_e,y_e=p_e;function v_e(e,t){return e!=null&&y_e(e,t,g_e)}var x_e=v_e,b_e=xE,w_e=S8,__e=x_e,j_e=Zk,S_e=mz,N_e=pz,C_e=lb,P_e=1,k_e=2;function E_e(e,t){return j_e(e)&&S_e(t)?N_e(C_e(e),t):function(n){var r=w_e(n,e);return r===void 0&&r===t?__e(n,e):b_e(t,r,P_e|k_e)}}var A_e=E_e;function T_e(e){return e}var zf=T_e;function O_e(e){return function(t){return t==null?void 0:t[e]}}var M_e=O_e,R_e=aE;function I_e(e){return function(t){return R_e(t,e)}}var $_e=I_e,D_e=M_e,L_e=$_e,F_e=Zk,B_e=lb;function V_e(e){return F_e(e)?D_e(B_e(e)):L_e(e)}var U_e=V_e,z_e=a_e,W_e=A_e,H_e=zf,q_e=ts,K_e=U_e;function G_e(e){return typeof e=="function"?e:e==null?H_e:typeof e=="object"?q_e(e)?W_e(e[0],e[1]):z_e(e):K_e(e)}var jl=G_e;function Y_e(e,t,n,r){for(var s=e.length,a=n+(r?1:-1);r?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var gz=Y_e;function X_e(e){return e!==e}var Q_e=X_e;function Z_e(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}var J_e=Z_e,eje=gz,tje=Q_e,nje=J_e;function rje(e,t,n){return t===t?nje(e,t,n):eje(e,tje,n)}var sje=rje,aje=sje;function ije(e,t){var n=e==null?0:e.length;return!!n&&aje(e,t,0)>-1}var oje=ije;function lje(e,t,n){for(var r=-1,s=e==null?0:e.length;++r<s;)if(n(t,e[r]))return!0;return!1}var cje=lje;function uje(){}var dje=uje,I1=dz,fje=dje,hje=pE,mje=1/0,pje=I1&&1/hje(new I1([,-0]))[1]==mje?function(e){return new I1(e)}:fje,gje=pje,yje=tz,vje=oje,xje=cje,bje=rz,wje=gje,_je=pE,jje=200;function Sje(e,t,n){var r=-1,s=vje,a=e.length,o=!0,l=[],c=l;if(n)o=!1,s=xje;else if(a>=jje){var u=t?null:wje(e);if(u)return _je(u);o=!1,s=bje,c=new yje}else c=t?[]:l;e:for(;++r<a;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var Nje=Sje,Cje=jl,Pje=Nje;function kje(e,t){return e&&e.length?Pje(e,Cje(t)):[]}var Eje=kje;const MR=Mt(Eje);function yz(e,t,n){return t===!0?MR(e,n):Je(t)?MR(e,t):e}function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}var Aje=["ref"];function RR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(n),!0).forEach(function(r){Sb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xz(r.key),r)}}function Oje(e,t,n){return t&&IR(e.prototype,t),n&&IR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mje(e,t,n){return t=cx(t),Rje(e,vz()?Reflect.construct(t,n||[],cx(e).constructor):t.apply(e,n))}function Rje(e,t){if(t&&(zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ije(e)}function Ije(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vz=function(){return!!e})()}function cx(e){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cx(e)}function $je(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zS(e,t)}function zS(e,t){return zS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},zS(e,t)}function Sb(e,t,n){return t=xz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xz(e){var t=Dje(e,"string");return zd(t)=="symbol"?t:t+""}function Dje(e,t){if(zd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lje(e,t){if(e==null)return{};var n=Fje(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Fje(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Bje(e){return e.value}function Vje(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var n=Lje(t,Aje);return M.createElement(mE,n)}var $R=1,ld=function(e){function t(){var n;Tje(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=Mje(this,t,[].concat(s)),Sb(n,"lastBoundingBox",{width:-1,height:-1}),n}return $je(t,e),Oje(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>$R||Math.abs(s.height-this.lastBoundingBox.height)>$R)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,r&&r(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ci({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var s=this.props,a=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ci(ci({},f),h)}},{key:"render",value:function(){var r=this,s=this.props,a=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=ci(ci({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},Vje(a,ci(ci({},this.props),{},{payload:yz(d,u,Bje)})))}}],[{key:"getWithHeight",value:function(r,s){var a=ci(ci({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&ye(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||s}:null}}])}(v.PureComponent);Sb(ld,"displayName","Legend");Sb(ld,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var DR=pg,Uje=gE,zje=ts,LR=DR?DR.isConcatSpreadable:void 0;function Wje(e){return zje(e)||Uje(e)||!!(LR&&e&&e[LR])}var Hje=Wje,qje=az,Kje=Hje;function bz(e,t,n,r,s){var a=-1,o=e.length;for(n||(n=Kje),s||(s=[]);++a<o;){var l=e[a];t>0&&n(l)?t>1?bz(l,t-1,n,r,s):qje(s,l):r||(s[s.length]=l)}return s}var wz=bz;function Gje(e){return function(t,n,r){for(var s=-1,a=Object(t),o=r(t),l=o.length;l--;){var c=o[e?l:++s];if(n(a[c],c,a)===!1)break}return t}}var Yje=Gje,Xje=Yje,Qje=Xje(),Zje=Qje,Jje=Zje,eSe=jb;function tSe(e,t){return e&&Jje(e,t,eSe)}var _z=tSe,nSe=vg;function rSe(e,t){return function(n,r){if(n==null)return n;if(!nSe(n))return e(n,r);for(var s=n.length,a=t?s:-1,o=Object(n);(t?a--:++a<s)&&r(o[a],a,o)!==!1;);return n}}var sSe=rSe,aSe=_z,iSe=sSe,oSe=iSe(aSe),bE=oSe,lSe=bE,cSe=vg;function uSe(e,t){var n=-1,r=cSe(e)?Array(e.length):[];return lSe(e,function(s,a,o){r[++n]=t(s,a,o)}),r}var jz=uSe;function dSe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var fSe=dSe,FR=$f;function hSe(e,t){if(e!==t){var n=e!==void 0,r=e===null,s=e===e,a=FR(e),o=t!==void 0,l=t===null,c=t===t,u=FR(t);if(!l&&!u&&!a&&e>t||a&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!s)return 1;if(!r&&!a&&!u&&e<t||u&&n&&s&&!r&&!a||l&&n&&s||!o&&s||!c)return-1}return 0}var mSe=hSe,pSe=mSe;function gSe(e,t,n){for(var r=-1,s=e.criteria,a=t.criteria,o=s.length,l=n.length;++r<o;){var c=pSe(s[r],a[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var ySe=gSe,$1=sE,vSe=aE,xSe=jl,bSe=jz,wSe=fSe,_Se=lz,jSe=ySe,SSe=zf,NSe=ts;function CSe(e,t,n){t.length?t=$1(t,function(a){return NSe(a)?function(o){return vSe(o,a.length===1?a[0]:a)}:a}):t=[SSe];var r=-1;t=$1(t,_Se(xSe));var s=bSe(e,function(a,o,l){var c=$1(t,function(u){return u(a)});return{criteria:c,index:++r,value:a}});return wSe(s,function(a,o){return jSe(a,o,n)})}var PSe=CSe;function kSe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var ESe=kSe,ASe=ESe,BR=Math.max;function TSe(e,t,n){return t=BR(t===void 0?e.length-1:t,0),function(){for(var r=arguments,s=-1,a=BR(r.length-t,0),o=Array(a);++s<a;)o[s]=r[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=r[s];return l[t]=n(o),ASe(e,this,l)}}var OSe=TSe;function MSe(e){return function(){return e}}var RSe=MSe,ISe=Jc,$Se=function(){try{var e=ISe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Sz=$Se,DSe=RSe,VR=Sz,LSe=zf,FSe=VR?function(e,t){return VR(e,"toString",{configurable:!0,enumerable:!1,value:DSe(t),writable:!0})}:LSe,BSe=FSe,VSe=800,USe=16,zSe=Date.now;function WSe(e){var t=0,n=0;return function(){var r=zSe(),s=USe-(r-n);if(n=r,s>0){if(++t>=VSe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var HSe=WSe,qSe=BSe,KSe=HSe,GSe=KSe(qSe),YSe=GSe,XSe=zf,QSe=OSe,ZSe=YSe;function JSe(e,t){return ZSe(QSe(e,t,XSe),e+"")}var eNe=JSe,tNe=eE,nNe=vg,rNe=yE,sNe=_l;function aNe(e,t,n){if(!sNe(n))return!1;var r=typeof t;return(r=="number"?nNe(n)&&rNe(t,n.length):r=="string"&&t in n)?tNe(n[t],e):!1}var Nb=aNe,iNe=wz,oNe=PSe,lNe=eNe,UR=Nb,cNe=lNe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&UR(e,t[0],t[1])?t=[]:n>2&&UR(t[0],t[1],t[2])&&(t=[t[0]]),oNe(e,iNe(t,1),[])}),uNe=cNe;const wE=Mt(uNe);function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function WS(){return WS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WS.apply(this,arguments)}function dNe(e,t){return pNe(e)||mNe(e,t)||hNe(e,t)||fNe()}function fNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hNe(e,t){if(e){if(typeof e=="string")return zR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zR(e,t)}}function zR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mNe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function pNe(e){if(Array.isArray(e))return e}function WR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function D1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WR(Object(n),!0).forEach(function(r){gNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gNe(e,t,n){return t=yNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yNe(e){var t=vNe(e,"string");return np(t)=="symbol"?t:t+""}function vNe(e,t){if(np(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xNe(e){return Array.isArray(e)&&Ln(e[0])&&Ln(e[1])?e.join(" ~ "):e}var bNe=function(t){var n=t.separator,r=n===void 0?" : ":n,s=t.contentStyle,a=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,y=t.labelClassName,p=t.label,x=t.labelFormatter,w=t.accessibilityLayer,g=w===void 0?!1:w,b=function(){if(d&&d.length){var E={padding:0,margin:0},I=(h?wE(d,h):d).map(function(D,V){if(D.type==="none")return null;var B=D1({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},l),F=D.formatter||f||xNe,R=D.value,T=D.name,O=R,W=T;if(F&&O!=null&&W!=null){var $=F(R,T,D,V,d);if(Array.isArray($)){var Y=dNe($,2);O=Y[0],W=Y[1]}else O=$}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:B},Ln(W)?M.createElement("span",{className:"recharts-tooltip-item-name"},W):null,Ln(W)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},O),M.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:E},I)}return null},_=D1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),j=D1({margin:0},u),S=!nt(p),N=S?p:"",C=ot("recharts-default-tooltip",m),P=ot("recharts-tooltip-label",y);S&&x&&d!==void 0&&d!==null&&(N=x(p,d));var k=g?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",WS({className:C,style:_},k),M.createElement("p",{className:P,style:j},M.isValidElement(N)?N:"".concat(N)),b())};function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function my(e,t,n){return t=wNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wNe(e){var t=_Ne(e,"string");return rp(t)=="symbol"?t:t+""}function _Ne(e,t){if(rp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vh="recharts-tooltip-wrapper",jNe={visibility:"hidden"};function SNe(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return ot(vh,my(my(my(my({},"".concat(vh,"-right"),ye(n)&&t&&ye(t.x)&&n>=t.x),"".concat(vh,"-left"),ye(n)&&t&&ye(t.x)&&n<t.x),"".concat(vh,"-bottom"),ye(r)&&t&&ye(t.y)&&r>=t.y),"".concat(vh,"-top"),ye(r)&&t&&ye(t.y)&&r<t.y))}function HR(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,s=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&ye(a[r]))return a[r];var d=n[r]-l-s,f=n[r]+s;if(t[r])return o[r]?d:f;if(o[r]){var h=d,m=c[r];return h<m?Math.max(f,c[r]):Math.max(d,c[r])}var y=f+l,p=c[r]+u;return y>p?Math.max(d,c[r]):Math.max(f,c[r])}function NNe(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function CNe(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,s=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=HR({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=HR({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=NNe({translateX:d,translateY:f,useTranslate3d:l})):u=jNe,{cssProperties:u,cssClasses:SNe({translateX:d,translateY:f,coordinate:n})}}function Wd(e){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(e)}function qR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function KR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(n),!0).forEach(function(r){qS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kNe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cz(r.key),r)}}function ENe(e,t,n){return t&&kNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ANe(e,t,n){return t=ux(t),TNe(e,Nz()?Reflect.construct(t,n||[],ux(e).constructor):t.apply(e,n))}function TNe(e,t){if(t&&(Wd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ONe(e)}function ONe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nz=function(){return!!e})()}function ux(e){return ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ux(e)}function MNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HS(e,t)}function HS(e,t){return HS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},HS(e,t)}function qS(e,t,n){return t=Cz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cz(e){var t=RNe(e,"string");return Wd(t)=="symbol"?t:t+""}function RNe(e,t){if(Wd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GR=1,INe=function(e){function t(){var n;PNe(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=ANe(this,t,[].concat(s)),qS(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),qS(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return MNe(t,e),ENe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>GR||Math.abs(r.height-this.state.lastBoundingBox.height)>GR)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,m=s.offset,y=s.position,p=s.reverseDirection,x=s.useTranslate3d,w=s.viewBox,g=s.wrapperStyle,b=CNe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:y,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:w}),_=b.cssClasses,j=b.cssProperties,S=KR(KR({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return M.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(C){r.wrapperNode=C}},u)}}])}(v.PureComponent),$Ne=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ei={isSsr:$Ne(),get:function(t){return Ei[t]},set:function(t,n){if(typeof t=="string")Ei[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(s){Ei[s]=t[s]})}}};function Hd(e){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hd(e)}function YR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function XR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(n),!0).forEach(function(r){_E(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LNe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kz(r.key),r)}}function FNe(e,t,n){return t&&LNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BNe(e,t,n){return t=dx(t),VNe(e,Pz()?Reflect.construct(t,n||[],dx(e).constructor):t.apply(e,n))}function VNe(e,t){if(t&&(Hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UNe(e)}function UNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pz=function(){return!!e})()}function dx(e){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dx(e)}function zNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KS(e,t)}function KS(e,t){return KS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},KS(e,t)}function _E(e,t,n){return t=kz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kz(e){var t=WNe(e,"string");return Hd(t)=="symbol"?t:t+""}function WNe(e,t){if(Hd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HNe(e){return e.dataKey}function qNe(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(bNe,t)}var Ra=function(e){function t(){return DNe(this,t),BNe(this,t,arguments)}return zNe(t,e),FNe(t,[{key:"render",value:function(){var r=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,m=s.offset,y=s.payload,p=s.payloadUniqBy,x=s.position,w=s.reverseDirection,g=s.useTranslate3d,b=s.viewBox,_=s.wrapperStyle,j=y??[];f&&j.length&&(j=yz(y.filter(function(N){return N.value!=null&&(N.hide!==!0||r.props.includeHidden)}),p,HNe));var S=j.length>0;return M.createElement(INe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:S,offset:m,position:x,reverseDirection:w,useTranslate3d:g,viewBox:b,wrapperStyle:_},qNe(u,XR(XR({},this.props),{},{payload:j})))}}])}(v.PureComponent);_E(Ra,"displayName","Tooltip");_E(Ra,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ei.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var KNe=ai,GNe=function(){return KNe.Date.now()},YNe=GNe,XNe=/\s/;function QNe(e){for(var t=e.length;t--&&XNe.test(e.charAt(t)););return t}var ZNe=QNe,JNe=ZNe,eCe=/^\s+/;function tCe(e){return e&&e.slice(0,JNe(e)+1).replace(eCe,"")}var nCe=tCe,rCe=nCe,QR=_l,sCe=$f,ZR=NaN,aCe=/^[-+]0x[0-9a-f]+$/i,iCe=/^0b[01]+$/i,oCe=/^0o[0-7]+$/i,lCe=parseInt;function cCe(e){if(typeof e=="number")return e;if(sCe(e))return ZR;if(QR(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=QR(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=rCe(e);var n=iCe.test(e);return n||oCe.test(e)?lCe(e.slice(2),n?2:8):aCe.test(e)?ZR:+e}var Ez=cCe,uCe=_l,L1=YNe,JR=Ez,dCe="Expected a function",fCe=Math.max,hCe=Math.min;function mCe(e,t,n){var r,s,a,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(dCe);t=JR(t)||0,uCe(n)&&(d=!!n.leading,f="maxWait"in n,a=f?fCe(JR(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h);function m(S){var N=r,C=s;return r=s=void 0,u=S,o=e.apply(C,N),o}function y(S){return u=S,l=setTimeout(w,t),d?m(S):o}function p(S){var N=S-c,C=S-u,P=t-N;return f?hCe(P,a-C):P}function x(S){var N=S-c,C=S-u;return c===void 0||N>=t||N<0||f&&C>=a}function w(){var S=L1();if(x(S))return g(S);l=setTimeout(w,p(S))}function g(S){return l=void 0,h&&r?m(S):(r=s=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,r=c=s=l=void 0}function _(){return l===void 0?o:g(L1())}function j(){var S=L1(),N=x(S);if(r=arguments,s=this,c=S,N){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(w,t),m(c)}return l===void 0&&(l=setTimeout(w,t)),o}return j.cancel=b,j.flush=_,j}var pCe=mCe,gCe=pCe,yCe=_l,vCe="Expected a function";function xCe(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(vCe);return yCe(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),gCe(e,t,{leading:r,maxWait:t,trailing:s})}var bCe=xCe;const Az=Mt(bCe);function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function eI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function py(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(n),!0).forEach(function(r){wCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wCe(e,t,n){return t=_Ce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Ce(e){var t=jCe(e,"string");return sp(t)=="symbol"?t:t+""}function jCe(e,t){if(sp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SCe(e,t){return kCe(e)||PCe(e,t)||CCe(e,t)||NCe()}function NCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CCe(e,t){if(e){if(typeof e=="string")return tI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tI(e,t)}}function tI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PCe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function kCe(e){if(Array.isArray(e))return e}var ECe=v.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,s=r===void 0?{width:-1,height:-1}:r,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,y=e.debounce,p=y===void 0?0:y,x=e.id,w=e.className,g=e.onResize,b=e.style,_=b===void 0?{}:b,j=v.useRef(null),S=v.useRef();S.current=g,v.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var N=v.useState({containerWidth:s.width,containerHeight:s.height}),C=SCe(N,2),P=C[0],k=C[1],A=v.useCallback(function(I,D){k(function(V){var B=Math.round(I),F=Math.round(D);return V.containerWidth===B&&V.containerHeight===F?V:{containerWidth:B,containerHeight:F}})},[]);v.useEffect(function(){var I=function(T){var O,W=T[0].contentRect,$=W.width,Y=W.height;A($,Y),(O=S.current)===null||O===void 0||O.call(S,$,Y)};p>0&&(I=Az(I,p,{trailing:!0,leading:!1}));var D=new ResizeObserver(I),V=j.current.getBoundingClientRect(),B=V.width,F=V.height;return A(B,F),D.observe(j.current),function(){D.disconnect()}},[A,p]);var E=v.useMemo(function(){var I=P.containerWidth,D=P.containerHeight;if(I<0||D<0)return null;ki(Jl(o)||Jl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ki(!n||n>0,"The aspect(%s) must be greater than zero.",n);var V=Jl(o)?I:o,B=Jl(c)?D:c;n&&n>0&&(V?B=V/n:B&&(V=B*n),h&&B>h&&(B=h)),ki(V>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,B,o,c,d,f,n);var F=!Array.isArray(m)&&Pi(m.type).endsWith("Chart");return M.Children.map(m,function(R){return M.isValidElement(R)?v.cloneElement(R,py({width:V,height:B},F?{style:py({height:"100%",width:"100%",maxHeight:B,maxWidth:V},R.props.style)}:{})):R})},[n,m,c,h,f,d,P,o]);return M.createElement("div",{id:x?"".concat(x):void 0,className:ot("recharts-responsive-container",w),style:py(py({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},E)}),Tz=function(t){return null};Tz.displayName="Cell";function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function nI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function GS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nI(Object(n),!0).forEach(function(r){ACe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ACe(e,t,n){return t=TCe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TCe(e){var t=OCe(e,"string");return ap(t)=="symbol"?t:t+""}function OCe(e,t){if(ap(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gu={widthCache:{},cacheCount:0},MCe=2e3,RCe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rI="recharts_measurement_span";function ICe(e){var t=GS({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var im=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ei.isSsr)return{width:0,height:0};var r=ICe(n),s=JSON.stringify({text:t,copyStyle:r});if(gu.widthCache[s])return gu.widthCache[s];try{var a=document.getElementById(rI);a||(a=document.createElement("span"),a.setAttribute("id",rI),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=GS(GS({},RCe),r);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return gu.widthCache[s]=c,++gu.cacheCount>MCe&&(gu.cacheCount=0,gu.widthCache={}),c}catch{return{width:0,height:0}}},$Ce=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function fx(e,t){return BCe(e)||FCe(e,t)||LCe(e,t)||DCe()}function DCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LCe(e,t){if(e){if(typeof e=="string")return sI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sI(e,t)}}function sI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FCe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function BCe(e){if(Array.isArray(e))return e}function VCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zCe(r.key),r)}}function UCe(e,t,n){return t&&aI(e.prototype,t),n&&aI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zCe(e){var t=WCe(e,"string");return ip(t)=="symbol"?t:t+""}function WCe(e,t){if(ip(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var iI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qCe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Oz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},KCe=Object.keys(Oz),Ku="NaN";function GCe(e,t){return e*Oz[t]}var gy=function(){function e(t,n){VCe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!HCe.test(n)&&(this.num=NaN,this.unit=""),KCe.includes(n)&&(this.num=GCe(t,n),this.unit="px")}return UCe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,s=(r=qCe.exec(n))!==null&&r!==void 0?r:[],a=fx(s,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function Mz(e){if(e.includes(Ku))return Ku;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=iI.exec(t))!==null&&n!==void 0?n:[],s=fx(r,4),a=s[1],o=s[2],l=s[3],c=gy.parse(a??""),u=gy.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Ku;t=t.replace(iI,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=oI.exec(t))!==null&&f!==void 0?f:[],m=fx(h,4),y=m[1],p=m[2],x=m[3],w=gy.parse(y??""),g=gy.parse(x??""),b=p==="+"?w.add(g):w.subtract(g);if(b.isNaN())return Ku;t=t.replace(oI,b.toString())}return t}var lI=/\(([^()]*)\)/;function YCe(e){for(var t=e;t.includes("(");){var n=lI.exec(t),r=fx(n,2),s=r[1];t=t.replace(lI,Mz(s))}return t}function XCe(e){var t=e.replace(/\s+/g,"");return t=YCe(t),t=Mz(t),t}function QCe(e){try{return XCe(e)}catch{return Ku}}function F1(e){var t=QCe(e.slice(5,-1));return t===Ku?"":t}var ZCe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],JCe=["dx","dy","angle","className","breakAll"];function YS(){return YS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YS.apply(this,arguments)}function cI(e,t){if(e==null)return{};var n=ePe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ePe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function uI(e,t){return sPe(e)||rPe(e,t)||nPe(e,t)||tPe()}function tPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nPe(e,t){if(e){if(typeof e=="string")return dI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dI(e,t)}}function dI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function sPe(e){if(Array.isArray(e))return e}var Rz=/[ \f\n\r\t\v\u2028\u2029]+/,Iz=function(t){var n=t.children,r=t.breakAll,s=t.style;try{var a=[];nt(n)||(r?a=n.toString().split(""):a=n.toString().split(Rz));var o=a.map(function(c){return{word:c,width:im(c,s).width}}),l=r?0:im("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},aPe=function(t,n,r,s,a){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=ye(o),f=l,h=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(B,F){var R=F.word,T=F.width,O=B[B.length-1];if(O&&(s==null||a||O.width+T+r<Number(s)))O.words.push(R),O.width+=T+r;else{var W={words:[R],width:T};B.push(W)}return B},[])},m=h(n),y=function(V){return V.reduce(function(B,F){return B.width>F.width?B:F})};if(!d)return m;for(var p="",x=function(V){var B=f.slice(0,V),F=Iz({breakAll:u,style:c,children:B+p}).wordsWithComputedWidth,R=h(F),T=R.length>o||y(R).width>Number(s);return[T,R]},w=0,g=f.length-1,b=0,_;w<=g&&b<=f.length-1;){var j=Math.floor((w+g)/2),S=j-1,N=x(S),C=uI(N,2),P=C[0],k=C[1],A=x(j),E=uI(A,1),I=E[0];if(!P&&!I&&(w=j+1),P&&I&&(g=j-1),!P&&I){_=k;break}b++}return _||m},fI=function(t){var n=nt(t)?[]:t.toString().split(Rz);return[{words:n}]},iPe=function(t){var n=t.width,r=t.scaleToFit,s=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!Ei.isSsr){var c,u,d=Iz({breakAll:o,children:s,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return fI(s);return aPe({breakAll:o,children:s,maxLines:l,style:a},c,u,n,r)}return fI(s)},hI="#808080",hx=function(t){var n=t.x,r=n===void 0?0:n,s=t.y,a=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,y=t.verticalAnchor,p=y===void 0?"end":y,x=t.fill,w=x===void 0?hI:x,g=cI(t,ZCe),b=v.useMemo(function(){return iPe({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),_=g.dx,j=g.dy,S=g.angle,N=g.className,C=g.breakAll,P=cI(g,JCe);if(!Ln(r)||!Ln(a))return null;var k=r+(ye(_)?_:0),A=a+(ye(j)?j:0),E;switch(p){case"start":E=F1("calc(".concat(u,")"));break;case"middle":E=F1("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:E=F1("calc(".concat(b.length-1," * -").concat(l,")"));break}var I=[];if(f){var D=b[0].width,V=g.width;I.push("scale(".concat((ye(V)?V/D:1)/D,")"))}return S&&I.push("rotate(".concat(S,", ").concat(k,", ").concat(A,")")),I.length&&(P.transform=I.join(" ")),M.createElement("text",YS({},it(P,!0),{x:k,y:A,className:ot("recharts-text",N),textAnchor:m,fill:w.includes("url")?hI:w}),b.map(function(B,F){var R=B.words.join(C?"":" ");return M.createElement("tspan",{x:k,dy:F===0?E:l,key:"".concat(R,"-").concat(F)},R)}))};function Xo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oPe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jE(e){let t,n,r;e.length!==2?(t=Xo,n=(l,c)=>Xo(e(l),c),r=(l,c)=>e(l)-c):(t=e===Xo||e===oPe?e:lPe,n=e,r=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:s,center:o,right:a}}function lPe(){return 0}function $z(e){return e===null?NaN:+e}function*cPe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const uPe=jE(Xo),xg=uPe.right;jE($z).center;class mI extends Map{constructor(t,n=hPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(pI(this,t))}has(t){return super.has(pI(this,t))}set(t,n){return super.set(dPe(this,t),n)}delete(t){return super.delete(fPe(this,t))}}function pI({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function dPe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function fPe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function hPe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function mPe(e=Xo){if(e===Xo)return Dz;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Dz(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const pPe=Math.sqrt(50),gPe=Math.sqrt(10),yPe=Math.sqrt(2);function mx(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),a=r/Math.pow(10,s),o=a>=pPe?10:a>=gPe?5:a>=yPe?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?mx(e,t,n*2):[l,c,u]}function XS(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,a,o]=r?mx(t,e,n):mx(e,t,n);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function QS(e,t,n){return t=+t,e=+e,n=+n,mx(e,t,n)[2]}function ZS(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?QS(t,e,n):QS(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function gI(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function yI(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Lz(e,t,n=0,r=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(s=s===void 0?Dz:mPe(s);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(t-u*f/c+h)),y=Math.min(r,Math.floor(t+(c-u)*f/c+h));Lz(e,t,m,y,s)}const a=e[t];let o=n,l=r;for(xh(e,n,t),s(e[r],a)>0&&xh(e,n,r);o<l;){for(xh(e,o,l),++o,--l;s(e[o],a)<0;)++o;for(;s(e[l],a)>0;)--l}s(e[n],a)===0?xh(e,n,l):(++l,xh(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function xh(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function vPe(e,t,n){if(e=Float64Array.from(cPe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return yI(e);if(t>=1)return gI(e);var r,s=(r-1)*t,a=Math.floor(s),o=gI(Lz(e,a).subarray(0,a+1)),l=yI(e.subarray(a+1));return o+(l-o)*(s-a)}}function xPe(e,t,n=$z){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,a=Math.floor(s),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(s-a)}}function bPe(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(s);++r<s;)a[r]=e+r*n;return a}function qs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ji(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const JS=Symbol("implicit");function SE(){var e=new mI,t=[],n=[],r=JS;function s(a){let o=e.get(a);if(o===void 0){if(r!==JS)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return s.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new mI;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(a){return arguments.length?(n=Array.from(a),s):n.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return SE(t,n).unknown(r)},qs.apply(s,arguments),s}function op(){var e=SE().unknown(void 0),t=e.domain,n=e.range,r=0,s=1,a,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=s<r,y=m?s:r,p=m?r:s;a=(p-y)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),y+=(p-y-a*(h-c))*d,o=a*(1-c),l&&(y=Math.round(y),o=Math.round(o));var x=bPe(h).map(function(w){return y+a*w});return n(m?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,s]=h,r=+r,s=+s,f()):[r,s]},e.rangeRound=function(h){return[r,s]=h,r=+r,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return op(t(),[r,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},qs.apply(f(),arguments)}function Fz(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Fz(t())},e}function om(){return Fz(op.apply(null,arguments).paddingInner(1))}function NE(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Bz(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function bg(){}var lp=.7,px=1/lp,cd="\\s*([+-]?\\d+)\\s*",cp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ja="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wPe=/^#([0-9a-f]{3,8})$/,_Pe=new RegExp(`^rgb\\(${cd},${cd},${cd}\\)$`),jPe=new RegExp(`^rgb\\(${Ja},${Ja},${Ja}\\)$`),SPe=new RegExp(`^rgba\\(${cd},${cd},${cd},${cp}\\)$`),NPe=new RegExp(`^rgba\\(${Ja},${Ja},${Ja},${cp}\\)$`),CPe=new RegExp(`^hsl\\(${cp},${Ja},${Ja}\\)$`),PPe=new RegExp(`^hsla\\(${cp},${Ja},${Ja},${cp}\\)$`),vI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};NE(bg,up,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xI,formatHex:xI,formatHex8:kPe,formatHsl:EPe,formatRgb:bI,toString:bI});function xI(){return this.rgb().formatHex()}function kPe(){return this.rgb().formatHex8()}function EPe(){return Vz(this).formatHsl()}function bI(){return this.rgb().formatRgb()}function up(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=wPe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?wI(t):n===3?new Hr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?yy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?yy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_Pe.exec(e))?new Hr(t[1],t[2],t[3],1):(t=jPe.exec(e))?new Hr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=SPe.exec(e))?yy(t[1],t[2],t[3],t[4]):(t=NPe.exec(e))?yy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=CPe.exec(e))?SI(t[1],t[2]/100,t[3]/100,1):(t=PPe.exec(e))?SI(t[1],t[2]/100,t[3]/100,t[4]):vI.hasOwnProperty(e)?wI(vI[e]):e==="transparent"?new Hr(NaN,NaN,NaN,0):null}function wI(e){return new Hr(e>>16&255,e>>8&255,e&255,1)}function yy(e,t,n,r){return r<=0&&(e=t=n=NaN),new Hr(e,t,n,r)}function APe(e){return e instanceof bg||(e=up(e)),e?(e=e.rgb(),new Hr(e.r,e.g,e.b,e.opacity)):new Hr}function eN(e,t,n,r){return arguments.length===1?APe(e):new Hr(e,t,n,r??1)}function Hr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}NE(Hr,eN,Bz(bg,{brighter(e){return e=e==null?px:Math.pow(px,e),new Hr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?lp:Math.pow(lp,e),new Hr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Hr(wc(this.r),wc(this.g),wc(this.b),gx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_I,formatHex:_I,formatHex8:TPe,formatRgb:jI,toString:jI}));function _I(){return`#${ec(this.r)}${ec(this.g)}${ec(this.b)}`}function TPe(){return`#${ec(this.r)}${ec(this.g)}${ec(this.b)}${ec((isNaN(this.opacity)?1:this.opacity)*255)}`}function jI(){const e=gx(this.opacity);return`${e===1?"rgb(":"rgba("}${wc(this.r)}, ${wc(this.g)}, ${wc(this.b)}${e===1?")":`, ${e})`}`}function gx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ec(e){return e=wc(e),(e<16?"0":"")+e.toString(16)}function SI(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ya(e,t,n,r)}function Vz(e){if(e instanceof ya)return new ya(e.h,e.s,e.l,e.opacity);if(e instanceof bg||(e=up(e)),!e)return new ya;if(e instanceof ya)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-s,c=(a+s)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+s:2-a-s,o*=60):l=c>0&&c<1?0:o,new ya(o,l,c,e.opacity)}function OPe(e,t,n,r){return arguments.length===1?Vz(e):new ya(e,t,n,r??1)}function ya(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}NE(ya,OPe,Bz(bg,{brighter(e){return e=e==null?px:Math.pow(px,e),new ya(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?lp:Math.pow(lp,e),new ya(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new Hr(B1(e>=240?e-240:e+120,s,r),B1(e,s,r),B1(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new ya(NI(this.h),vy(this.s),vy(this.l),gx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=gx(this.opacity);return`${e===1?"hsl(":"hsla("}${NI(this.h)}, ${vy(this.s)*100}%, ${vy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function NI(e){return e=(e||0)%360,e<0?e+360:e}function vy(e){return Math.max(0,Math.min(1,e||0))}function B1(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const CE=e=>()=>e;function MPe(e,t){return function(n){return e+n*t}}function RPe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function IPe(e){return(e=+e)==1?Uz:function(t,n){return n-t?RPe(t,n,e):CE(isNaN(t)?n:t)}}function Uz(e,t){var n=t-e;return n?MPe(e,n):CE(isNaN(e)?t:e)}const CI=function e(t){var n=IPe(t);function r(s,a){var o=n((s=eN(s)).r,(a=eN(a)).r),l=n(s.g,a.g),c=n(s.b,a.b),u=Uz(s.opacity,a.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return r.gamma=e,r}(1);function $Pe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(a){for(s=0;s<n;++s)r[s]=e[s]*(1-a)+t[s]*a;return r}}function DPe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function LPe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)s[o]=Wf(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=s[o](l);return a}}function FPe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function yx(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function BPe(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Wf(e[s],t[s]):r[s]=t[s];return function(a){for(s in n)r[s]=n[s](a);return r}}var tN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,V1=new RegExp(tN.source,"g");function VPe(e){return function(){return e}}function UPe(e){return function(t){return e(t)+""}}function zPe(e,t){var n=tN.lastIndex=V1.lastIndex=0,r,s,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=tN.exec(e))&&(s=V1.exec(t));)(a=s.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:yx(r,s)})),n=V1.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?UPe(c[0].x):VPe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Wf(e,t){var n=typeof t,r;return t==null||n==="boolean"?CE(t):(n==="number"?yx:n==="string"?(r=up(t))?(t=r,CI):zPe:t instanceof up?CI:t instanceof Date?FPe:DPe(t)?$Pe:Array.isArray(t)?LPe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?BPe:yx)(e,t)}function PE(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function WPe(e,t){t===void 0&&(t=e,e=Wf);for(var n=0,r=t.length-1,s=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(s,s=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function HPe(e){return function(){return e}}function vx(e){return+e}var PI=[0,1];function Or(e){return e}function nN(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:HPe(isNaN(t)?NaN:.5)}function qPe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function KPe(e,t,n){var r=e[0],s=e[1],a=t[0],o=t[1];return s<r?(r=nN(s,r),a=n(o,a)):(r=nN(r,s),a=n(a,o)),function(l){return a(r(l))}}function GPe(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)s[o]=nN(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var c=xg(e,l,1,r)-1;return a[c](s[c](l))}}function wg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Cb(){var e=PI,t=PI,n=Wf,r,s,a,o=Or,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Or&&(o=qPe(e[0],e[h-1])),l=h>2?GPe:KPe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(r),t,n)))(r(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(r),yx)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,vx),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=PE,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Or,d()):o!==Or},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return r=h,s=m,d()}}function kE(){return Cb()(Or,Or)}function YPe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function xx(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function qd(e){return e=xx(Math.abs(e)),e?e[1]:NaN}function XPe(e,t){return function(n,r){for(var s=n.length,a=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(s-=l,s+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function QPe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var ZPe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dp(e){if(!(t=ZPe.exec(e)))throw new Error("invalid format: "+e);var t;return new EE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}dp.prototype=EE.prototype;function EE(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}EE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function JPe(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var zz;function eke(e,t){var n=xx(e,t);if(!n)return e+"";var r=n[0],s=n[1],a=s-(zz=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+xx(e,Math.max(0,t+a-1))[0]}function kI(e,t){var n=xx(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const EI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:YPe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>kI(e*100,t),r:kI,s:eke,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function AI(e){return e}var TI=Array.prototype.map,OI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function tke(e){var t=e.grouping===void 0||e.thousands===void 0?AI:XPe(TI.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?AI:QPe(TI.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=dp(f);var h=f.fill,m=f.align,y=f.sign,p=f.symbol,x=f.zero,w=f.width,g=f.comma,b=f.precision,_=f.trim,j=f.type;j==="n"?(g=!0,j="g"):EI[j]||(b===void 0&&(b=12),_=!0,j="g"),(x||h==="0"&&m==="=")&&(x=!0,h="0",m="=");var S=p==="$"?n:p==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",N=p==="$"?r:/[%p]/.test(j)?o:"",C=EI[j],P=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function k(A){var E=S,I=N,D,V,B;if(j==="c")I=C(A)+I,A="";else{A=+A;var F=A<0||1/A<0;if(A=isNaN(A)?c:C(Math.abs(A),b),_&&(A=JPe(A)),F&&+A==0&&y!=="+"&&(F=!1),E=(F?y==="("?y:l:y==="-"||y==="("?"":y)+E,I=(j==="s"?OI[8+zz/3]:"")+I+(F&&y==="("?")":""),P){for(D=-1,V=A.length;++D<V;)if(B=A.charCodeAt(D),48>B||B>57){I=(B===46?s+A.slice(D+1):A.slice(D))+I,A=A.slice(0,D);break}}}g&&!x&&(A=t(A,1/0));var R=E.length+A.length+I.length,T=R<w?new Array(w-R+1).join(h):"";switch(g&&x&&(A=t(T+A,T.length?w-I.length:1/0),T=""),m){case"<":A=E+A+I+T;break;case"=":A=E+T+A+I;break;case"^":A=T.slice(0,R=T.length>>1)+E+A+I+T.slice(R);break;default:A=T+E+A+I;break}return a(A)}return k.toString=function(){return f+""},k}function d(f,h){var m=u((f=dp(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(qd(h)/3)))*3,p=Math.pow(10,-y),x=OI[8+y/3];return function(w){return m(p*w)+x}}return{format:u,formatPrefix:d}}var xy,AE,Wz;nke({thousands:",",grouping:[3],currency:["$",""]});function nke(e){return xy=tke(e),AE=xy.format,Wz=xy.formatPrefix,xy}function rke(e){return Math.max(0,-qd(Math.abs(e)))}function ske(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qd(t)/3)))*3-qd(Math.abs(e)))}function ake(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qd(t)-qd(e))+1}function Hz(e,t,n,r){var s=ZS(e,t,n),a;switch(r=dp(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=ske(s,o))&&(r.precision=a),Wz(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=ake(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=rke(s))&&(r.precision=a-(r.type==="%")*2);break}}return AE(r)}function Sl(e){var t=e.domain;return e.ticks=function(n){var r=t();return XS(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return Hz(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,a=r.length-1,o=r[s],l=r[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=a,a=u);d-- >0;){if(u=QS(o,l,n),u===c)return r[s]=o,r[a]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function bx(){var e=kE();return e.copy=function(){return wg(e,bx())},qs.apply(e,arguments),Sl(e)}function qz(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,vx),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return qz(e).unknown(t)},e=arguments.length?Array.from(e,vx):[0,1],Sl(n)}function Kz(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],a=e[r],o;return a<s&&(o=n,n=r,r=o,o=s,s=a,a=o),e[n]=t.floor(s),e[r]=t.ceil(a),e}function MI(e){return Math.log(e)}function RI(e){return Math.exp(e)}function ike(e){return-Math.log(-e)}function oke(e){return-Math.exp(-e)}function lke(e){return isFinite(e)?+("1e"+e):e<0?0:e}function cke(e){return e===10?lke:e===Math.E?Math.exp:t=>Math.pow(e,t)}function uke(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function II(e){return(t,n)=>-e(-t,n)}function TE(e){const t=e(MI,RI),n=t.domain;let r=10,s,a;function o(){return s=uke(r),a=cke(r),n()[0]<0?(s=II(s),a=II(a),e(ike,oke)):e(MI,RI),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),m=s(d),y,p;const x=l==null?10:+l;let w=[];if(!(r%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(y=1;y<r;++y)if(p=h<0?y/a(-h):y*a(h),!(p<u)){if(p>d)break;w.push(p)}}else for(;h<=m;++h)for(y=r-1;y>=1;--y)if(p=h>0?y/a(-h):y*a(h),!(p<u)){if(p>d)break;w.push(p)}w.length*2<x&&(w=XS(u,d,x))}else w=XS(h,m,Math.min(m-h,x)).map(a);return f?w.reverse():w},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=dp(c)).precision==null&&(c.trim=!0),c=AE(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let f=d/a(Math.round(s(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},t.nice=()=>n(Kz(n(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),t}function Gz(){const e=TE(Cb()).domain([1,10]);return e.copy=()=>wg(e,Gz()).base(e.base()),qs.apply(e,arguments),e}function $I(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function DI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function OE(e){var t=1,n=e($I(t),DI(t));return n.constant=function(r){return arguments.length?e($I(t=+r),DI(t)):t},Sl(n)}function Yz(){var e=OE(Cb());return e.copy=function(){return wg(e,Yz()).constant(e.constant())},qs.apply(e,arguments)}function LI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function dke(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function fke(e){return e<0?-e*e:e*e}function ME(e){var t=e(Or,Or),n=1;function r(){return n===1?e(Or,Or):n===.5?e(dke,fke):e(LI(n),LI(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},Sl(t)}function RE(){var e=ME(Cb());return e.copy=function(){return wg(e,RE()).exponent(e.exponent())},qs.apply(e,arguments),e}function hke(){return RE.apply(null,arguments).exponent(.5)}function FI(e){return Math.sign(e)*e*e}function mke(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Xz(){var e=kE(),t=[0,1],n=!1,r;function s(a){var o=mke(e(a));return isNaN(o)?r:n?Math.round(o):o}return s.invert=function(a){return e.invert(FI(a))},s.domain=function(a){return arguments.length?(e.domain(a),s):e.domain()},s.range=function(a){return arguments.length?(e.range((t=Array.from(a,vx)).map(FI)),s):t.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(n=!!a,s):n},s.clamp=function(a){return arguments.length?(e.clamp(a),s):e.clamp()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return Xz(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},qs.apply(s,arguments),Sl(s)}function Qz(){var e=[],t=[],n=[],r;function s(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=xPe(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[xg(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Xo),s()},a.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Qz().domain(e).range(t).unknown(r)},qs.apply(a,arguments)}function Zz(){var e=0,t=1,n=1,r=[.5],s=[0,1],a;function o(c){return c!=null&&c<=c?s[xg(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Zz().domain([e,t]).range(s).unknown(a)},qs.apply(Sl(o),arguments)}function Jz(){var e=[.5],t=[0,1],n,r=1;function s(a){return a!=null&&a<=a?t[xg(e,a,0,r)]:n}return s.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return Jz().domain(e).range(t).unknown(n)},qs.apply(s,arguments)}const U1=new Date,z1=new Date;function Vn(e,t,n,r){function s(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(e(a=new Date(+a)),a),s.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),s.round=a=>{const o=s(a),l=s.ceil(a);return a-o<l-a?o:l},s.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),s.range=(a,o,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<o);return c},s.filter=a=>Vn(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(s.count=(a,o)=>(U1.setTime(+a),z1.setTime(+o),e(U1),e(z1),Math.floor(n(U1,z1))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(r?o=>r(o)%a===0:o=>s.count(0,o)%a===0):s)),s}const wx=Vn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);wx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Vn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):wx);wx.range;const ji=1e3,Is=ji*60,Si=Is*60,zi=Si*24,IE=zi*7,BI=zi*30,W1=zi*365,tc=Vn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ji)},(e,t)=>(t-e)/ji,e=>e.getUTCSeconds());tc.range;const $E=Vn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ji)},(e,t)=>{e.setTime(+e+t*Is)},(e,t)=>(t-e)/Is,e=>e.getMinutes());$E.range;const DE=Vn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Is)},(e,t)=>(t-e)/Is,e=>e.getUTCMinutes());DE.range;const LE=Vn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ji-e.getMinutes()*Is)},(e,t)=>{e.setTime(+e+t*Si)},(e,t)=>(t-e)/Si,e=>e.getHours());LE.range;const FE=Vn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Si)},(e,t)=>(t-e)/Si,e=>e.getUTCHours());FE.range;const _g=Vn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Is)/zi,e=>e.getDate()-1);_g.range;const Pb=Vn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zi,e=>e.getUTCDate()-1);Pb.range;const eW=Vn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zi,e=>Math.floor(e/zi));eW.range;function eu(e){return Vn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Is)/IE)}const kb=eu(0),_x=eu(1),pke=eu(2),gke=eu(3),Kd=eu(4),yke=eu(5),vke=eu(6);kb.range;_x.range;pke.range;gke.range;Kd.range;yke.range;vke.range;function tu(e){return Vn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/IE)}const Eb=tu(0),jx=tu(1),xke=tu(2),bke=tu(3),Gd=tu(4),wke=tu(5),_ke=tu(6);Eb.range;jx.range;xke.range;bke.range;Gd.range;wke.range;_ke.range;const BE=Vn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());BE.range;const VE=Vn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());VE.range;const Wi=Vn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Wi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Vn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Wi.range;const Hi=Vn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Hi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Vn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Hi.range;function tW(e,t,n,r,s,a){const o=[[tc,1,ji],[tc,5,5*ji],[tc,15,15*ji],[tc,30,30*ji],[a,1,Is],[a,5,5*Is],[a,15,15*Is],[a,30,30*Is],[s,1,Si],[s,3,3*Si],[s,6,6*Si],[s,12,12*Si],[r,1,zi],[r,2,2*zi],[n,1,IE],[t,1,BI],[t,3,3*BI],[e,1,W1]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),y=m?m.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,m=jE(([,,x])=>x).right(o,h);if(m===o.length)return e.every(ZS(u/W1,d/W1,f));if(m===0)return wx.every(Math.max(ZS(u,d,f),1));const[y,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return y.every(p)}return[l,c]}const[jke,Ske]=tW(Hi,VE,Eb,eW,FE,DE),[Nke,Cke]=tW(Wi,BE,kb,_g,LE,$E);function H1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function q1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function bh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Pke(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=wh(s),d=_h(s),f=wh(a),h=_h(a),m=wh(o),y=_h(o),p=wh(l),x=_h(l),w=wh(c),g=_h(c),b={a:F,A:R,b:T,B:O,c:null,d:qI,e:qI,f:Xke,g:iEe,G:lEe,H:Kke,I:Gke,j:Yke,L:nW,m:Qke,M:Zke,p:W,q:$,Q:YI,s:XI,S:Jke,u:eEe,U:tEe,V:nEe,w:rEe,W:sEe,x:null,X:null,y:aEe,Y:oEe,Z:cEe,"%":GI},_={a:Y,A:U,b:ne,B:be,c:null,d:KI,e:KI,f:hEe,g:jEe,G:NEe,H:uEe,I:dEe,j:fEe,L:sW,m:mEe,M:pEe,p:re,q:Me,Q:YI,s:XI,S:gEe,u:yEe,U:vEe,V:xEe,w:bEe,W:wEe,x:null,X:null,y:_Ee,Y:SEe,Z:CEe,"%":GI},j={a:k,A,b:E,B:I,c:D,d:WI,e:WI,f:zke,g:zI,G:UI,H:HI,I:HI,j:Fke,L:Uke,m:Lke,M:Bke,p:P,q:Dke,Q:Hke,s:qke,S:Vke,u:Oke,U:Mke,V:Rke,w:Tke,W:Ike,x:V,X:B,y:zI,Y:UI,Z:$ke,"%":Wke};b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),_.x=S(n,_),_.X=S(r,_),_.c=S(t,_);function S(te,J){return function(ae){var K=[],Se=-1,q=0,se=te.length,ve,ke,ze;for(ae instanceof Date||(ae=new Date(+ae));++Se<se;)te.charCodeAt(Se)===37&&(K.push(te.slice(q,Se)),(ke=VI[ve=te.charAt(++Se)])!=null?ve=te.charAt(++Se):ke=ve==="e"?" ":"0",(ze=J[ve])&&(ve=ze(ae,ke)),K.push(ve),q=Se+1);return K.push(te.slice(q,Se)),K.join("")}}function N(te,J){return function(ae){var K=bh(1900,void 0,1),Se=C(K,te,ae+="",0),q,se;if(Se!=ae.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(J&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(q=q1(bh(K.y,0,1)),se=q.getUTCDay(),q=se>4||se===0?jx.ceil(q):jx(q),q=Pb.offset(q,(K.V-1)*7),K.y=q.getUTCFullYear(),K.m=q.getUTCMonth(),K.d=q.getUTCDate()+(K.w+6)%7):(q=H1(bh(K.y,0,1)),se=q.getDay(),q=se>4||se===0?_x.ceil(q):_x(q),q=_g.offset(q,(K.V-1)*7),K.y=q.getFullYear(),K.m=q.getMonth(),K.d=q.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),se="Z"in K?q1(bh(K.y,0,1)).getUTCDay():H1(bh(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(se+5)%7:K.w+K.U*7-(se+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,q1(K)):H1(K)}}function C(te,J,ae,K){for(var Se=0,q=J.length,se=ae.length,ve,ke;Se<q;){if(K>=se)return-1;if(ve=J.charCodeAt(Se++),ve===37){if(ve=J.charAt(Se++),ke=j[ve in VI?J.charAt(Se++):ve],!ke||(K=ke(te,ae,K))<0)return-1}else if(ve!=ae.charCodeAt(K++))return-1}return K}function P(te,J,ae){var K=u.exec(J.slice(ae));return K?(te.p=d.get(K[0].toLowerCase()),ae+K[0].length):-1}function k(te,J,ae){var K=m.exec(J.slice(ae));return K?(te.w=y.get(K[0].toLowerCase()),ae+K[0].length):-1}function A(te,J,ae){var K=f.exec(J.slice(ae));return K?(te.w=h.get(K[0].toLowerCase()),ae+K[0].length):-1}function E(te,J,ae){var K=w.exec(J.slice(ae));return K?(te.m=g.get(K[0].toLowerCase()),ae+K[0].length):-1}function I(te,J,ae){var K=p.exec(J.slice(ae));return K?(te.m=x.get(K[0].toLowerCase()),ae+K[0].length):-1}function D(te,J,ae){return C(te,t,J,ae)}function V(te,J,ae){return C(te,n,J,ae)}function B(te,J,ae){return C(te,r,J,ae)}function F(te){return o[te.getDay()]}function R(te){return a[te.getDay()]}function T(te){return c[te.getMonth()]}function O(te){return l[te.getMonth()]}function W(te){return s[+(te.getHours()>=12)]}function $(te){return 1+~~(te.getMonth()/3)}function Y(te){return o[te.getUTCDay()]}function U(te){return a[te.getUTCDay()]}function ne(te){return c[te.getUTCMonth()]}function be(te){return l[te.getUTCMonth()]}function re(te){return s[+(te.getUTCHours()>=12)]}function Me(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var J=S(te+="",b);return J.toString=function(){return te},J},parse:function(te){var J=N(te+="",!1);return J.toString=function(){return te},J},utcFormat:function(te){var J=S(te+="",_);return J.toString=function(){return te},J},utcParse:function(te){var J=N(te+="",!0);return J.toString=function(){return te},J}}}var VI={"-":"",_:" ",0:"0"},Xn=/^\s*\d+/,kke=/^%/,Eke=/[\\^$*+?|[\]().{}]/g;function gt(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",a=s.length;return r+(a<n?new Array(n-a+1).join(t)+s:s)}function Ake(e){return e.replace(Eke,"\\$&")}function wh(e){return new RegExp("^(?:"+e.map(Ake).join("|")+")","i")}function _h(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Tke(e,t,n){var r=Xn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Oke(e,t,n){var r=Xn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Mke(e,t,n){var r=Xn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Rke(e,t,n){var r=Xn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Ike(e,t,n){var r=Xn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function UI(e,t,n){var r=Xn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function zI(e,t,n){var r=Xn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function $ke(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Dke(e,t,n){var r=Xn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Lke(e,t,n){var r=Xn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function WI(e,t,n){var r=Xn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Fke(e,t,n){var r=Xn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function HI(e,t,n){var r=Xn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Bke(e,t,n){var r=Xn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Vke(e,t,n){var r=Xn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Uke(e,t,n){var r=Xn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function zke(e,t,n){var r=Xn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Wke(e,t,n){var r=kke.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Hke(e,t,n){var r=Xn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function qke(e,t,n){var r=Xn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function qI(e,t){return gt(e.getDate(),t,2)}function Kke(e,t){return gt(e.getHours(),t,2)}function Gke(e,t){return gt(e.getHours()%12||12,t,2)}function Yke(e,t){return gt(1+_g.count(Wi(e),e),t,3)}function nW(e,t){return gt(e.getMilliseconds(),t,3)}function Xke(e,t){return nW(e,t)+"000"}function Qke(e,t){return gt(e.getMonth()+1,t,2)}function Zke(e,t){return gt(e.getMinutes(),t,2)}function Jke(e,t){return gt(e.getSeconds(),t,2)}function eEe(e){var t=e.getDay();return t===0?7:t}function tEe(e,t){return gt(kb.count(Wi(e)-1,e),t,2)}function rW(e){var t=e.getDay();return t>=4||t===0?Kd(e):Kd.ceil(e)}function nEe(e,t){return e=rW(e),gt(Kd.count(Wi(e),e)+(Wi(e).getDay()===4),t,2)}function rEe(e){return e.getDay()}function sEe(e,t){return gt(_x.count(Wi(e)-1,e),t,2)}function aEe(e,t){return gt(e.getFullYear()%100,t,2)}function iEe(e,t){return e=rW(e),gt(e.getFullYear()%100,t,2)}function oEe(e,t){return gt(e.getFullYear()%1e4,t,4)}function lEe(e,t){var n=e.getDay();return e=n>=4||n===0?Kd(e):Kd.ceil(e),gt(e.getFullYear()%1e4,t,4)}function cEe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+gt(t/60|0,"0",2)+gt(t%60,"0",2)}function KI(e,t){return gt(e.getUTCDate(),t,2)}function uEe(e,t){return gt(e.getUTCHours(),t,2)}function dEe(e,t){return gt(e.getUTCHours()%12||12,t,2)}function fEe(e,t){return gt(1+Pb.count(Hi(e),e),t,3)}function sW(e,t){return gt(e.getUTCMilliseconds(),t,3)}function hEe(e,t){return sW(e,t)+"000"}function mEe(e,t){return gt(e.getUTCMonth()+1,t,2)}function pEe(e,t){return gt(e.getUTCMinutes(),t,2)}function gEe(e,t){return gt(e.getUTCSeconds(),t,2)}function yEe(e){var t=e.getUTCDay();return t===0?7:t}function vEe(e,t){return gt(Eb.count(Hi(e)-1,e),t,2)}function aW(e){var t=e.getUTCDay();return t>=4||t===0?Gd(e):Gd.ceil(e)}function xEe(e,t){return e=aW(e),gt(Gd.count(Hi(e),e)+(Hi(e).getUTCDay()===4),t,2)}function bEe(e){return e.getUTCDay()}function wEe(e,t){return gt(jx.count(Hi(e)-1,e),t,2)}function _Ee(e,t){return gt(e.getUTCFullYear()%100,t,2)}function jEe(e,t){return e=aW(e),gt(e.getUTCFullYear()%100,t,2)}function SEe(e,t){return gt(e.getUTCFullYear()%1e4,t,4)}function NEe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Gd(e):Gd.ceil(e),gt(e.getUTCFullYear()%1e4,t,4)}function CEe(){return"+0000"}function GI(){return"%"}function YI(e){return+e}function XI(e){return Math.floor(+e/1e3)}var yu,iW,oW;PEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function PEe(e){return yu=Pke(e),iW=yu.format,yu.parse,oW=yu.utcFormat,yu.utcParse,yu}function kEe(e){return new Date(e)}function EEe(e){return e instanceof Date?+e:+new Date(+e)}function UE(e,t,n,r,s,a,o,l,c,u){var d=kE(),f=d.invert,h=d.domain,m=u(".%L"),y=u(":%S"),p=u("%I:%M"),x=u("%I %p"),w=u("%a %d"),g=u("%b %d"),b=u("%B"),_=u("%Y");function j(S){return(c(S)<S?m:l(S)<S?y:o(S)<S?p:a(S)<S?x:r(S)<S?s(S)<S?w:g:n(S)<S?b:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,EEe)):h().map(kEe)},d.ticks=function(S){var N=h();return e(N[0],N[N.length-1],S??10)},d.tickFormat=function(S,N){return N==null?j:u(N)},d.nice=function(S){var N=h();return(!S||typeof S.range!="function")&&(S=t(N[0],N[N.length-1],S??10)),S?h(Kz(N,S)):d},d.copy=function(){return wg(d,UE(e,t,n,r,s,a,o,l,c,u))},d}function AEe(){return qs.apply(UE(Nke,Cke,Wi,BE,kb,_g,LE,$E,tc,iW).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function TEe(){return qs.apply(UE(jke,Ske,Hi,VE,Eb,Pb,FE,DE,tc,oW).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ab(){var e=0,t=1,n,r,s,a,o=Or,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(a(f)-n)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),s=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,y;return arguments.length?([m,y]=h,o=f(m,y),u):[o(0),o(1)]}}return u.range=d(Wf),u.rangeRound=d(PE),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,n=f(e),r=f(t),s=n===r?0:1/(r-n),u}}function Nl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function lW(){var e=Sl(Ab()(Or));return e.copy=function(){return Nl(e,lW())},Ji.apply(e,arguments)}function cW(){var e=TE(Ab()).domain([1,10]);return e.copy=function(){return Nl(e,cW()).base(e.base())},Ji.apply(e,arguments)}function uW(){var e=OE(Ab());return e.copy=function(){return Nl(e,uW()).constant(e.constant())},Ji.apply(e,arguments)}function zE(){var e=ME(Ab());return e.copy=function(){return Nl(e,zE()).exponent(e.exponent())},Ji.apply(e,arguments)}function OEe(){return zE.apply(null,arguments).exponent(.5)}function dW(){var e=[],t=Or;function n(r){if(r!=null&&!isNaN(r=+r))return t((xg(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Xo),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,a)=>vPe(e,a/r))},n.copy=function(){return dW(t).domain(e)},Ji.apply(n,arguments)}function Tb(){var e=0,t=.5,n=1,r=1,s,a,o,l,c,u=Or,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-a)*(r*p<r*a?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,n]=p,s=d(e=+e),a=d(t=+t),o=d(n=+n),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),r=a<s?-1:1,m):[e,t,n]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function y(p){return function(x){var w,g,b;return arguments.length?([w,g,b]=x,u=WPe(p,[w,g,b]),m):[u(0),u(.5),u(1)]}}return m.range=y(Wf),m.rangeRound=y(PE),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,s=p(e),a=p(t),o=p(n),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),r=a<s?-1:1,m}}function fW(){var e=Sl(Tb()(Or));return e.copy=function(){return Nl(e,fW())},Ji.apply(e,arguments)}function hW(){var e=TE(Tb()).domain([.1,1,10]);return e.copy=function(){return Nl(e,hW()).base(e.base())},Ji.apply(e,arguments)}function mW(){var e=OE(Tb());return e.copy=function(){return Nl(e,mW()).constant(e.constant())},Ji.apply(e,arguments)}function WE(){var e=ME(Tb());return e.copy=function(){return Nl(e,WE()).exponent(e.exponent())},Ji.apply(e,arguments)}function MEe(){return WE.apply(null,arguments).exponent(.5)}const QI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:op,scaleDiverging:fW,scaleDivergingLog:hW,scaleDivergingPow:WE,scaleDivergingSqrt:MEe,scaleDivergingSymlog:mW,scaleIdentity:qz,scaleImplicit:JS,scaleLinear:bx,scaleLog:Gz,scaleOrdinal:SE,scalePoint:om,scalePow:RE,scaleQuantile:Qz,scaleQuantize:Zz,scaleRadial:Xz,scaleSequential:lW,scaleSequentialLog:cW,scaleSequentialPow:zE,scaleSequentialQuantile:dW,scaleSequentialSqrt:OEe,scaleSequentialSymlog:uW,scaleSqrt:hke,scaleSymlog:Yz,scaleThreshold:Jz,scaleTime:AEe,scaleUtc:TEe,tickFormat:Hz},Symbol.toStringTag,{value:"Module"}));var REe=$f;function IEe(e,t,n){for(var r=-1,s=e.length;++r<s;){var a=e[r],o=t(a);if(o!=null&&(l===void 0?o===o&&!REe(o):n(o,l)))var l=o,c=a}return c}var pW=IEe;function $Ee(e,t){return e>t}var DEe=$Ee,LEe=pW,FEe=DEe,BEe=zf;function VEe(e){return e&&e.length?LEe(e,BEe,FEe):void 0}var UEe=VEe;const Ob=Mt(UEe);function zEe(e,t){return e<t}var WEe=zEe,HEe=pW,qEe=WEe,KEe=zf;function GEe(e){return e&&e.length?HEe(e,KEe,qEe):void 0}var YEe=GEe;const Mb=Mt(YEe);var XEe=sE,QEe=jl,ZEe=jz,JEe=ts;function eAe(e,t){var n=JEe(e)?XEe:ZEe;return n(e,QEe(t))}var tAe=eAe,nAe=wz,rAe=tAe;function sAe(e,t){return nAe(rAe(e,t),1)}var aAe=sAe;const iAe=Mt(aAe);var oAe=xE;function lAe(e,t){return oAe(e,t)}var cAe=lAe;const Rb=Mt(cAe);var Hf=1e9,uAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qE,Xt=!0,Ws="[DecimalError] ",_c=Ws+"Invalid argument: ",HE=Ws+"Exponent out of range: ",qf=Math.floor,Vl=Math.pow,dAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ds,zn=1e7,zt=7,gW=9007199254740991,Sx=qf(gW/zt),Pe={};Pe.absoluteValue=Pe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Pe.comparedTo=Pe.cmp=function(e){var t,n,r,s,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,s=e.d.length,t=0,n=r<s?r:s;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===s?0:r>s^a.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*zt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Pe.dividedBy=Pe.div=function(e){return Ai(this,new this.constructor(e))};Pe.dividedToIntegerBy=Pe.idiv=function(e){var t=this,n=t.constructor;return $t(Ai(t,new n(e),0,1),n.precision)};Pe.equals=Pe.eq=function(e){return!this.cmp(e)};Pe.exponent=function(){return En(this)};Pe.greaterThan=Pe.gt=function(e){return this.cmp(e)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(e){return this.cmp(e)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(e){return this.cmp(e)<0};Pe.lessThanOrEqualTo=Pe.lte=function(e){return this.cmp(e)<1};Pe.logarithm=Pe.log=function(e){var t,n=this,r=n.constructor,s=r.precision,a=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ds))throw Error(Ws+"NaN");if(n.s<1)throw Error(Ws+(n.s?"NaN":"-Infinity"));return n.eq(ds)?new r(0):(Xt=!1,t=Ai(fp(n,a),fp(e,a),a),Xt=!0,$t(t,s))};Pe.minus=Pe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xW(t,e):yW(t,(e.s=-e.s,e))};Pe.modulo=Pe.mod=function(e){var t,n=this,r=n.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(Ws+"NaN");return n.s?(Xt=!1,t=Ai(n,e,0,1).times(e),Xt=!0,n.minus(t)):$t(new r(n),s)};Pe.naturalExponential=Pe.exp=function(){return vW(this)};Pe.naturalLogarithm=Pe.ln=function(){return fp(this)};Pe.negated=Pe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Pe.plus=Pe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yW(t,e):xW(t,(e.s=-e.s,e))};Pe.precision=Pe.sd=function(e){var t,n,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(_c+e);if(t=En(s)+1,r=s.d.length-1,n=r*zt+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Pe.squareRoot=Pe.sqrt=function(){var e,t,n,r,s,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ws+"NaN")}for(e=En(l),Xt=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Wa(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=qf((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(s.toString()),n=c.precision,s=o=n+3;;)if(a=r,r=a.plus(Ai(l,a,o+2)).times(.5),Wa(a.d).slice(0,o)===(t=Wa(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if($t(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return Xt=!0,$t(r,n)};Pe.times=Pe.mul=function(e){var t,n,r,s,a,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,c=h.length,u=m.length,c<u&&(a=h,h=m,m=a,o=c,c=u,u=o),a=[],o=c+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,s=c+r;s>r;)l=a[s]+m[r]*h[s-r-1]+t,a[s--]=l%zn|0,t=l/zn|0;a[s]=(a[s]+t)%zn|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Xt?$t(e,f.precision):e};Pe.toDecimalPlaces=Pe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ri(e,0,Hf),t===void 0?t=r.rounding:ri(t,0,8),$t(n,e+En(n)+1,t))};Pe.toExponential=function(e,t){var n,r=this,s=r.constructor;return e===void 0?n=Ic(r,!0):(ri(e,0,Hf),t===void 0?t=s.rounding:ri(t,0,8),r=$t(new s(r),e+1,t),n=Ic(r,!0,e+1)),n};Pe.toFixed=function(e,t){var n,r,s=this,a=s.constructor;return e===void 0?Ic(s):(ri(e,0,Hf),t===void 0?t=a.rounding:ri(t,0,8),r=$t(new a(s),e+En(s)+1,t),n=Ic(r.abs(),!1,e+En(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Pe.toInteger=Pe.toint=function(){var e=this,t=e.constructor;return $t(new t(e),En(e)+1,t.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(e){var t,n,r,s,a,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ds);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ws+"Infinity");return l}if(l.eq(ds))return l;if(r=c.precision,e.eq(ds))return $t(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=d<0?-d:d)<=gW){for(s=new c(ds),t=Math.ceil(r/zt+4),Xt=!1;n%2&&(s=s.times(l),JI(s.d,t)),n=qf(n/2),n!==0;)l=l.times(l),JI(l.d,t);return Xt=!0,e.s<0?new c(ds).div(s):$t(s,r)}}else if(a<0)throw Error(Ws+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Xt=!1,s=e.times(fp(l,r+u)),Xt=!0,s=vW(s),s.s=a,s};Pe.toPrecision=function(e,t){var n,r,s=this,a=s.constructor;return e===void 0?(n=En(s),r=Ic(s,n<=a.toExpNeg||n>=a.toExpPos)):(ri(e,1,Hf),t===void 0?t=a.rounding:ri(t,0,8),s=$t(new a(s),e,t),n=En(s),r=Ic(s,e<=n||n<=a.toExpNeg,e)),r};Pe.toSignificantDigits=Pe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ri(e,1,Hf),t===void 0?t=r.rounding:ri(t,0,8)),$t(new r(n),e,t)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=En(e),n=e.constructor;return Ic(e,t<=n.toExpNeg||t>=n.toExpPos)};function yW(e,t){var n,r,s,a,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Xt?$t(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),a=o-s,a){for(a<0?(r=c,a=-a,l=u.length):(r=u,s=o,l=c.length),o=Math.ceil(f/zt),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/zn|0,c[a]%=zn;for(n&&(c.unshift(n),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Xt?$t(t,f):t}function ri(e,t,n){if(e!==~~e||e<t||e>n)throw Error(_c+e)}function Wa(e){var t,n,r,s=e.length-1,a="",o=e[0];if(s>0){for(a+=o,t=1;t<s;t++)r=e[t]+"",n=zt-r.length,n&&(a+=yo(n)),a+=r;o=e[t],r=o+"",n=zt-r.length,n&&(a+=yo(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ai=function(){function e(r,s){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*s+o,r[l]=a%zn|0,o=a/zn|0;return o&&r.unshift(o),r}function t(r,s,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=s[l]){c=r[l]>s[l]?1:-1;break}return c}function n(r,s,a){for(var o=0;a--;)r[a]-=o,o=r[a]<s[a]?1:0,r[a]=o*zn+r[a]-s[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,a,o){var l,c,u,d,f,h,m,y,p,x,w,g,b,_,j,S,N,C,P=r.constructor,k=r.s==s.s?1:-1,A=r.d,E=s.d;if(!r.s)return new P(r);if(!s.s)throw Error(Ws+"Division by zero");for(c=r.e-s.e,N=E.length,j=A.length,m=new P(k),y=m.d=[],u=0;E[u]==(A[u]||0);)++u;if(E[u]>(A[u]||0)&&--c,a==null?g=a=P.precision:o?g=a+(En(r)-En(s))+1:g=a,g<0)return new P(0);if(g=g/zt+2|0,u=0,N==1)for(d=0,E=E[0],g++;(u<j||d)&&g--;u++)b=d*zn+(A[u]||0),y[u]=b/E|0,d=b%E|0;else{for(d=zn/(E[0]+1)|0,d>1&&(E=e(E,d),A=e(A,d),N=E.length,j=A.length),_=N,p=A.slice(0,N),x=p.length;x<N;)p[x++]=0;C=E.slice(),C.unshift(0),S=E[0],E[1]>=zn/2&&++S;do d=0,l=t(E,p,N,x),l<0?(w=p[0],N!=x&&(w=w*zn+(p[1]||0)),d=w/S|0,d>1?(d>=zn&&(d=zn-1),f=e(E,d),h=f.length,x=p.length,l=t(f,p,h,x),l==1&&(d--,n(f,N<h?C:E,h))):(d==0&&(l=d=1),f=E.slice()),h=f.length,h<x&&f.unshift(0),n(p,f,x),l==-1&&(x=p.length,l=t(E,p,N,x),l<1&&(d++,n(p,N<x?C:E,x))),x=p.length):l===0&&(d++,p=[0]),y[u++]=d,l&&p[0]?p[x++]=A[_]||0:(p=[A[_]],x=1);while((_++<j||p[0]!==void 0)&&g--)}return y[0]||y.shift(),m.e=c,$t(m,o?a+En(m)+1:a)}}();function vW(e,t){var n,r,s,a,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(En(e)>16)throw Error(HE+En(e));if(!e.s)return new d(ds);for(t==null?(Xt=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(Vl(2,u))/Math.LN10*2+5|0,l+=r,n=s=a=new d(ds),d.precision=l;;){if(s=$t(s.times(e),l),n=n.times(++c),o=a.plus(Ai(s,n,l)),Wa(o.d).slice(0,l)===Wa(a.d).slice(0,l)){for(;u--;)a=$t(a.times(a),l);return d.precision=f,t==null?(Xt=!0,$t(a,f)):a}a=o}}function En(e){for(var t=e.e*zt,n=e.d[0];n>=10;n/=10)t++;return t}function K1(e,t,n){if(t>e.LN10.sd())throw Xt=!0,n&&(e.precision=n),Error(Ws+"LN10 precision limit exceeded");return $t(new e(e.LN10),t)}function yo(e){for(var t="";e--;)t+="0";return t}function fp(e,t){var n,r,s,a,o,l,c,u,d,f=1,h=10,m=e,y=m.d,p=m.constructor,x=p.precision;if(m.s<1)throw Error(Ws+(m.s?"NaN":"-Infinity"));if(m.eq(ds))return new p(0);if(t==null?(Xt=!1,u=x):u=t,m.eq(10))return t==null&&(Xt=!0),K1(p,u);if(u+=h,p.precision=u,n=Wa(y),r=n.charAt(0),a=En(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Wa(m.d),r=n.charAt(0),f++;a=En(m),r>1?(m=new p("0."+n),a++):m=new p(r+"."+n.slice(1))}else return c=K1(p,u+2,x).times(a+""),m=fp(new p(r+"."+n.slice(1)),u-h).plus(c),p.precision=x,t==null?(Xt=!0,$t(m,x)):m;for(l=o=m=Ai(m.minus(ds),m.plus(ds),u),d=$t(m.times(m),u),s=3;;){if(o=$t(o.times(d),u),c=l.plus(Ai(o,new p(s),u)),Wa(c.d).slice(0,u)===Wa(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(K1(p,u+2,x).times(a+""))),l=Ai(l,new p(f),u),p.precision=x,t==null?(Xt=!0,$t(l,x)):l;l=c,s+=2}}function ZI(e,t){var n,r,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(r,s),t){if(s-=r,n=n-r-1,e.e=qf(n/zt),e.d=[],r=(n+1)%zt,n<0&&(r+=zt),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=zt;r<s;)e.d.push(+t.slice(r,r+=zt));t=t.slice(r),r=zt-t.length}else r-=s;for(;r--;)t+="0";if(e.d.push(+t),Xt&&(e.e>Sx||e.e<-Sx))throw Error(HE+n)}else e.s=0,e.e=0,e.d=[0];return e}function $t(e,t,n){var r,s,a,o,l,c,u,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=zt,s=t,u=f[d=0];else{if(d=Math.ceil((r+1)/zt),a=f.length,d>=a)return e;for(u=a=f[d],o=1;a>=10;a/=10)o++;r%=zt,s=r-zt+o}if(n!==void 0&&(a=Vl(10,o-s-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?s>0?u/Vl(10,o-s):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(a=En(e),f.length=1,t=t-a-1,f[0]=Vl(10,(zt-t%zt)%zt),e.e=qf(-t/zt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=Vl(10,zt-r),f[d]=s>0?(u/Vl(10,o-s)%Vl(10,s)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==zn&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=zn)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Xt&&(e.e>Sx||e.e<-Sx))throw Error(HE+En(e));return e}function xW(e,t){var n,r,s,a,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Xt?$t(t,m):t;if(c=e.d,f=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,r=u,l=c.length),s=Math.max(Math.ceil(m/zt),l)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(a=s;a&&c[--a]===0;)c[a]=zn-1;--c[a],c[s]+=zn}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Xt?$t(t,m):t):new h(0)}function Ic(e,t,n){var r,s=En(e),a=Wa(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+yo(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+yo(-s-1)+a,n&&(r=n-o)>0&&(a+=yo(r))):s>=o?(a+=yo(s+1-o),n&&(r=n-s-1)>0&&(a=a+"."+yo(r))):((r=s+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(s+1===o&&(a+="."),a+=yo(r))),e.s<0?"-"+a:a}function JI(e,t){if(e.length>t)return e.length=t,!0}function bW(e){var t,n,r;function s(a){var o=this;if(!(o instanceof s))return new s(a);if(o.constructor=s,a instanceof s){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(_c+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return ZI(o,a.toString())}else if(typeof a!="string")throw Error(_c+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,dAe.test(a))ZI(o,a);else throw Error(_c+a)}if(s.prototype=Pe,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=bW,s.config=s.set=fAe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return s.config(e),s}function fAe(e){if(!e||typeof e!="object")throw Error(Ws+"Object expected");var t,n,r,s=["precision",1,Hf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((r=e[n=s[t]])!==void 0)if(qf(r)===r&&r>=s[t+1]&&r<=s[t+2])this[n]=r;else throw Error(_c+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(_c+n+": "+r);return this}var qE=bW(uAe);ds=new qE(1);const Tt=qE;function hAe(e){return yAe(e)||gAe(e)||pAe(e)||mAe()}function mAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pAe(e,t){if(e){if(typeof e=="string")return rN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rN(e,t)}}function gAe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function yAe(e){if(Array.isArray(e))return rN(e)}function rN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vAe=function(t){return t},wW={"@@functional/placeholder":!0},_W=function(t){return t===wW},e$=function(t){return function n(){return arguments.length===0||arguments.length===1&&_W(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},xAe=function e(t,n){return t===1?n:e$(function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var o=s.filter(function(l){return l!==wW}).length;return o>=t?n.apply(void 0,s):e(t-o,e$(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return _W(f)?c.shift():f});return n.apply(void 0,hAe(d).concat(c))}))})},Ib=function(t){return xAe(t.length,t)},sN=function(t,n){for(var r=[],s=t;s<n;++s)r[s-t]=s;return r},bAe=Ib(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),wAe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return vAe;var s=n.reverse(),a=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},aN=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},jW=function(t){var n=null,r=null;return function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=t.apply(void 0,a)),r}};function _Ae(e){var t;return e===0?t=1:t=Math.floor(new Tt(e).abs().log(10).toNumber())+1,t}function jAe(e,t,n){for(var r=new Tt(e),s=0,a=[];r.lt(t)&&s<1e5;)a.push(r.toNumber()),r=r.add(n),s++;return a}var SAe=Ib(function(e,t,n){var r=+e,s=+t;return r+n*(s-r)}),NAe=Ib(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),CAe=Ib(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const $b={rangeStep:jAe,getDigitCount:_Ae,interpolateNumber:SAe,uninterpolateNumber:NAe,uninterpolateTruncation:CAe};function iN(e){return EAe(e)||kAe(e)||SW(e)||PAe()}function PAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kAe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function EAe(e){if(Array.isArray(e))return oN(e)}function hp(e,t){return OAe(e)||TAe(e,t)||SW(e,t)||AAe()}function AAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SW(e,t){if(e){if(typeof e=="string")return oN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oN(e,t)}}function oN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TAe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,s=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){s=!0,a=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(s)throw a}}return n}}function OAe(e){if(Array.isArray(e))return e}function NW(e){var t=hp(e,2),n=t[0],r=t[1],s=n,a=r;return n>r&&(s=r,a=n),[s,a]}function CW(e,t,n){if(e.lte(0))return new Tt(0);var r=$b.getDigitCount(e.toNumber()),s=new Tt(10).pow(r),a=e.div(s),o=r!==1?.05:.1,l=new Tt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(s);return t?c:new Tt(Math.ceil(c))}function MAe(e,t,n){var r=1,s=new Tt(e);if(!s.isint()&&n){var a=Math.abs(e);a<1?(r=new Tt(10).pow($b.getDigitCount(e)-1),s=new Tt(Math.floor(s.div(r).toNumber())).mul(r)):a>1&&(s=new Tt(Math.floor(e)))}else e===0?s=new Tt(Math.floor((t-1)/2)):n||(s=new Tt(Math.floor(e)));var o=Math.floor((t-1)/2),l=wAe(bAe(function(c){return s.add(new Tt(c-o).mul(r)).toNumber()}),sN);return l(0,t)}function PW(e,t,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Tt(0),tickMin:new Tt(0),tickMax:new Tt(0)};var a=CW(new Tt(t).sub(e).div(n-1),r,s),o;e<=0&&t>=0?o=new Tt(0):(o=new Tt(e).add(t).div(2),o=o.sub(new Tt(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new Tt(t).sub(o).div(a).toNumber()),u=l+c+1;return u>n?PW(e,t,n,r,s+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:a,tickMin:o.sub(new Tt(l).mul(a)),tickMax:o.add(new Tt(c).mul(a))})}function RAe(e){var t=hp(e,2),n=t[0],r=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=NW([n,r]),c=hp(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(iN(sN(0,s-1).map(function(){return 1/0}))):[].concat(iN(sN(0,s-1).map(function(){return-1/0})),[d]);return n>r?aN(f):f}if(u===d)return MAe(u,s,a);var h=PW(u,d,o,a),m=h.step,y=h.tickMin,p=h.tickMax,x=$b.rangeStep(y,p.add(new Tt(.1).mul(m)),m);return n>r?aN(x):x}function IAe(e,t){var n=hp(e,2),r=n[0],s=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=NW([r,s]),l=hp(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,s];if(c===u)return[c];var d=Math.max(t,2),f=CW(new Tt(u).sub(c).div(d-1),a,0),h=[].concat(iN($b.rangeStep(new Tt(c),new Tt(u).sub(new Tt(.99).mul(f)),f)),[u]);return r>s?aN(h):h}var $Ae=jW(RAe),DAe=jW(IAe),LAe="Invariant failed";function $c(e,t){throw new Error(LAe)}var FAe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Yd(e){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yd(e)}function Nx(){return Nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nx.apply(this,arguments)}function BAe(e,t){return WAe(e)||zAe(e,t)||UAe(e,t)||VAe()}function VAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UAe(e,t){if(e){if(typeof e=="string")return t$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t$(e,t)}}function t$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zAe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function WAe(e){if(Array.isArray(e))return e}function HAe(e,t){if(e==null)return{};var n=qAe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qAe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function KAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AW(r.key),r)}}function YAe(e,t,n){return t&&GAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XAe(e,t,n){return t=Cx(t),QAe(e,kW()?Reflect.construct(t,n||[],Cx(e).constructor):t.apply(e,n))}function QAe(e,t){if(t&&(Yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZAe(e)}function ZAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kW=function(){return!!e})()}function Cx(e){return Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cx(e)}function JAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lN(e,t)}function lN(e,t){return lN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},lN(e,t)}function EW(e,t,n){return t=AW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AW(e){var t=e2e(e,"string");return Yd(t)=="symbol"?t:t+""}function e2e(e,t){if(Yd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jg=function(e){function t(){return KAe(this,t),XAe(this,t,arguments)}return JAe(t,e),YAe(t,[{key:"render",value:function(){var r=this.props,s=r.offset,a=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=HAe(r,FAe),m=it(h,!1);this.props.direction==="x"&&d.type!=="number"&&$c();var y=c.map(function(p){var x=u(p,l),w=x.x,g=x.y,b=x.value,_=x.errorVal;if(!_)return null;var j=[],S,N;if(Array.isArray(_)){var C=BAe(_,2);S=C[0],N=C[1]}else S=N=_;if(a==="vertical"){var P=d.scale,k=g+s,A=k+o,E=k-o,I=P(b-S),D=P(b+N);j.push({x1:D,y1:A,x2:D,y2:E}),j.push({x1:I,y1:k,x2:D,y2:k}),j.push({x1:I,y1:A,x2:I,y2:E})}else if(a==="horizontal"){var V=f.scale,B=w+s,F=B-o,R=B+o,T=V(b-S),O=V(b+N);j.push({x1:F,y1:O,x2:R,y2:O}),j.push({x1:B,y1:T,x2:B,y2:O}),j.push({x1:F,y1:T,x2:R,y2:T})}return M.createElement(gn,Nx({className:"recharts-errorBar",key:"bar-".concat(j.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},m),j.map(function(W){return M.createElement("line",Nx({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return M.createElement(gn,{className:"recharts-errorBars"},y)}}])}(M.Component);EW(jg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});EW(jg,"displayName","ErrorBar");function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function n$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ml(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n$(Object(n),!0).forEach(function(r){t2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t2e(e,t,n){return t=n2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n2e(e){var t=r2e(e,"string");return mp(t)=="symbol"?t:t+""}function r2e(e,t){if(mp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TW=function(t){var n=t.children,r=t.formattedGraphicalItems,s=t.legendWidth,a=t.legendContent,o=os(n,ld);if(!o)return null;var l=ld.defaultProps,c=l!==void 0?Ml(Ml({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,m=f.props,y=m.sectors||m.data||[];return d.concat(y.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Ml(Ml({},h),f.props):{},y=m.dataKey,p=m.name,x=m.legendType,w=m.hide;return{inactive:w,dataKey:y,type:c.iconType||x||"square",color:KE(f),value:p||y,payload:m}}),Ml(Ml(Ml({},c),ld.getWithHeight(o,s)),{},{payload:u,item:o})};function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function r$(e){return o2e(e)||i2e(e)||a2e(e)||s2e()}function s2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a2e(e,t){if(e){if(typeof e=="string")return cN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cN(e,t)}}function i2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function o2e(e){if(Array.isArray(e))return cN(e)}function cN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s$(Object(n),!0).forEach(function(r){ud(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ud(e,t,n){return t=l2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l2e(e){var t=c2e(e,"string");return pp(t)=="symbol"?t:t+""}function c2e(e,t){if(pp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xs(e,t,n){return nt(e)||nt(t)?n:Ln(t)?Bs(e,t,n):Je(t)?t(e):n}function lm(e,t,n,r){var s=iAe(e,function(l){return xs(l,t)});if(n==="number"){var a=s.filter(function(l){return ye(l)||parseFloat(l)});return a.length?[Mb(a),Ob(a)]:[1/0,-1/0]}var o=r?s.filter(function(l){return!nt(l)}):s;return o.map(function(l){return Ln(l)||l instanceof Date?l:""})}var u2e=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,m=void 0;if(wa(f-d)!==wa(h-f)){var y=[];if(wa(h-f)===wa(c[1]-c[0])){m=h;var p=f+c[1]-c[0];y[0]=Math.min(p,(p+d)/2),y[1]=Math.max(p,(p+d)/2)}else{m=d;var x=h+c[1]-c[0];y[0]=Math.min(f,(x+f)/2),y[1]=Math.max(f,(x+f)/2)}var w=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>w[0]&&t<=w[1]||t>=y[0]&&t<=y[1]){o=s[u].index;break}}else{var g=Math.min(d,h),b=Math.max(d,h);if(t>(g+f)/2&&t<=(b+f)/2){o=s[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(r[_].coordinate+r[_+1].coordinate)/2||_>0&&_<l-1&&t>(r[_].coordinate+r[_-1].coordinate)/2&&t<=(r[_].coordinate+r[_+1].coordinate)/2||_===l-1&&t>(r[_].coordinate+r[_-1].coordinate)/2){o=r[_].index;break}return o},KE=function(t){var n,r=t,s=r.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?un(un({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},d2e=function(t){var n=t.barSize,r=t.totalSize,s=t.stackGroups,a=s===void 0?{}:s;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var y=d[f[h]],p=y.items,x=y.cateAxisId,w=p.filter(function(N){return Pi(N.type).indexOf("Bar")>=0});if(w&&w.length){var g=w[0].type.defaultProps,b=g!==void 0?un(un({},g),w[0].props):w[0].props,_=b.barSize,j=b[x];o[j]||(o[j]=[]);var S=nt(_)?n:_;o[j].push({item:w[0],stackList:w.slice(1),barSize:nt(S)?void 0:Rc(S,r,0)})}}return o},f2e=function(t){var n=t.barGap,r=t.barCategoryGap,s=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Rc(n,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=s/c,y=o.reduce(function(_,j){return _+j.barSize||0},0);y+=(c-1)*u,y>=s&&(y-=(c-1)*u,u=0),y>=s&&m>0&&(h=!0,m*=.9,y=c*m);var p=(s-y)/2>>0,x={offset:p-u,size:0};d=o.reduce(function(_,j){var S={item:j.item,position:{offset:x.offset+x.size+u,size:h?m:j.barSize}},N=[].concat(r$(_),[S]);return x=N[N.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(C){N.push({item:C,position:x})}),N},f)}else{var w=Rc(r,s,0,!0);s-2*w-(c-1)*u<=0&&(u=0);var g=(s-2*w-(c-1)*u)/c;g>1&&(g>>=0);var b=l===+l?Math.min(g,l):g;d=o.reduce(function(_,j,S){var N=[].concat(r$(_),[{item:j.item,position:{offset:w+(g+u)*S+(g-b)/2,size:b}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(C){N.push({item:C,position:N[N.length-1].position})}),N},f)}return d},h2e=function(t,n,r,s){var a=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=TW({children:a,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,m=u.align,y=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&y==="middle")&&m!=="center"&&ye(t[m]))return un(un({},t),{},ud({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&y!=="middle"&&ye(t[y]))return un(un({},t),{},ud({},y,t[y]+(h||0)))}return t},m2e=function(t,n,r){return nt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},OW=function(t,n,r,s,a){var o=n.props.children,l=Vs(o,jg).filter(function(u){return m2e(s,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=xs(d,r);if(nt(f))return u;var h=Array.isArray(f)?[Mb(f),Ob(f)]:[f,f],m=c.reduce(function(y,p){var x=xs(d,p,0),w=h[0]-Math.abs(Array.isArray(x)?x[0]:x),g=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(w,y[0]),Math.max(g,y[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},p2e=function(t,n,r,s,a){var o=n.map(function(l){return OW(t,l,r,a,s)}).filter(function(l){return!nt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},MW=function(t,n,r,s,a){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&OW(t,c,u,s)||lm(t,u,r,a)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},RW=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},IW=function(t,n,r,s){if(s)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(r),l},Ni=function(t,n,r){if(!t)return null;var s=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(n||r)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?wa(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!gg(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!r?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:a?a[f]:f,index:h,offset:u}})},G1=new WeakMap,by=function(t,n){if(typeof n!="function")return t;G1.has(t)||G1.set(t,new WeakMap);var r=G1.get(t);if(r.has(n))return r.get(n);var s=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,s),s},g2e=function(t,n,r){var s=t.scale,a=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:op(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:bx(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:om(),realScaleType:"point"}:a==="category"?{scale:op(),realScaleType:"band"}:{scale:bx(),realScaleType:"linear"};if(Mc(s)){var c="scale".concat(xb(s));return{scale:(QI[c]||om)(),realScaleType:QI[c]?c:"point"}}return Je(s)?{scale:s}:{scale:om(),realScaleType:"point"}},a$=1e-4,y2e=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,s=t.range(),a=Math.min(s[0],s[1])-a$,o=Math.max(s[0],s[1])+a$,l=t(n[0]),c=t(n[r-1]);(l<a||l>o||c<a||c>o)&&t.domain([n[0],n[r-1]])}},v2e=function(t,n){if(!t)return null;for(var r=0,s=t.length;r<s;r++)if(t[r].item===n)return t[r].position;return null},x2e=function(t,n){if(!n||n.length!==2||!ye(n[0])||!ye(n[1]))return t;var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!ye(t[0])||t[0]<r)&&(a[0]=r),(!ye(t[1])||t[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<r&&(a[1]=r),a},b2e=function(t){var n=t.length;if(!(n<=0))for(var r=0,s=t[0].length;r<s;++r)for(var a=0,o=0,l=0;l<n;++l){var c=gg(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=a,t[l][r][1]=a+c,a=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},w2e=function(t){var n=t.length;if(!(n<=0))for(var r=0,s=t[0].length;r<s;++r)for(var a=0,o=0;o<n;++o){var l=gg(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=a,t[o][r][1]=a+l,a=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},_2e={sign:b2e,expand:$xe,none:Vd,silhouette:Dxe,wiggle:Lxe,positive:w2e},j2e=function(t,n,r){var s=n.map(function(l){return l.props.dataKey}),a=_2e[r],o=Ixe().keys(s).value(function(l,c){return+xs(l,c,0)}).order(RS).offset(a);return o(t)},S2e=function(t,n,r,s,a,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,h){var m,y=(m=h.type)!==null&&m!==void 0&&m.defaultProps?un(un({},h.type.defaultProps),h.props):h.props,p=y.stackId,x=y.hide;if(x)return f;var w=y[r],g=f[w]||{hasStack:!1,stackGroups:{}};if(Ln(p)){var b=g.stackGroups[p]||{numericAxisId:r,cateAxisId:s,items:[]};b.items.push(h),g.hasStack=!0,g.stackGroups[p]=b}else g.stackGroups[yg("_stackId_")]={numericAxisId:r,cateAxisId:s,items:[h]};return un(un({},f),{},ud({},w,g))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,x){var w=m.stackGroups[x];return un(un({},p),{},ud({},x,{numericAxisId:r,cateAxisId:s,items:w.items,stackedData:j2e(t,w.items,a)}))},y)}return un(un({},f),{},ud({},h,m))},d)},N2e=function(t,n){var r=n.realScaleType,s=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=$Ae(u,a,l);return t.domain([Mb(d),Ob(d)]),{niceTicks:d}}if(a&&s==="number"){var f=t.domain(),h=DAe(f,a,l);return{niceTicks:h}}return null};function i$(e){var t=e.axis,n=e.ticks,r=e.bandSize,s=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!nt(s[t.dataKey])){var l=Qv(n,"value",s[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=xs(s,nt(o)?t.dataKey:o);return nt(c)?null:t.scale(c)}var o$=function(t){var n=t.axis,r=t.ticks,s=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+s:null;var c=xs(o,n.dataKey,n.domain[l]);return nt(c)?null:n.scale(c)-a/2+s},C2e=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return s<=0&&a>=0?0:a<0?a:s}return r[0]},P2e=function(t,n){var r,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?un(un({},t.type.defaultProps),t.props):t.props,a=s.stackId;if(Ln(a)){var o=n[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},k2e=function(t){return t.reduce(function(n,r){return[Mb(r.concat([n[0]]).filter(ye)),Ob(r.concat([n[1]]).filter(ye))]},[1/0,-1/0])},$W=function(t,n,r){return Object.keys(t).reduce(function(s,a){var o=t[a],l=o.stackedData,c=l.reduce(function(u,d){var f=k2e(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},l$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,c$=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uN=function(t,n,r){if(Je(t))return t(n,r);if(!Array.isArray(t))return n;var s=[];if(ye(t[0]))s[0]=r?t[0]:Math.min(t[0],n[0]);else if(l$.test(t[0])){var a=+l$.exec(t[0])[1];s[0]=n[0]-a}else Je(t[0])?s[0]=t[0](n[0]):s[0]=n[0];if(ye(t[1]))s[1]=r?t[1]:Math.max(t[1],n[1]);else if(c$.test(t[1])){var o=+c$.exec(t[1])[1];s[1]=n[1]+o}else Je(t[1])?s[1]=t[1](n[1]):s[1]=n[1];return s},Px=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!r||s>0)return s}if(t&&n&&n.length>=2){for(var a=wE(n,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},u$=function(t,n,r){return!t||!t.length||Rb(t,Bs(r,"type.defaultProps.domain"))?n:t},DW=function(t,n){var r=t.type.defaultProps?un(un({},t.type.defaultProps),t.props):t.props,s=r.dataKey,a=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return un(un({},it(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:a||s,color:KE(t),value:xs(n,s),type:c,payload:n,chartType:u,hide:d})};function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function d$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function f$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d$(Object(n),!0).forEach(function(r){E2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E2e(e,t,n){return t=A2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A2e(e){var t=T2e(e,"string");return gp(t)=="symbol"?t:t+""}function T2e(e,t){if(gp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kx=Math.PI/180,O2e=function(t){return t*180/Math.PI},or=function(t,n,r,s){return{x:t+Math.cos(-kx*s)*r,y:n+Math.sin(-kx*s)*r}},M2e=function(t,n){var r=t.x,s=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(s-o,2))},R2e=function(t,n){var r=t.x,s=t.y,a=n.cx,o=n.cy,l=M2e({x:r,y:s},{x:a,y:o});if(l<=0)return{radius:l};var c=(r-a)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:O2e(u),angleInRadian:u}},I2e=function(t){var n=t.startAngle,r=t.endAngle,s=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(s,a);return{startAngle:n-o*360,endAngle:r-o*360}},$2e=function(t,n){var r=n.startAngle,s=n.endAngle,a=Math.floor(r/360),o=Math.floor(s/360),l=Math.min(a,o);return t+l*360},h$=function(t,n){var r=t.x,s=t.y,a=R2e({x:r,y:s},n),o=a.radius,l=a.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=I2e(n),f=d.startAngle,h=d.endAngle,m=l,y;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;y=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=f}return y?f$(f$({},n),{},{radius:o,angle:$2e(m,n)}):null};function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}var D2e=["offset"];function L2e(e){return U2e(e)||V2e(e)||B2e(e)||F2e()}function F2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B2e(e,t){if(e){if(typeof e=="string")return dN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dN(e,t)}}function V2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function U2e(e){if(Array.isArray(e))return dN(e)}function dN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z2e(e,t){if(e==null)return{};var n=W2e(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function W2e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function m$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m$(Object(n),!0).forEach(function(r){H2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H2e(e,t,n){return t=q2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q2e(e){var t=K2e(e,"string");return yp(t)=="symbol"?t:t+""}function K2e(e,t){if(yp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vp.apply(this,arguments)}var G2e=function(t){var n=t.value,r=t.formatter,s=nt(t.children)?n:t.children;return Je(r)?r(s):s},Y2e=function(t,n){var r=wa(n-t),s=Math.min(Math.abs(n-t),360);return r*s},X2e=function(t,n,r){var s=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,y=c.endAngle,p=c.clockWise,x=(f+h)/2,w=Y2e(m,y),g=w>=0?1:-1,b,_;s==="insideStart"?(b=m+g*o,_=p):s==="insideEnd"?(b=y-g*o,_=!p):s==="end"&&(b=y+g*o,_=p),_=w<=0?_:!_;var j=or(u,d,x,b),S=or(u,d,x,b+(_?1:-1)*359),N="M".concat(j.x,",").concat(j.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),C=nt(t.id)?yg("recharts-radial-line-"):t.id;return M.createElement("text",vp({},r,{dominantBaseline:"central",className:ot("recharts-radial-bar-label",l)}),M.createElement("defs",null,M.createElement("path",{id:C,d:N})),M.createElement("textPath",{xlinkHref:"#".concat(C)},n))},Q2e=function(t){var n=t.viewBox,r=t.offset,s=t.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(s==="outside"){var m=or(o,l,u+r,h),y=m.x,p=m.y;return{x:y,y:p,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,w=or(o,l,x,h),g=w.x,b=w.y;return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},Z2e=function(t){var n=t.viewBox,r=t.parentViewBox,s=t.offset,a=t.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,m=f>0?"end":"start",y=f>0?"start":"end",p=u>=0?1:-1,x=p*s,w=p>0?"end":"start",g=p>0?"start":"end";if(a==="top"){var b={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:m};return Tn(Tn({},b),r?{height:Math.max(c-r.y,0),width:u}:{})}if(a==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return Tn(Tn({},_),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(a==="left"){var j={x:l-x,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return Tn(Tn({},j),r?{width:Math.max(j.x-r.x,0),height:d}:{})}if(a==="right"){var S={x:l+u+x,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return Tn(Tn({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:d}:{})}var N=r?{width:u,height:d}:{};return a==="insideLeft"?Tn({x:l+x,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},N):a==="insideRight"?Tn({x:l+u-x,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},N):a==="insideTop"?Tn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},N):a==="insideBottom"?Tn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},N):a==="insideTopLeft"?Tn({x:l+x,y:c+h,textAnchor:g,verticalAnchor:y},N):a==="insideTopRight"?Tn({x:l+u-x,y:c+h,textAnchor:w,verticalAnchor:y},N):a==="insideBottomLeft"?Tn({x:l+x,y:c+d-h,textAnchor:g,verticalAnchor:m},N):a==="insideBottomRight"?Tn({x:l+u-x,y:c+d-h,textAnchor:w,verticalAnchor:m},N):Df(a)&&(ye(a.x)||Jl(a.x))&&(ye(a.y)||Jl(a.y))?Tn({x:l+Rc(a.x,u),y:c+Rc(a.y,d),textAnchor:"end",verticalAnchor:"end"},N):Tn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},J2e=function(t){return"cx"in t&&ye(t.cx)};function gr(e){var t=e.offset,n=t===void 0?5:t,r=z2e(e,D2e),s=Tn({offset:n},r),a=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!a||nt(l)&&nt(c)&&!v.isValidElement(u)&&!Je(u))return null;if(v.isValidElement(u))return v.cloneElement(u,s);var m;if(Je(u)){if(m=v.createElement(u,s),v.isValidElement(m))return m}else m=G2e(s);var y=J2e(a),p=it(s,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return X2e(s,m,p);var x=y?Q2e(s):Z2e(s);return M.createElement(hx,vp({className:ot("recharts-label",f)},p,x,{breakAll:h}),m)}gr.displayName="Label";var LW=function(t){var n=t.cx,r=t.cy,s=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,y=t.left,p=t.width,x=t.height,w=t.clockWise,g=t.labelViewBox;if(g)return g;if(ye(p)&&ye(x)){if(ye(f)&&ye(h))return{x:f,y:h,width:p,height:x};if(ye(m)&&ye(y))return{x:m,y,width:p,height:x}}return ye(f)&&ye(h)?{x:f,y:h,width:0,height:0}:ye(n)&&ye(r)?{cx:n,cy:r,startAngle:a||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:w}:t.viewBox?t.viewBox:{}},eTe=function(t,n){return t?t===!0?M.createElement(gr,{key:"label-implicit",viewBox:n}):Ln(t)?M.createElement(gr,{key:"label-implicit",viewBox:n,value:t}):v.isValidElement(t)?t.type===gr?v.cloneElement(t,{key:"label-implicit",viewBox:n}):M.createElement(gr,{key:"label-implicit",content:t,viewBox:n}):Je(t)?M.createElement(gr,{key:"label-implicit",content:t,viewBox:n}):Df(t)?M.createElement(gr,vp({viewBox:n},t,{key:"label-implicit"})):null:null},tTe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var s=t.children,a=LW(t),o=Vs(s,gr).map(function(c,u){return v.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var l=eTe(t.label,n||a);return[l].concat(L2e(o))};gr.parseViewBox=LW;gr.renderCallByParent=tTe;function nTe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var rTe=nTe;const sTe=Mt(rTe);function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}var aTe=["valueAccessor"],iTe=["data","dataKey","clockWise","id","textBreakAll"];function oTe(e){return dTe(e)||uTe(e)||cTe(e)||lTe()}function lTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cTe(e,t){if(e){if(typeof e=="string")return fN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fN(e,t)}}function uTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dTe(e){if(Array.isArray(e))return fN(e)}function fN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ex.apply(this,arguments)}function p$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function g$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p$(Object(n),!0).forEach(function(r){fTe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fTe(e,t,n){return t=hTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hTe(e){var t=mTe(e,"string");return xp(t)=="symbol"?t:t+""}function mTe(e,t){if(xp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y$(e,t){if(e==null)return{};var n=pTe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pTe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var gTe=function(t){return Array.isArray(t.value)?sTe(t.value):t.value};function Qo(e){var t=e.valueAccessor,n=t===void 0?gTe:t,r=y$(e,aTe),s=r.data,a=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=y$(r,iTe);return!s||!s.length?null:M.createElement(gn,{className:"recharts-label-list"},s.map(function(d,f){var h=nt(a)?n(d,f):xs(d&&d.payload,a),m=nt(l)?{}:{id:"".concat(l,"-").concat(f)};return M.createElement(gr,Ex({},it(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:gr.parseViewBox(nt(o)?d:g$(g$({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Qo.displayName="LabelList";function yTe(e,t){return e?e===!0?M.createElement(Qo,{key:"labelList-implicit",data:t}):M.isValidElement(e)||Je(e)?M.createElement(Qo,{key:"labelList-implicit",data:t,content:e}):Df(e)?M.createElement(Qo,Ex({data:t},e,{key:"labelList-implicit"})):null:null}function vTe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,s=Vs(r,Qo).map(function(o,l){return v.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return s;var a=yTe(e.label,t);return[a].concat(oTe(s))}Qo.renderCallByParent=vTe;function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function hN(){return hN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hN.apply(this,arguments)}function v$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function x$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v$(Object(n),!0).forEach(function(r){xTe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xTe(e,t,n){return t=bTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bTe(e){var t=wTe(e,"string");return bp(t)=="symbol"?t:t+""}function wTe(e,t){if(bp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Te=function(t,n){var r=wa(n-t),s=Math.min(Math.abs(n-t),359.999);return r*s},wy=function(t){var n=t.cx,r=t.cy,s=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/kx,h=u?a:a+o*f,m=or(n,r,d,h),y=or(n,r,s,h),p=u?a-o*f:a,x=or(n,r,d*Math.cos(f*kx),p);return{center:m,circleTangency:y,lineTangency:x,theta:f}},FW=function(t){var n=t.cx,r=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=_Te(o,l),u=o+c,d=or(n,r,a,o),f=or(n,r,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var m=or(n,r,s,o),y=or(n,r,s,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},jTe=function(t){var n=t.cx,r=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=wa(d-u),h=wy({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,y=h.lineTangency,p=h.theta,x=wy({cx:n,cy:r,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),w=x.circleTangency,g=x.lineTangency,b=x.theta,_=c?Math.abs(u-d):Math.abs(u-d)-p-b;if(_<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):FW({cx:n,cy:r,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d});var j="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(s>0){var S=wy({cx:n,cy:r,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=S.circleTangency,C=S.lineTangency,P=S.theta,k=wy({cx:n,cy:r,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=k.circleTangency,E=k.lineTangency,I=k.theta,D=c?Math.abs(u-d):Math.abs(u-d)-P-I;if(D<0&&o===0)return"".concat(j,"L").concat(n,",").concat(r,"Z");j+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(D>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else j+="L".concat(n,",").concat(r,"Z");return j},STe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},BW=function(t){var n=x$(x$({},STe),t),r=n.cx,s=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(o<a||d===f)return null;var m=ot("recharts-sector",h),y=o-a,p=Rc(l,y,0,!0),x;return p>0&&Math.abs(d-f)<360?x=jTe({cx:r,cy:s,innerRadius:a,outerRadius:o,cornerRadius:Math.min(p,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=FW({cx:r,cy:s,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),M.createElement("path",hN({},it(n,!0),{className:m,d:x,role:"img"}))};function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function mN(){return mN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mN.apply(this,arguments)}function b$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function w$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b$(Object(n),!0).forEach(function(r){NTe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NTe(e,t,n){return t=CTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CTe(e){var t=PTe(e,"string");return wp(t)=="symbol"?t:t+""}function PTe(e,t){if(wp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _$={curveBasisClosed:Sxe,curveBasisOpen:Nxe,curveBasis:jxe,curveBumpX:cxe,curveBumpY:uxe,curveLinearClosed:Cxe,curveLinear:wb,curveMonotoneX:Pxe,curveMonotoneY:kxe,curveNatural:Exe,curveStep:Axe,curveStepAfter:Oxe,curveStepBefore:Txe},_y=function(t){return t.x===+t.x&&t.y===+t.y},jh=function(t){return t.x},Sh=function(t){return t.y},kTe=function(t,n){if(Je(t))return t;var r="curve".concat(xb(t));return(r==="curveMonotone"||r==="curveBump")&&n?_$["".concat(r).concat(n==="vertical"?"Y":"X")]:_$[r]||wb},ETe=function(t){var n=t.type,r=n===void 0?"linear":n,s=t.points,a=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=kTe(r,l),f=u?a.filter(function(p){return _y(p)}):a,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return _y(p)}):o,y=f.map(function(p,x){return w$(w$({},p),{},{base:m[x]})});return l==="vertical"?h=fy().y(Sh).x1(jh).x0(function(p){return p.base.x}):h=fy().x(jh).y1(Sh).y0(function(p){return p.base.y}),h.defined(_y).curve(d),h(y)}return l==="vertical"&&ye(o)?h=fy().y(Sh).x1(jh).x0(o):ye(o)?h=fy().x(jh).y1(Sh).y0(o):h=B8().x(jh).y(Sh),h.defined(_y).curve(d),h(f)},pN=function(t){var n=t.className,r=t.points,s=t.path,a=t.pathRef;if((!r||!r.length)&&!s)return null;var o=r&&r.length?ETe(t):s;return v.createElement("path",mN({},it(t,!1),Zv(t),{className:ot("recharts-curve",n),d:o,ref:a}))},VW={exports:{}},ATe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",TTe=ATe,OTe=TTe;function UW(){}function zW(){}zW.resetWarningCache=UW;var MTe=function(){function e(r,s,a,o,l,c){if(c!==OTe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:zW,resetWarningCache:UW};return n.PropTypes=n,n};VW.exports=MTe();var RTe=VW.exports;const bt=Mt(RTe);var ITe=Object.getOwnPropertyNames,$Te=Object.getOwnPropertySymbols,DTe=Object.prototype.hasOwnProperty;function j$(e,t){return function(r,s,a){return e(r,s,a)&&t(r,s,a)}}function jy(e){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,s);var a=s.cache,o=a.get(n),l=a.get(r);if(o&&l)return o===r&&l===n;a.set(n,r),a.set(r,n);var c=e(n,r,s);return a.delete(n),a.delete(r),c}}function S$(e){return ITe(e).concat($Te(e))}var LTe=Object.hasOwn||function(e,t){return DTe.call(e,t)};function nu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var FTe="__v",BTe="__o",VTe="_owner",N$=Object.getOwnPropertyDescriptor,C$=Object.keys;function UTe(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function zTe(e,t){return nu(e.getTime(),t.getTime())}function WTe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function HTe(e,t){return e===t}function P$(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var s=new Array(r),a=e.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(s[f]){f++;continue}var h=o.value,m=l.value;if(n.equals(h[0],m[0],c,f,e,t,n)&&n.equals(h[1],m[1],h[0],m[0],e,t,n)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}var qTe=nu;function KTe(e,t,n){var r=C$(e),s=r.length;if(C$(t).length!==s)return!1;for(;s-- >0;)if(!WW(e,t,n,r[s]))return!1;return!0}function Nh(e,t,n){var r=S$(e),s=r.length;if(S$(t).length!==s)return!1;for(var a,o,l;s-- >0;)if(a=r[s],!WW(e,t,n,a)||(o=N$(e,a),l=N$(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function GTe(e,t){return nu(e.valueOf(),t.valueOf())}function YTe(e,t){return e.source===t.source&&e.flags===t.flags}function k$(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var s=new Array(r),a=e.values(),o,l;(o=a.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!s[d]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function XTe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function QTe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function WW(e,t,n,r){return(r===VTe||r===BTe||r===FTe)&&(e.$$typeof||t.$$typeof)?!0:LTe(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var ZTe="[object Arguments]",JTe="[object Boolean]",eOe="[object Date]",tOe="[object Error]",nOe="[object Map]",rOe="[object Number]",sOe="[object Object]",aOe="[object RegExp]",iOe="[object Set]",oOe="[object String]",lOe="[object URL]",cOe=Array.isArray,E$=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,A$=Object.assign,uOe=Object.prototype.toString.call.bind(Object.prototype.toString);function dOe(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,s=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(y,p,x){if(y===p)return!0;if(y==null||p==null)return!1;var w=typeof y;if(w!==typeof p)return!1;if(w!=="object")return w==="number"?o(y,p,x):w==="function"?s(y,p,x):!1;var g=y.constructor;if(g!==p.constructor)return!1;if(g===Object)return l(y,p,x);if(cOe(y))return t(y,p,x);if(E$!=null&&E$(y))return f(y,p,x);if(g===Date)return n(y,p,x);if(g===RegExp)return u(y,p,x);if(g===Map)return a(y,p,x);if(g===Set)return d(y,p,x);var b=uOe(y);return b===eOe?n(y,p,x):b===aOe?u(y,p,x):b===nOe?a(y,p,x):b===iOe?d(y,p,x):b===sOe?typeof y.then!="function"&&typeof p.then!="function"&&l(y,p,x):b===lOe?h(y,p,x):b===tOe?r(y,p,x):b===ZTe?l(y,p,x):b===JTe||b===rOe||b===oOe?c(y,p,x):!1}}function fOe(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,s={areArraysEqual:r?Nh:UTe,areDatesEqual:zTe,areErrorsEqual:WTe,areFunctionsEqual:HTe,areMapsEqual:r?j$(P$,Nh):P$,areNumbersEqual:qTe,areObjectsEqual:r?Nh:KTe,arePrimitiveWrappersEqual:GTe,areRegExpsEqual:YTe,areSetsEqual:r?j$(k$,Nh):k$,areTypedArraysEqual:r?Nh:XTe,areUrlsEqual:QTe};if(n&&(s=A$({},s,n(s))),t){var a=jy(s.areArraysEqual),o=jy(s.areMapsEqual),l=jy(s.areObjectsEqual),c=jy(s.areSetsEqual);s=A$({},s,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function hOe(e){return function(t,n,r,s,a,o,l){return e(t,n,l)}}function mOe(e){var t=e.circular,n=e.comparator,r=e.createState,s=e.equals,a=e.strict;if(r)return function(c,u){var d=r(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return n(c,u,{cache:h,equals:s,meta:m,strict:a})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};var o={cache:void 0,equals:s,meta:void 0,strict:a};return function(c,u){return n(c,u,o)}}var pOe=Cl();Cl({strict:!0});Cl({circular:!0});Cl({circular:!0,strict:!0});Cl({createInternalComparator:function(){return nu}});Cl({strict:!0,createInternalComparator:function(){return nu}});Cl({circular:!0,createInternalComparator:function(){return nu}});Cl({circular:!0,createInternalComparator:function(){return nu},strict:!0});function Cl(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,s=e.createState,a=e.strict,o=a===void 0?!1:a,l=fOe(e),c=dOe(l),u=r?r(c):hOe(c);return mOe({circular:n,comparator:c,createState:s,equals:u,strict:o})}function gOe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function T$(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function s(a){n<0&&(n=a),a-n>t?(e(a),n=-1):gOe(s)};requestAnimationFrame(r)}function gN(e){"@babel/helpers - typeof";return gN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gN(e)}function yOe(e){return wOe(e)||bOe(e)||xOe(e)||vOe()}function vOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xOe(e,t){if(e){if(typeof e=="string")return O$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O$(e,t)}}function O$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wOe(e){if(Array.isArray(e))return e}function _Oe(){var e={},t=function(){return null},n=!1,r=function s(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=yOe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){T$(s.bind(null,u),c);return}s(c),T$(s.bind(null,u));return}gN(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function M$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function R$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M$(Object(n),!0).forEach(function(r){HW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HW(e,t,n){return t=jOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jOe(e){var t=SOe(e,"string");return _p(t)==="symbol"?t:String(t)}function SOe(e,t){if(_p(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_p(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NOe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,s){return r.filter(function(a){return s.includes(a)})})},COe=function(t){return t},POe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},cm=function(t,n){return Object.keys(n).reduce(function(r,s){return R$(R$({},r),{},HW({},s,t(s,n[s])))},{})},I$=function(t,n,r){return t.map(function(s){return"".concat(POe(s)," ").concat(n,"ms ").concat(r)}).join(",")};function kOe(e,t){return TOe(e)||AOe(e,t)||qW(e,t)||EOe()}function EOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AOe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function TOe(e){if(Array.isArray(e))return e}function OOe(e){return IOe(e)||ROe(e)||qW(e)||MOe()}function MOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qW(e,t){if(e){if(typeof e=="string")return yN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yN(e,t)}}function ROe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IOe(e){if(Array.isArray(e))return yN(e)}function yN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ax=1e-4,KW=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},GW=function(t,n){return t.map(function(r,s){return r*Math.pow(n,s)}).reduce(function(r,s){return r+s})},$$=function(t,n){return function(r){var s=KW(t,n);return GW(s,r)}},$Oe=function(t,n){return function(r){var s=KW(t,n),a=[].concat(OOe(s.map(function(o,l){return o*l}).slice(1)),[0]);return GW(a,r)}},D$=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,a=0,o=1,l=1;break;case"ease":s=.25,a=.1,o=.25,l=1;break;case"ease-in":s=.42,a=0,o=1,l=1;break;case"ease-out":s=.42,a=0,o=.58,l=1;break;case"ease-in-out":s=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=kOe(u,4);s=d[0],a=d[1],o=d[2],l=d[3]}}}var f=$$(s,o),h=$$(a,l),m=$Oe(s,o),y=function(w){return w>1?1:w<0?0:w},p=function(w){for(var g=w>1?1:w,b=g,_=0;_<8;++_){var j=f(b)-g,S=m(b);if(Math.abs(j-g)<Ax||S<Ax)return h(b);b=y(b-j/S)}return h(b)};return p.isStepper=!1,p},DOe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,s=t.damping,a=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*r,y=h*a,p=h+(m-y)*l/1e3,x=h*l/1e3+d;return Math.abs(x-f)<Ax&&Math.abs(p)<Ax?[f,0]:[x,p]};return c.isStepper=!0,c.dt=l,c},LOe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return D$(s);case"spring":return DOe();default:if(s.split("(")[0]==="cubic-bezier")return D$(s)}return typeof s=="function"?s:null};function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function L$(e){return VOe(e)||BOe(e)||YW(e)||FOe()}function FOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VOe(e){if(Array.isArray(e))return xN(e)}function F$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F$(Object(n),!0).forEach(function(r){vN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vN(e,t,n){return t=UOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UOe(e){var t=zOe(e,"string");return jp(t)==="symbol"?t:String(t)}function zOe(e,t){if(jp(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WOe(e,t){return KOe(e)||qOe(e,t)||YW(e,t)||HOe()}function HOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YW(e,t){if(e){if(typeof e=="string")return xN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xN(e,t)}}function xN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qOe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function KOe(e){if(Array.isArray(e))return e}var Tx=function(t,n,r){return t+(n-t)*r},bN=function(t){var n=t.from,r=t.to;return n!==r},GOe=function e(t,n,r){var s=cm(function(a,o){if(bN(o)){var l=t(o.from,o.to,o.velocity),c=WOe(l,2),u=c[0],d=c[1];return er(er({},o),{},{from:u,velocity:d})}return o},n);return r<1?cm(function(a,o){return bN(o)?er(er({},o),{},{velocity:Tx(o.velocity,s[a].velocity,r),from:Tx(o.from,s[a].from,r)}):o},n):e(t,s,r-1)};const YOe=function(e,t,n,r,s){var a=NOe(e,t),o=a.reduce(function(x,w){return er(er({},x),{},vN({},w,[e[w],t[w]]))},{}),l=a.reduce(function(x,w){return er(er({},x),{},vN({},w,{from:e[w],velocity:0,to:t[w]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return cm(function(w,g){return g.from},l)},m=function(){return!Object.values(l).filter(bN).length},y=function(w){u||(u=w);var g=w-u,b=g/n.dt;l=GOe(n,l,b),s(er(er(er({},e),t),h())),u=w,m()||(c=requestAnimationFrame(f))},p=function(w){d||(d=w);var g=(w-d)/r,b=cm(function(j,S){return Tx.apply(void 0,L$(S).concat([n(g)]))},o);if(s(er(er(er({},e),t),b)),g<1)c=requestAnimationFrame(f);else{var _=cm(function(j,S){return Tx.apply(void 0,L$(S).concat([n(1)]))},o);s(er(er(er({},e),t),_))}};return f=n.isStepper?y:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Xd(e){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xd(e)}var XOe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function QOe(e,t){if(e==null)return{};var n=ZOe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ZOe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Y1(e){return nMe(e)||tMe(e)||eMe(e)||JOe()}function JOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eMe(e,t){if(e){if(typeof e=="string")return wN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wN(e,t)}}function tMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nMe(e){if(Array.isArray(e))return wN(e)}function wN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function na(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B$(Object(n),!0).forEach(function(r){Fh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fh(e,t,n){return t=XW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sMe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XW(r.key),r)}}function aMe(e,t,n){return t&&sMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XW(e){var t=iMe(e,"string");return Xd(t)==="symbol"?t:String(t)}function iMe(e,t){if(Xd(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_N(e,t)}function _N(e,t){return _N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},_N(e,t)}function lMe(e){var t=cMe();return function(){var r=Ox(e),s;if(t){var a=Ox(this).constructor;s=Reflect.construct(r,arguments,a)}else s=r.apply(this,arguments);return jN(this,s)}}function jN(e,t){if(t&&(Xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SN(e)}function SN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ox(e){return Ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ox(e)}var qi=function(e){oMe(n,e);var t=lMe(n);function n(r,s){var a;rMe(this,n),a=t.call(this,r,s);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(SN(a)),a.changeStyle=a.changeStyle.bind(SN(a)),!l||m<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),jN(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},jN(a);a.state={style:c?Fh({},c,u):u}}else a.state={style:{}};return a}return aMe(n,[{key:"componentDidMount",value:function(){var s=this.props,a=s.isActive,o=s.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(l){if(!o){var m={style:c?Fh({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(pOe(s.to,d)&&s.canBegin&&s.isActive)){var y=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=y||u?f:s.to;if(this.state&&h){var x={style:c?Fh({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(x)}this.runAnimation(na(na({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var a=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,m=YOe(o,l,LOe(u),c,this.changeStyle),y=function(){a.stopJSAnimation=m()};this.manager.start([h,d,y,c,f])}},{key:"runStepAnimation",value:function(s){var a=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,x,w){if(w===0)return p;var g=x.duration,b=x.easing,_=b===void 0?"ease":b,j=x.style,S=x.properties,N=x.onAnimationEnd,C=w>0?o[w-1]:x,P=S||Object.keys(j);if(typeof _=="function"||_==="spring")return[].concat(Y1(p),[a.runJSAnimation.bind(a,{from:C.style,to:j,duration:g,easing:_}),g]);var k=I$(P,g,_),A=na(na(na({},C.style),j),{},{transition:k});return[].concat(Y1(p),[A,g,N]).filter(COe)};return this.manager.start([c].concat(Y1(o.reduce(m,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=_Oe());var a=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,m=s.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var p=l?Fh({},l,c):c,x=I$(Object.keys(p),o,u);y.start([d,a,na(na({},p),{},{transition:x}),o,f])}},{key:"render",value:function(){var s=this.props,a=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=QOe(s,XOe),u=v.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var f=function(m){var y=m.props,p=y.style,x=p===void 0?{}:p,w=y.className,g=v.cloneElement(m,na(na({},c),{},{style:na(na({},x),d),className:w}));return g};return u===1?f(v.Children.only(a)):M.createElement("div",null,v.Children.map(a,function(h){return f(h)}))}}]),n}(v.PureComponent);qi.displayName="Animate";qi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};qi.propTypes={from:bt.oneOfType([bt.object,bt.string]),to:bt.oneOfType([bt.object,bt.string]),attributeName:bt.string,duration:bt.number,begin:bt.number,easing:bt.oneOfType([bt.string,bt.func]),steps:bt.arrayOf(bt.shape({duration:bt.number.isRequired,style:bt.object.isRequired,easing:bt.oneOfType([bt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),bt.func]),properties:bt.arrayOf("string"),onAnimationEnd:bt.func})),children:bt.oneOfType([bt.node,bt.func]),isActive:bt.bool,canBegin:bt.bool,onAnimationEnd:bt.func,shouldReAnimate:bt.bool,onAnimationStart:bt.func,onAnimationReStart:bt.func};function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mx.apply(this,arguments)}function uMe(e,t){return mMe(e)||hMe(e,t)||fMe(e,t)||dMe()}function dMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fMe(e,t){if(e){if(typeof e=="string")return V$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V$(e,t)}}function V$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hMe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function mMe(e){if(Array.isArray(e))return e}function U$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function z$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U$(Object(n),!0).forEach(function(r){pMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pMe(e,t,n){return t=gMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gMe(e){var t=yMe(e,"string");return Sp(t)=="symbol"?t:t+""}function yMe(e,t){if(Sp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W$=function(t,n,r,s,a){var o=Math.min(Math.abs(r)/2,Math.abs(s)/2),l=s>=0?1:-1,c=r>=0?1:-1,u=s>=0&&r>=0||s<0&&r<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=a[h]>o?o:a[h];d="M".concat(t,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(n)),d+="L ".concat(t+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+l*f[1])),d+="L ".concat(t+r,",").concat(n+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+r-c*f[2],",").concat(n+s)),d+="L ".concat(t+c*f[3],",").concat(n+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+s-l*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var y=Math.min(o,a);d="M ".concat(t,",").concat(n+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(n,`
            L `).concat(t+r-c*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+r,",").concat(n+l*y,`
            L `).concat(t+r,",").concat(n+s-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+r-c*y,",").concat(n+s,`
            L `).concat(t+c*y,",").concat(n+s,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(n+s-l*y," Z")}else d="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(s," h ").concat(-r," Z");return d},vMe=function(t,n){if(!t||!n)return!1;var r=t.x,s=t.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return r>=u&&r<=d&&s>=f&&s<=h}return!1},xMe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GE=function(t){var n=z$(z$({},xMe),t),r=v.useRef(),s=v.useState(-1),a=uMe(s,2),o=a[0],l=a[1];v.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&l(_)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,m=n.className,y=n.animationEasing,p=n.animationDuration,x=n.animationBegin,w=n.isAnimationActive,g=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=ot("recharts-rectangle",m);return g?M.createElement(qi,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:y,isActive:g},function(_){var j=_.width,S=_.height,N=_.x,C=_.y;return M.createElement(qi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,isActive:w,easing:y},M.createElement("path",Mx({},it(n,!0),{className:b,d:W$(N,C,j,S,h),ref:r})))}):M.createElement("path",Mx({},it(n,!0),{className:b,d:W$(c,u,d,f,h)}))};function NN(){return NN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NN.apply(this,arguments)}var YE=function(t){var n=t.cx,r=t.cy,s=t.r,a=t.className,o=ot("recharts-dot",a);return n===+n&&r===+r&&s===+s?v.createElement("circle",NN({},it(t,!1),Zv(t),{className:o,cx:n,cy:r,r:s})):null};function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}var bMe=["x","y","top","left","width","height","className"];function CN(){return CN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CN.apply(this,arguments)}function H$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function wMe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H$(Object(n),!0).forEach(function(r){_Me(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Me(e,t,n){return t=jMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jMe(e){var t=SMe(e,"string");return Np(t)=="symbol"?t:t+""}function SMe(e,t){if(Np(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NMe(e,t){if(e==null)return{};var n=CMe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function CMe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var PMe=function(t,n,r,s,a,o){return"M".concat(t,",").concat(a,"v").concat(s,"M").concat(o,",").concat(n,"h").concat(r)},kMe=function(t){var n=t.x,r=n===void 0?0:n,s=t.y,a=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,y=t.className,p=NMe(t,bMe),x=wMe({x:r,y:a,top:l,left:u,width:f,height:m},p);return!ye(r)||!ye(a)||!ye(f)||!ye(m)||!ye(l)||!ye(u)?null:M.createElement("path",CN({},it(x,!0),{className:ot("recharts-cross",y),d:PMe(r,a,f,m,l,u)}))},EMe=uz,AMe=EMe(Object.getPrototypeOf,Object),TMe=AMe,OMe=Qi,MMe=TMe,RMe=Zi,IMe="[object Object]",$Me=Function.prototype,DMe=Object.prototype,QW=$Me.toString,LMe=DMe.hasOwnProperty,FMe=QW.call(Object);function BMe(e){if(!RMe(e)||OMe(e)!=IMe)return!1;var t=MMe(e);if(t===null)return!0;var n=LMe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&QW.call(n)==FMe}var VMe=BMe;const UMe=Mt(VMe);var zMe=Qi,WMe=Zi,HMe="[object Boolean]";function qMe(e){return e===!0||e===!1||WMe(e)&&zMe(e)==HMe}var KMe=qMe;const GMe=Mt(KMe);function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}function Rx(){return Rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rx.apply(this,arguments)}function YMe(e,t){return JMe(e)||ZMe(e,t)||QMe(e,t)||XMe()}function XMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QMe(e,t){if(e){if(typeof e=="string")return q$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q$(e,t)}}function q$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ZMe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function JMe(e){if(Array.isArray(e))return e}function K$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function G$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K$(Object(n),!0).forEach(function(r){eRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eRe(e,t,n){return t=tRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tRe(e){var t=nRe(e,"string");return Cp(t)=="symbol"?t:t+""}function nRe(e,t){if(Cp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y$=function(t,n,r,s,a){var o=r-s,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+a),l+="L ".concat(t+r-o/2-s,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},rRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sRe=function(t){var n=G$(G$({},rRe),t),r=v.useRef(),s=v.useState(-1),a=YMe(s,2),o=a[0],l=a[1];v.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&l(b)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,y=n.animationEasing,p=n.animationDuration,x=n.animationBegin,w=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var g=ot("recharts-trapezoid",m);return w?M.createElement(qi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:y,isActive:w},function(b){var _=b.upperWidth,j=b.lowerWidth,S=b.height,N=b.x,C=b.y;return M.createElement(qi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,easing:y},M.createElement("path",Rx({},it(n,!0),{className:g,d:Y$(N,C,_,j,S),ref:r})))}):M.createElement("g",null,M.createElement("path",Rx({},it(n,!0),{className:g,d:Y$(c,u,d,f,h)})))},aRe=["option","shapeType","propTransformer","activeClassName","isActive"];function Pp(e){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(e)}function iRe(e,t){if(e==null)return{};var n=oRe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oRe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function X$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ix(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X$(Object(n),!0).forEach(function(r){lRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lRe(e,t,n){return t=cRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cRe(e){var t=uRe(e,"string");return Pp(t)=="symbol"?t:t+""}function uRe(e,t){if(Pp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dRe(e,t){return Ix(Ix({},t),e)}function fRe(e,t){return e==="symbols"}function Q$(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return M.createElement(GE,n);case"trapezoid":return M.createElement(sRe,n);case"sector":return M.createElement(BW,n);case"symbols":if(fRe(t))return M.createElement(hE,n);break;default:return null}}function hRe(e){return v.isValidElement(e)?e.props:e}function mRe(e){var t=e.option,n=e.shapeType,r=e.propTransformer,s=r===void 0?dRe:r,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=iRe(e,aRe),u;if(v.isValidElement(t))u=v.cloneElement(t,Ix(Ix({},c),hRe(t)));else if(Je(t))u=t(c);else if(UMe(t)&&!GMe(t)){var d=s(t,c);u=M.createElement(Q$,{shapeType:n,elementProps:d})}else{var f=c;u=M.createElement(Q$,{shapeType:n,elementProps:f})}return l?M.createElement(gn,{className:o},u):u}function Db(e,t){return t!=null&&"trapezoids"in e.props}function Lb(e,t){return t!=null&&"sectors"in e.props}function kp(e,t){return t!=null&&"points"in e.props}function pRe(e,t){var n,r,s=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return s&&a}function gRe(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function yRe(e,t){var n=e.x===t.x,r=e.y===t.y,s=e.z===t.z;return n&&r&&s}function vRe(e,t){var n;return Db(e,t)?n=pRe:Lb(e,t)?n=gRe:kp(e,t)&&(n=yRe),n}function xRe(e,t){var n;return Db(e,t)?n="trapezoids":Lb(e,t)?n="sectors":kp(e,t)&&(n="points"),n}function bRe(e,t){if(Db(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Lb(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return kp(e,t)?t.payload:{}}function wRe(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,s=xRe(n,t),a=bRe(n,t),o=r.filter(function(c,u){var d=Rb(a,c),f=n.props[s].filter(function(y){var p=vRe(n,t);return p(y,t)}),h=n.props[s].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=r.indexOf(o[o.length-1]);return l}var _Re=Math.ceil,jRe=Math.max;function SRe(e,t,n,r){for(var s=-1,a=jRe(_Re((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++s]=e,e+=n;return o}var NRe=SRe,CRe=Ez,Z$=1/0,PRe=17976931348623157e292;function kRe(e){if(!e)return e===0?e:0;if(e=CRe(e),e===Z$||e===-Z$){var t=e<0?-1:1;return t*PRe}return e===e?e:0}var ZW=kRe,ERe=NRe,ARe=Nb,X1=ZW;function TRe(e){return function(t,n,r){return r&&typeof r!="number"&&ARe(t,n,r)&&(n=r=void 0),t=X1(t),n===void 0?(n=t,t=0):n=X1(n),r=r===void 0?t<n?1:-1:X1(r),ERe(t,n,r,e)}}var ORe=TRe,MRe=ORe,RRe=MRe(),IRe=RRe;const $x=Mt(IRe);function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function J$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function eD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J$(Object(n),!0).forEach(function(r){JW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JW(e,t,n){return t=$Re(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Re(e){var t=DRe(e,"string");return Ep(t)=="symbol"?t:t+""}function DRe(e,t){if(Ep(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LRe=["Webkit","Moz","O","ms"],FRe=function(t,n){var r=t.replace(/(\w)/,function(a){return a.toUpperCase()}),s=LRe.reduce(function(a,o){return eD(eD({},a),{},JW({},o+r,n))},{});return s[t]=n,s};function Qd(e){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(e)}function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dx.apply(this,arguments)}function tD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Q1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tD(Object(n),!0).forEach(function(r){as(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,t9(r.key),r)}}function VRe(e,t,n){return t&&nD(e.prototype,t),n&&nD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function URe(e,t,n){return t=Lx(t),zRe(e,e9()?Reflect.construct(t,n||[],Lx(e).constructor):t.apply(e,n))}function zRe(e,t){if(t&&(Qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WRe(e)}function WRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e9=function(){return!!e})()}function Lx(e){return Lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lx(e)}function HRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PN(e,t)}function PN(e,t){return PN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},PN(e,t)}function as(e,t,n){return t=t9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t9(e){var t=qRe(e,"string");return Qd(t)=="symbol"?t:t+""}function qRe(e,t){if(Qd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KRe=function(t){var n=t.data,r=t.startIndex,s=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=om().domain($x(0,c)).range([a,a+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(s),scale:u,scaleValues:d}},rD=function(t){return t.changedTouches&&!!t.changedTouches.length},Zd=function(e){function t(n){var r;return BRe(this,t),r=URe(this,t,[n]),as(r,"handleDrag",function(s){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(s):r.state.isSlideMoving&&r.handleSlideDrag(s)}),as(r,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&r.handleDrag(s.changedTouches[0])}),as(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=r.props,a=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),as(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),as(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),as(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),as(r,"handleSlideDragStart",function(s){var a=rD(s)?s.changedTouches[0]:s;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return HRe(t,e),VRe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var s=r.startX,a=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,a),h=Math.max(s,a),m=t.getIndexInRange(o,f),y=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(r){var s=this.props,a=s.data,o=s.tickFormatter,l=s.dataKey,c=xs(a[r],l,r);return Je(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var s=this.state,a=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,y=c.onChange,p=r.pageX-a;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var x=this.getIndex({startX:o+p,endX:l+p});(x.startIndex!==h||x.endIndex!==m)&&y&&y(x),this.setState({startX:o+p,endX:l+p,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,s){var a=rD(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var s=this.state,a=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,y=d.onChange,p=d.gap,x=d.data,w={startX:this.state.startX,endX:this.state.endX},g=r.pageX-a;g>0?g=Math.min(g,f+h-m-u):g<0&&(g=Math.max(g,f-u)),w[o]=u+g;var b=this.getIndex(w),_=b.startIndex,j=b.endIndex,S=function(){var C=x.length-1;return o==="startX"&&(l>c?_%p===0:j%p===0)||l<c&&j===C||o==="endX"&&(l>c?j%p===0:_%p===0)||l>c&&j===C};this.setState(as(as({},o,u+g),"brushMoveStartX",r.pageX),function(){y&&S()&&y(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,s){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=l.length)){var m=l[h];s==="startX"&&m>=u||s==="endX"&&m<=c||this.setState(as({},s,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,s=r.x,a=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return M.createElement("rect",{stroke:u,fill:c,x:s,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,s=r.x,a=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=v.Children.only(u);return f?M.cloneElement(f,{x:s,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,s){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,y=c.data,p=c.startIndex,x=c.endIndex,w=Math.max(r,this.props.x),g=Q1(Q1({},it(this.props,!1)),{},{x:w,y:u,width:d,height:f}),b=m||"Min value: ".concat((a=y[p])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=y[x])===null||o===void 0?void 0:o.name);return M.createElement(gn,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(r,s){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(r,s)+u,f=Math.max(Math.abs(s-r)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,s=r.startIndex,a=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,m=5,y={pointerEvents:"none",fill:u};return M.createElement(gn,{className:"recharts-brush-texts"},M.createElement(hx,Dx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},y),this.getTextOfTick(s)),M.createElement(hx,Dx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,s=r.data,a=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,y=h.endX,p=h.isTextActive,x=h.isSlideMoving,w=h.isTravellerMoving,g=h.isTravellerFocused;if(!s||!s.length||!ye(l)||!ye(c)||!ye(u)||!ye(d)||u<=0||d<=0)return null;var b=ot("recharts-brush",a),_=M.Children.count(o)===1,j=FRe("userSelect","none");return M.createElement(gn,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(p||x||w||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var s=r.x,a=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(a+l/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:s,y:a,width:o,height:l,fill:c,stroke:"none"}),M.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,s){var a;return M.isValidElement(r)?a=M.cloneElement(r,s):Je(r)?a=r(s):a=t.renderDefaultTraveller(s),a}},{key:"getDerivedStateFromProps",value:function(r,s){var a=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(a!==s.prevData||u!==s.prevUpdateId)return Q1({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?KRe({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(m){return s.scale(m)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(r.startIndex),endX:s.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,s){for(var a=r.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>s?l=c:o=c}return s>=r[l]?l:o}}])}(v.PureComponent);as(Zd,"displayName","Brush");as(Zd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var GRe=bE;function YRe(e,t){var n;return GRe(e,function(r,s,a){return n=t(r,s,a),!n}),!!n}var XRe=YRe,QRe=nz,ZRe=jl,JRe=XRe,eIe=ts,tIe=Nb;function nIe(e,t,n){var r=eIe(e)?QRe:JRe;return n&&tIe(e,t,n)&&(t=void 0),r(e,ZRe(t))}var rIe=nIe;const sIe=Mt(rIe);var ei=function(t,n){var r=t.alwaysShow,s=t.ifOverflow;return r&&(s="extendDomain"),s===n},sD=Sz;function aIe(e,t,n){t=="__proto__"&&sD?sD(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var iIe=aIe,oIe=iIe,lIe=_z,cIe=jl;function uIe(e,t){var n={};return t=cIe(t),lIe(e,function(r,s,a){oIe(n,s,t(r,s,a))}),n}var dIe=uIe;const fIe=Mt(dIe);function hIe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var mIe=hIe,pIe=bE;function gIe(e,t){var n=!0;return pIe(e,function(r,s,a){return n=!!t(r,s,a),n}),n}var yIe=gIe,vIe=mIe,xIe=yIe,bIe=jl,wIe=ts,_Ie=Nb;function jIe(e,t,n){var r=wIe(e)?vIe:xIe;return n&&_Ie(e,t,n)&&(t=void 0),r(e,bIe(t))}var SIe=jIe;const n9=Mt(SIe);var NIe=["x","y"];function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function kN(){return kN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kN.apply(this,arguments)}function aD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ch(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(n),!0).forEach(function(r){CIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CIe(e,t,n){return t=PIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PIe(e){var t=kIe(e,"string");return Ap(t)=="symbol"?t:t+""}function kIe(e,t){if(Ap(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EIe(e,t){if(e==null)return{};var n=AIe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function AIe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function TIe(e,t){var n=e.x,r=e.y,s=EIe(e,NIe),a="".concat(n),o=parseInt(a,10),l="".concat(r),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Ch(Ch(Ch(Ch(Ch({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function iD(e){return M.createElement(mRe,kN({shapeType:"rectangle",propTransformer:TIe,activeClassName:"recharts-active-bar"},e))}var OIe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,s){if(typeof t=="number")return t;var a=ye(r)||Gye(r);return a?t(r,s):(a||$c(),n)}},MIe=["value","background"],r9;function Jd(e){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(e)}function RIe(e,t){if(e==null)return{};var n=IIe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function IIe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fx.apply(this,arguments)}function oD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oD(Object(n),!0).forEach(function(r){Lo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a9(r.key),r)}}function DIe(e,t,n){return t&&lD(e.prototype,t),n&&lD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function LIe(e,t,n){return t=Bx(t),FIe(e,s9()?Reflect.construct(t,n||[],Bx(e).constructor):t.apply(e,n))}function FIe(e,t){if(t&&(Jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BIe(e)}function BIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s9=function(){return!!e})()}function Bx(e){return Bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bx(e)}function VIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EN(e,t)}function EN(e,t){return EN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},EN(e,t)}function Lo(e,t,n){return t=a9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a9(e){var t=UIe(e,"string");return Jd(t)=="symbol"?t:t+""}function UIe(e,t){if(Jd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sg=function(e){function t(){var n;$Ie(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=LIe(this,t,[].concat(s)),Lo(n,"state",{isAnimationFinished:!1}),Lo(n,"id",yg("recharts-bar-")),Lo(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Lo(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return VIe(t,e),DIe(t,[{key:"renderRectanglesStatically",value:function(r){var s=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=it(this.props,!1);return r&&r.map(function(f,h){var m=h===c,y=m?u:o,p=_n(_n(_n({},d),f),{},{isActive:m,option:y,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return M.createElement(gn,Fx({className:"recharts-bar-rectangle"},Jv(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),M.createElement(iD,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,s=this.props,a=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return M.createElement(qi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,p=a.map(function(x,w){var g=h&&h[w];if(g){var b=ga(g.x,x.x),_=ga(g.y,x.y),j=ga(g.width,x.width),S=ga(g.height,x.height);return _n(_n({},x),{},{x:b(y),y:_(y),width:j(y),height:S(y)})}if(o==="horizontal"){var N=ga(0,x.height),C=N(y);return _n(_n({},x),{},{y:x.y+x.height-C,height:C})}var P=ga(0,x.width),k=P(y);return _n(_n({},x),{},{width:k})});return M.createElement(gn,null,r.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var r=this.props,s=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&s&&s.length&&(!o||!Rb(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var r=this,s=this.props,a=s.data,o=s.dataKey,l=s.activeIndex,c=it(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=RIe(u,MIe);if(!f)return null;var m=_n(_n(_n(_n(_n({},h),{},{fill:"#eee"},f),c),Jv(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return M.createElement(iD,Fx({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Vs(d,jg);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(x,w){var g=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:g,errorVal:xs(x,w)}},y={clipPath:r?"url(#clipPath-".concat(s,")"):null};return M.createElement(gn,y,f.map(function(p){return M.cloneElement(p,{key:"error-bar-".concat(s,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,s=r.hide,a=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,m=r.isAnimationActive,y=r.background,p=r.id;if(s||!a||!a.length)return null;var x=this.state.isAnimationFinished,w=ot("recharts-bar",o),g=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,_=g||b,j=nt(p)?this.id:p;return M.createElement(gn,{className:w},g||b?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(j)},M.createElement("rect",{x:g?u:u-f/2,y:b?d:d-h/2,width:g?f:f*2,height:b?h:h*2}))):null,M.createElement(gn,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(j,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,j),(!m||x)&&Qo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:s.curData}:r.data!==s.curData?{curData:r.data}:null}}])}(v.PureComponent);r9=Sg;Lo(Sg,"displayName","Bar");Lo(Sg,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ei.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Lo(Sg,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,s=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=v2e(r,n);if(!m)return null;var y=t.layout,p=n.type.defaultProps,x=p!==void 0?_n(_n({},p),n.props):n.props,w=x.dataKey,g=x.children,b=x.minPointSize,_=y==="horizontal"?o:a,j=u?_.scale.domain():null,S=C2e({numericAxis:_}),N=Vs(g,Tz),C=f.map(function(P,k){var A,E,I,D,V,B;u?A=x2e(u[d+k],j):(A=xs(P,w),Array.isArray(A)||(A=[S,A]));var F=OIe(b,r9.defaultProps.minPointSize)(A[1],k);if(y==="horizontal"){var R,T=[o.scale(A[0]),o.scale(A[1])],O=T[0],W=T[1];E=o$({axis:a,ticks:l,bandSize:s,offset:m.offset,entry:P,index:k}),I=(R=W??O)!==null&&R!==void 0?R:void 0,D=m.size;var $=O-W;if(V=Number.isNaN($)?0:$,B={x:E,y:o.y,width:D,height:o.height},Math.abs(F)>0&&Math.abs(V)<Math.abs(F)){var Y=wa(V||F)*(Math.abs(F)-Math.abs(V));I-=Y,V+=Y}}else{var U=[a.scale(A[0]),a.scale(A[1])],ne=U[0],be=U[1];if(E=ne,I=o$({axis:o,ticks:c,bandSize:s,offset:m.offset,entry:P,index:k}),D=be-ne,V=m.size,B={x:a.x,y:I,width:a.width,height:V},Math.abs(F)>0&&Math.abs(D)<Math.abs(F)){var re=wa(D||F)*(Math.abs(F)-Math.abs(D));D+=re}}return _n(_n(_n({},P),{},{x:E,y:I,width:D,height:V,value:u?A:A[1],payload:P,background:B},N&&N[k]&&N[k].props),{},{tooltipPayload:[DW(n,P)],tooltipPosition:{x:E+D/2,y:I+V/2}})});return _n({data:C,layout:y},h)});function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function zIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i9(r.key),r)}}function WIe(e,t,n){return t&&cD(e.prototype,t),n&&cD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function uD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uD(Object(n),!0).forEach(function(r){Fb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fb(e,t,n){return t=i9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i9(e){var t=HIe(e,"string");return Tp(t)=="symbol"?t:t+""}function HIe(e,t){if(Tp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qIe=function(t,n,r,s,a){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},h=!!os(u,Sg);return d.reduce(function(m,y){var p=n[y],x=p.orientation,w=p.domain,g=p.padding,b=g===void 0?{}:g,_=p.mirror,j=p.reversed,S="".concat(x).concat(_?"Mirror":""),N,C,P,k,A;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var E=w[1]-w[0],I=1/0,D=p.categoricalDomain.sort(Qye);if(D.forEach(function(U,ne){ne>0&&(I=Math.min((U||0)-(D[ne-1]||0),I))}),Number.isFinite(I)){var V=I/E,B=p.layout==="vertical"?r.height:r.width;if(p.padding==="gap"&&(N=V*B/2),p.padding==="no-gap"){var F=Rc(t.barCategoryGap,V*B),R=V*B/2;N=R-F-(R-F)/B*F}}}s==="xAxis"?C=[r.left+(b.left||0)+(N||0),r.left+r.width-(b.right||0)-(N||0)]:s==="yAxis"?C=c==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(N||0),r.top+r.height-(b.bottom||0)-(N||0)]:C=p.range,j&&(C=[C[1],C[0]]);var T=g2e(p,a,h),O=T.scale,W=T.realScaleType;O.domain(w).range(C),y2e(O);var $=N2e(O,ha(ha({},p),{},{realScaleType:W}));s==="xAxis"?(A=x==="top"&&!_||x==="bottom"&&_,P=r.left,k=f[S]-A*p.height):s==="yAxis"&&(A=x==="left"&&!_||x==="right"&&_,P=f[S]-A*p.width,k=r.top);var Y=ha(ha(ha({},p),$),{},{realScaleType:W,x:P,y:k,scale:O,width:s==="xAxis"?r.width:p.width,height:s==="yAxis"?r.height:p.height});return Y.bandSize=Px(Y,$),!p.hide&&s==="xAxis"?f[S]+=(A?-1:1)*Y.height:p.hide||(f[S]+=(A?-1:1)*Y.width),ha(ha({},m),{},Fb({},y,Y))},{})},o9=function(t,n){var r=t.x,s=t.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(s,o),width:Math.abs(a-r),height:Math.abs(o-s)}},KIe=function(t){var n=t.x1,r=t.y1,s=t.x2,a=t.y2;return o9({x:n,y:r},{x:s,y:a})},l9=function(){function e(t){zIe(this,e),this.scale=t}return WIe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),s=r[0],a=r[r.length-1];return s<=a?n>=s&&n<=a:n>=a&&n<=s}}],[{key:"create",value:function(n){return new e(n)}}])}();Fb(l9,"EPS",1e-4);var XE=function(t){var n=Object.keys(t).reduce(function(r,s){return ha(ha({},r),{},Fb({},s,l9.create(t[s])))},{});return ha(ha({},n),{},{apply:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return fIe(s,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return n9(s,function(a,o){return n[o].isInRange(a)})}})};function GIe(e){return(e%180+180)%180}var YIe=function(t){var n=t.width,r=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=GIe(s),o=a*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},XIe=jl,QIe=vg,ZIe=jb;function JIe(e){return function(t,n,r){var s=Object(t);if(!QIe(t)){var a=XIe(n);t=ZIe(t),n=function(l){return a(s[l],l,s)}}var o=e(t,n,r);return o>-1?s[a?t[o]:o]:void 0}}var e$e=JIe,t$e=ZW;function n$e(e){var t=t$e(e),n=t%1;return t===t?n?t-n:t:0}var r$e=n$e,s$e=gz,a$e=jl,i$e=r$e,o$e=Math.max;function l$e(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=n==null?0:i$e(n);return s<0&&(s=o$e(r+s,0)),s$e(e,a$e(t),s)}var c$e=l$e,u$e=e$e,d$e=c$e,f$e=u$e(d$e),h$e=f$e;const m$e=Mt(h$e);var p$e=Zge(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),QE=v.createContext(void 0),ZE=v.createContext(void 0),c9=v.createContext(void 0),u9=v.createContext({}),d9=v.createContext(void 0),f9=v.createContext(0),h9=v.createContext(0),dD=function(t){var n=t.state,r=n.xAxisMap,s=n.yAxisMap,a=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=p$e(a);return M.createElement(QE.Provider,{value:r},M.createElement(ZE.Provider,{value:s},M.createElement(u9.Provider,{value:a},M.createElement(c9.Provider,{value:d},M.createElement(d9.Provider,{value:o},M.createElement(f9.Provider,{value:u},M.createElement(h9.Provider,{value:c},l)))))))},g$e=function(){return v.useContext(d9)},m9=function(t){var n=v.useContext(QE);n==null&&$c();var r=n[t];return r==null&&$c(),r},y$e=function(){var t=v.useContext(QE);return jo(t)},v$e=function(){var t=v.useContext(ZE),n=m$e(t,function(r){return n9(r.domain,Number.isFinite)});return n||jo(t)},p9=function(t){var n=v.useContext(ZE);n==null&&$c();var r=n[t];return r==null&&$c(),r},x$e=function(){var t=v.useContext(c9);return t},b$e=function(){return v.useContext(u9)},JE=function(){return v.useContext(h9)},eA=function(){return v.useContext(f9)};function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function w$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _$e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y9(r.key),r)}}function j$e(e,t,n){return t&&_$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function S$e(e,t,n){return t=Vx(t),N$e(e,g9()?Reflect.construct(t,n||[],Vx(e).constructor):t.apply(e,n))}function N$e(e,t){if(t&&(ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C$e(e)}function C$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g9=function(){return!!e})()}function Vx(e){return Vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vx(e)}function P$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AN(e,t)}function AN(e,t){return AN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},AN(e,t)}function fD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function hD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fD(Object(n),!0).forEach(function(r){tA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tA(e,t,n){return t=y9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y9(e){var t=k$e(e,"string");return ef(t)=="symbol"?t:t+""}function k$e(e,t){if(ef(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E$e(e,t){return M$e(e)||O$e(e,t)||T$e(e,t)||A$e()}function A$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T$e(e,t){if(e){if(typeof e=="string")return mD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mD(e,t)}}function mD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O$e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function M$e(e){if(Array.isArray(e))return e}function TN(){return TN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TN.apply(this,arguments)}var R$e=function(t,n){var r;return M.isValidElement(t)?r=M.cloneElement(t,n):Je(t)?r=t(n):r=M.createElement("line",TN({},n,{className:"recharts-reference-line-line"})),r},I$e=function(t,n,r,s,a,o,l,c,u){var d=a.x,f=a.y,h=a.width,m=a.height;if(r){var y=u.y,p=t.y.apply(y,{position:o});if(ei(u,"discard")&&!t.y.isInRange(p))return null;var x=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?x.reverse():x}if(n){var w=u.x,g=t.x.apply(w,{position:o});if(ei(u,"discard")&&!t.x.isInRange(g))return null;var b=[{x:g,y:f+m},{x:g,y:f}];return l==="top"?b.reverse():b}if(s){var _=u.segment,j=_.map(function(S){return t.apply(S,{position:o})});return ei(u,"discard")&&sIe(j,function(S){return!t.isInRange(S)})?null:j}return null};function $$e(e){var t=e.x,n=e.y,r=e.segment,s=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=g$e(),d=m9(s),f=p9(a),h=x$e();if(!u||!h)return null;ki(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=XE({x:d.scale,y:f.scale}),y=Ln(t),p=Ln(n),x=r&&r.length===2,w=I$e(m,y,p,x,h,e.position,d.orientation,f.orientation,e);if(!w)return null;var g=E$e(w,2),b=g[0],_=b.x,j=b.y,S=g[1],N=S.x,C=S.y,P=ei(e,"hidden")?"url(#".concat(u,")"):void 0,k=hD(hD({clipPath:P},it(e,!0)),{},{x1:_,y1:j,x2:N,y2:C});return M.createElement(gn,{className:ot("recharts-reference-line",l)},R$e(o,k),gr.renderCallByParent(e,KIe({x1:_,y1:j,x2:N,y2:C})))}var nA=function(e){function t(){return w$e(this,t),S$e(this,t,arguments)}return P$e(t,e),j$e(t,[{key:"render",value:function(){return M.createElement($$e,this.props)}}])}(M.Component);tA(nA,"displayName","ReferenceLine");tA(nA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ON(){return ON=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ON.apply(this,arguments)}function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function pD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function gD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pD(Object(n),!0).forEach(function(r){Bb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L$e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x9(r.key),r)}}function F$e(e,t,n){return t&&L$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function B$e(e,t,n){return t=Ux(t),V$e(e,v9()?Reflect.construct(t,n||[],Ux(e).constructor):t.apply(e,n))}function V$e(e,t){if(t&&(tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U$e(e)}function U$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v9=function(){return!!e})()}function Ux(e){return Ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ux(e)}function z$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MN(e,t)}function MN(e,t){return MN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},MN(e,t)}function Bb(e,t,n){return t=x9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x9(e){var t=W$e(e,"string");return tf(t)=="symbol"?t:t+""}function W$e(e,t){if(tf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H$e=function(t){var n=t.x,r=t.y,s=t.xAxis,a=t.yAxis,o=XE({x:s.scale,y:a.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return ei(t,"discard")&&!o.isInRange(l)?null:l},Vb=function(e){function t(){return D$e(this,t),B$e(this,t,arguments)}return z$e(t,e),F$e(t,[{key:"render",value:function(){var r=this.props,s=r.x,a=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=Ln(s),d=Ln(a);if(ki(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=H$e(this.props);if(!f)return null;var h=f.x,m=f.y,y=this.props,p=y.shape,x=y.className,w=ei(this.props,"hidden")?"url(#".concat(c,")"):void 0,g=gD(gD({clipPath:w},it(this.props,!0)),{},{cx:h,cy:m});return M.createElement(gn,{className:ot("recharts-reference-dot",x)},t.renderDot(p,g),gr.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(M.Component);Bb(Vb,"displayName","ReferenceDot");Bb(Vb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Bb(Vb,"renderDot",function(e,t){var n;return M.isValidElement(e)?n=M.cloneElement(e,t):Je(e)?n=e(t):n=M.createElement(YE,ON({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function RN(){return RN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RN.apply(this,arguments)}function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function yD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function vD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yD(Object(n),!0).forEach(function(r){Ub(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K$e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w9(r.key),r)}}function G$e(e,t,n){return t&&K$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y$e(e,t,n){return t=zx(t),X$e(e,b9()?Reflect.construct(t,n||[],zx(e).constructor):t.apply(e,n))}function X$e(e,t){if(t&&(nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q$e(e)}function Q$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b9=function(){return!!e})()}function zx(e){return zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zx(e)}function Z$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IN(e,t)}function IN(e,t){return IN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},IN(e,t)}function Ub(e,t,n){return t=w9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w9(e){var t=J$e(e,"string");return nf(t)=="symbol"?t:t+""}function J$e(e,t){if(nf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eDe=function(t,n,r,s,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=XE({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ei(a,"discard")&&(!h.isInRange(m)||!h.isInRange(y))?null:o9(m,y)},zb=function(e){function t(){return q$e(this,t),Y$e(this,t,arguments)}return Z$e(t,e),G$e(t,[{key:"render",value:function(){var r=this.props,s=r.x1,a=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;ki(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ln(s),h=Ln(a),m=Ln(o),y=Ln(l),p=this.props.shape;if(!f&&!h&&!m&&!y&&!p)return null;var x=eDe(f,h,m,y,this.props);if(!x&&!p)return null;var w=ei(this.props,"hidden")?"url(#".concat(d,")"):void 0;return M.createElement(gn,{className:ot("recharts-reference-area",c)},t.renderRect(p,vD(vD({clipPath:w},it(this.props,!0)),x)),gr.renderCallByParent(this.props,x))}}])}(M.Component);Ub(zb,"displayName","ReferenceArea");Ub(zb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ub(zb,"renderRect",function(e,t){var n;return M.isValidElement(e)?n=M.cloneElement(e,t):Je(e)?n=e(t):n=M.createElement(GE,RN({},t,{className:"recharts-reference-area-rect"})),n});function _9(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],s=0;s<e.length;s+=t)r.push(e[s]);return r}function tDe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return YIe(r,n)}function nDe(e,t,n){var r=n==="width",s=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:r?s:a,end:r?s+o:a+l}:{start:r?s+o:a+l,end:r?s:a}}function Wx(e,t,n,r,s){if(e*t<e*r||e*t>e*s)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-s)<=0}function rDe(e,t){return _9(e,t+1)}function sDe(e,t,n,r,s){for(var a=(r||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var y=r==null?void 0:r[c];if(y===void 0)return{v:_9(r,u)};var p=c,x,w=function(){return x===void 0&&(x=n(y,p)),x},g=y.coordinate,b=c===0||Wx(e,g,w,d,l);b||(c=0,d=o,u+=1),b&&(d=g+e*(w()/2+s),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}function xD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function hr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xD(Object(n),!0).forEach(function(r){aDe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aDe(e,t,n){return t=iDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iDe(e){var t=oDe(e,"string");return Op(t)=="symbol"?t:t+""}function oDe(e,t){if(Op(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lDe(e,t,n,r,s){for(var a=(r||[]).slice(),o=a.length,l=t.start,c=t.end,u=function(h){var m=a[h],y,p=function(){return y===void 0&&(y=n(m,h)),y};if(h===o-1){var x=e*(m.coordinate+e*p()/2-c);a[h]=m=hr(hr({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else a[h]=m=hr(hr({},m),{},{tickCoord:m.coordinate});var w=Wx(e,m.tickCoord,p,l,c);w&&(c=m.tickCoord-e*(p()/2+s),a[h]=hr(hr({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function cDe(e,t,n,r,s,a){var o=(r||[]).slice(),l=o.length,c=t.start,u=t.end;if(a){var d=r[l-1],f=n(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=hr(hr({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Wx(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+s),o[l-1]=hr(hr({},d),{},{isShow:!0}))}for(var y=a?l-1:l,p=function(g){var b=o[g],_,j=function(){return _===void 0&&(_=n(b,g)),_};if(g===0){var S=e*(b.coordinate-e*j()/2-c);o[g]=b=hr(hr({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else o[g]=b=hr(hr({},b),{},{tickCoord:b.coordinate});var N=Wx(e,b.tickCoord,j,c,u);N&&(c=b.tickCoord+e*(j()/2+s),o[g]=hr(hr({},b),{},{isShow:!0}))},x=0;x<y;x++)p(x);return o}function rA(e,t,n){var r=e.tick,s=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!r)return[];if(ye(c)||Ei.isSsr)return rDe(s,typeof c=="number"&&ye(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",y=d&&m==="width"?im(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},p=function(b,_){var j=Je(u)?u(b.value,_):b.value;return m==="width"?tDe(im(j,{fontSize:t,letterSpacing:n}),y,f):im(j,{fontSize:t,letterSpacing:n})[m]},x=s.length>=2?wa(s[1].coordinate-s[0].coordinate):1,w=nDe(a,x,m);return c==="equidistantPreserveStart"?sDe(x,w,p,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=cDe(x,w,p,s,o,c==="preserveStartEnd"):h=lDe(x,w,p,s,o),h.filter(function(g){return g.isShow}))}var uDe=["viewBox"],dDe=["viewBox"],fDe=["ticks"];function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}function Gu(){return Gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gu.apply(this,arguments)}function bD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bD(Object(n),!0).forEach(function(r){sA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z1(e,t){if(e==null)return{};var n=hDe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function hDe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function mDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S9(r.key),r)}}function pDe(e,t,n){return t&&wD(e.prototype,t),n&&wD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gDe(e,t,n){return t=Hx(t),yDe(e,j9()?Reflect.construct(t,n||[],Hx(e).constructor):t.apply(e,n))}function yDe(e,t){if(t&&(rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vDe(e)}function vDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j9=function(){return!!e})()}function Hx(e){return Hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hx(e)}function xDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$N(e,t)}function $N(e,t){return $N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},$N(e,t)}function sA(e,t,n){return t=S9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S9(e){var t=bDe(e,"string");return rf(t)=="symbol"?t:t+""}function bDe(e,t){if(rf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kf=function(e){function t(n){var r;return mDe(this,t),r=gDe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return xDe(t,e),pDe(t,[{key:"shouldComponentUpdate",value:function(r,s){var a=r.viewBox,o=Z1(r,uDe),l=this.props,c=l.viewBox,u=Z1(l,dDe);return!od(a,c)||!od(o,u)||!od(s,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var s=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var s=this.props,a=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,m,y,p,x,w,g,b=f?-1:1,_=r.tickSize||d,j=ye(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=y=r.coordinate,x=o+ +!f*c,p=x-b*_,g=p-b*h,w=j;break;case"left":p=x=r.coordinate,y=a+ +!f*l,m=y-b*_,w=m-b*h,g=j;break;case"right":p=x=r.coordinate,y=a+ +f*l,m=y+b*_,w=m+b*h,g=j;break;default:m=y=r.coordinate,x=o+ +f*c,p=x+b*_,g=p+b*h,w=j;break}return{line:{x1:m,y1:p,x2:y,y2:x},tick:{x:w,y:g}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,s=r.orientation,a=r.mirror,o;switch(s){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,s=r.orientation,a=r.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.x,a=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=An(An(An({},it(this.props,!1)),it(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=An(An({},f),{},{x1:s,y1:a+h*l,x2:s+o,y2:a+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=An(An({},f),{},{x1:s+m*o,y1:a,x2:s+m*o,y2:a+l})}return M.createElement("line",Gu({},f,{className:ot("recharts-cartesian-axis-line",Bs(d,"className"))}))}},{key:"renderTicks",value:function(r,s,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=rA(An(An({},this.props),{},{ticks:r}),s,a),y=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),x=it(this.props,!1),w=it(d,!1),g=An(An({},x),{},{fill:"none"},it(c,!1)),b=m.map(function(_,j){var S=o.getTickLineCoord(_),N=S.line,C=S.tick,P=An(An(An(An({textAnchor:y,verticalAnchor:p},x),{},{stroke:"none",fill:u},w),C),{},{index:j,payload:_,visibleTicksCount:m.length,tickFormatter:f});return M.createElement(gn,Gu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Jv(o.props,_,j)),c&&M.createElement("line",Gu({},g,N,{className:ot("recharts-cartesian-axis-tick-line",Bs(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(Je(f)?f(_.value,j):_.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,s=this.props,a=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,m=Z1(f,fDe),y=h;return Je(c)&&(y=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!y||!y.length?null:M.createElement(gn,{className:ot("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),gr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,s,a){var o,l=ot(s.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(r)?o=M.cloneElement(r,An(An({},s),{},{className:l})):Je(r)?o=r(An(An({},s),{},{className:l})):o=M.createElement(hx,Gu({},s,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(v.Component);sA(Kf,"displayName","CartesianAxis");sA(Kf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var wDe=["x1","y1","x2","y2","key"],_De=["offset"];function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function _D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_D(Object(n),!0).forEach(function(r){jDe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jDe(e,t,n){return t=SDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SDe(e){var t=NDe(e,"string");return Dc(t)=="symbol"?t:t+""}function NDe(e,t){if(Dc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nc.apply(this,arguments)}function jD(e,t){if(e==null)return{};var n=CDe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function CDe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var PDe=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return M.createElement("rect",{x:s,y:a,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function N9(e,t){var n;if(M.isValidElement(e))n=M.cloneElement(e,t);else if(Je(e))n=e(t);else{var r=t.x1,s=t.y1,a=t.x2,o=t.y2,l=t.key,c=jD(t,wDe),u=it(c,!1);u.offset;var d=jD(u,_De);n=M.createElement("line",nc({},d,{x1:r,y1:s,x2:a,y2:o,fill:"none",key:l}))}return n}function kDe(e){var t=e.x,n=e.width,r=e.horizontal,s=r===void 0?!0:r,a=e.horizontalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=yr(yr({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return N9(s,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function EDe(e){var t=e.y,n=e.height,r=e.vertical,s=r===void 0?!0:r,a=e.verticalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=yr(yr({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return N9(s,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function ADe(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,s=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var y=!d[m+1],p=y?s+o-h:d[m+1]-h;if(p<=0)return null;var x=m%t.length;return M.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:p,width:a,stroke:"none",fill:t[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function TDe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,s=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var y=!d[m+1],p=y?a+l-h:d[m+1]-h;if(p<=0)return null;var x=m%r.length;return M.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:r[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var ODe=function(t,n){var r=t.xAxis,s=t.width,a=t.height,o=t.offset;return IW(rA(yr(yr(yr({},Kf.defaultProps),r),{},{ticks:Ni(r,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.left,o.left+o.width,n)},MDe=function(t,n){var r=t.yAxis,s=t.width,a=t.height,o=t.offset;return IW(rA(yr(yr(yr({},Kf.defaultProps),r),{},{ticks:Ni(r,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.top,o.top+o.height,n)},vu={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function C9(e){var t,n,r,s,a,o,l=JE(),c=eA(),u=b$e(),d=yr(yr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:vu.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:vu.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:vu.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:vu.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:vu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:vu.verticalFill,x:ye(e.x)?e.x:u.left,y:ye(e.y)?e.y:u.top,width:ye(e.width)?e.width:u.width,height:ye(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,y=d.height,p=d.syncWithTicks,x=d.horizontalValues,w=d.verticalValues,g=y$e(),b=v$e();if(!ye(m)||m<=0||!ye(y)||y<=0||!ye(f)||f!==+f||!ye(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||ODe,j=d.horizontalCoordinatesGenerator||MDe,S=d.horizontalPoints,N=d.verticalPoints;if((!S||!S.length)&&Je(j)){var C=x&&x.length,P=j({yAxis:b?yr(yr({},b),{},{ticks:C?x:b.ticks}):void 0,width:l,height:c,offset:u},C?!0:p);ki(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Dc(P),"]")),Array.isArray(P)&&(S=P)}if((!N||!N.length)&&Je(_)){var k=w&&w.length,A=_({xAxis:g?yr(yr({},g),{},{ticks:k?w:g.ticks}):void 0,width:l,height:c,offset:u},k?!0:p);ki(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Dc(A),"]")),Array.isArray(A)&&(N=A)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(PDe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),M.createElement(kDe,nc({},d,{offset:u,horizontalPoints:S,xAxis:g,yAxis:b})),M.createElement(EDe,nc({},d,{offset:u,verticalPoints:N,xAxis:g,yAxis:b})),M.createElement(ADe,nc({},d,{horizontalPoints:S})),M.createElement(TDe,nc({},d,{verticalPoints:N})))}C9.displayName="CartesianGrid";var RDe=["type","layout","connectNulls","ref"],IDe=["key"];function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}function SD(e,t){if(e==null)return{};var n=$De(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $De(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function um(){return um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},um.apply(this,arguments)}function ND(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ss(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ND(Object(n),!0).forEach(function(r){ma(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xu(e){return BDe(e)||FDe(e)||LDe(e)||DDe()}function DDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LDe(e,t){if(e){if(typeof e=="string")return DN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DN(e,t)}}function FDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BDe(e){if(Array.isArray(e))return DN(e)}function DN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function VDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k9(r.key),r)}}function UDe(e,t,n){return t&&CD(e.prototype,t),n&&CD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zDe(e,t,n){return t=qx(t),WDe(e,P9()?Reflect.construct(t,n||[],qx(e).constructor):t.apply(e,n))}function WDe(e,t){if(t&&(sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HDe(e)}function HDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P9=function(){return!!e})()}function qx(e){return qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qx(e)}function qDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LN(e,t)}function LN(e,t){return LN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},LN(e,t)}function ma(e,t,n){return t=k9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k9(e){var t=KDe(e,"string");return sf(t)=="symbol"?t:t+""}function KDe(e,t){if(sf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var af=function(e){function t(){var n;VDe(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=zDe(this,t,[].concat(s)),ma(n,"state",{isAnimationFinished:!0,totalLength:0}),ma(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ma(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(w,g){return w+g});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],y=0,p=0;y<c.length;p+=c[y],++y)if(p+c[y]>f){m=[].concat(xu(c.slice(0,y)),[f-p]);break}var x=m.length%2===0?[0,h]:[h];return[].concat(xu(t.repeat(c,d)),xu(m),x).map(function(w){return"".concat(w,"px")}).join(", ")}),ma(n,"id",yg("recharts-line-")),ma(n,"pathRef",function(o){n.mainCurve=o}),ma(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ma(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return qDe(t,e),UDe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Vs(d,jg);if(!f)return null;var h=function(p,x){return{x:p.x,y:p.y,value:p.value,errorVal:xs(p.payload,x)}},m={clipPath:r?"url(#clipPath-".concat(s,")"):null};return M.createElement(gn,m,f.map(function(y){return M.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,s,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=it(this.props,!1),h=it(c,!0),m=u.map(function(p,x){var w=ss(ss(ss({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:u});return t.renderDotItem(c,w)}),y={clipPath:r?"url(#clipPath-".concat(s?"":"dots-").concat(a,")"):null};return M.createElement(gn,um({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(r,s,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=SD(l,RDe),h=ss(ss(ss({},it(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:d});return M.createElement(pN,um({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,s){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,y=o.animateNewValues,p=o.width,x=o.height,w=this.state,g=w.prevPoints,b=w.totalLength;return M.createElement(qi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var j=_.t;if(g){var S=g.length/l.length,N=l.map(function(E,I){var D=Math.floor(I*S);if(g[D]){var V=g[D],B=ga(V.x,E.x),F=ga(V.y,E.y);return ss(ss({},E),{},{x:B(j),y:F(j)})}if(y){var R=ga(p*2,E.x),T=ga(x/2,E.y);return ss(ss({},E),{},{x:R(j),y:T(j)})}return ss(ss({},E),{},{x:E.x,y:E.y})});return a.renderCurveStatically(N,r,s)}var C=ga(0,b),P=C(j),k;if(c){var A="".concat(c).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});k=a.getStrokeDasharray(P,b,A)}else k=a.generateSimpleStrokeDasharray(b,P);return a.renderCurveStatically(l,r,s,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,s){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Rb(u,o))?this.renderCurveWithAnimation(r,s):this.renderCurveStatically(o,r,s)}},{key:"render",value:function(){var r,s=this.props,a=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,d=s.yAxis,f=s.top,h=s.left,m=s.width,y=s.height,p=s.isAnimationActive,x=s.id;if(a||!l||!l.length)return null;var w=this.state.isAnimationFinished,g=l.length===1,b=ot("recharts-line",c),_=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,S=_||j,N=nt(x)?this.id:x,C=(r=it(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=C.r,k=P===void 0?3:P,A=C.strokeWidth,E=A===void 0?2:A,I=ive(o)?o:{},D=I.clipDot,V=D===void 0?!0:D,B=k*2+E;return M.createElement(gn,{className:b},_||j?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(N)},M.createElement("rect",{x:_?h:h-m/2,y:j?f:f-y/2,width:_?m:m*2,height:j?y:y*2})),!V&&M.createElement("clipPath",{id:"clipPath-dots-".concat(N)},M.createElement("rect",{x:h-B/2,y:f-B/2,width:m+B,height:y+B}))):null,!g&&this.renderCurve(S,N),this.renderErrorBar(S,N),(g||o)&&this.renderDots(S,V,N),(!p||w)&&Qo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:s.curPoints}:r.points!==s.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,s){for(var a=r.length%2!==0?[].concat(xu(r),[0]):r,o=[],l=0;l<s;++l)o=[].concat(xu(o),xu(a));return o}},{key:"renderDotItem",value:function(r,s){var a;if(M.isValidElement(r))a=M.cloneElement(r,s);else if(Je(r))a=r(s);else{var o=s.key,l=SD(s,IDe),c=ot("recharts-line-dot",typeof r!="boolean"?r.className:"");a=M.createElement(YE,um({key:o},l,{className:c}))}return a}}])}(v.PureComponent);ma(af,"displayName","Line");ma(af,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ei.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ma(af,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,s=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var y=xs(h,o);return d==="horizontal"?{x:i$({axis:n,ticks:s,bandSize:l,entry:h,index:m}),y:nt(y)?null:r.scale(y),value:y,payload:h}:{x:nt(y)?null:n.scale(y),y:i$({axis:r,ticks:a,bandSize:l,entry:h,index:m}),value:y,payload:h}});return ss({points:f,layout:d},u)});function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}function GDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YDe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T9(r.key),r)}}function XDe(e,t,n){return t&&YDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QDe(e,t,n){return t=Kx(t),ZDe(e,E9()?Reflect.construct(t,n||[],Kx(e).constructor):t.apply(e,n))}function ZDe(e,t){if(t&&(of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JDe(e)}function JDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E9=function(){return!!e})()}function Kx(e){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kx(e)}function e4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FN(e,t)}function FN(e,t){return FN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},FN(e,t)}function A9(e,t,n){return t=T9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T9(e){var t=t4e(e,"string");return of(t)=="symbol"?t:t+""}function t4e(e,t){if(of(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BN(){return BN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BN.apply(this,arguments)}function n4e(e){var t=e.xAxisId,n=JE(),r=eA(),s=m9(t);return s==null?null:v.createElement(Kf,BN({},s,{className:ot("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Ni(o,!0)}}))}var Wb=function(e){function t(){return GDe(this,t),QDe(this,t,arguments)}return e4e(t,e),XDe(t,[{key:"render",value:function(){return v.createElement(n4e,this.props)}}])}(v.Component);A9(Wb,"displayName","XAxis");A9(Wb,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function r4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s4e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,R9(r.key),r)}}function a4e(e,t,n){return t&&s4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i4e(e,t,n){return t=Gx(t),o4e(e,O9()?Reflect.construct(t,n||[],Gx(e).constructor):t.apply(e,n))}function o4e(e,t){if(t&&(lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l4e(e)}function l4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O9=function(){return!!e})()}function Gx(e){return Gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gx(e)}function c4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VN(e,t)}function VN(e,t){return VN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},VN(e,t)}function M9(e,t,n){return t=R9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R9(e){var t=u4e(e,"string");return lf(t)=="symbol"?t:t+""}function u4e(e,t){if(lf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UN(){return UN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UN.apply(this,arguments)}var d4e=function(t){var n=t.yAxisId,r=JE(),s=eA(),a=p9(n);return a==null?null:v.createElement(Kf,UN({},a,{className:ot("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(l){return Ni(l,!0)}}))},Hb=function(e){function t(){return r4e(this,t),i4e(this,t,arguments)}return c4e(t,e),a4e(t,[{key:"render",value:function(){return v.createElement(d4e,this.props)}}])}(v.Component);M9(Hb,"displayName","YAxis");M9(Hb,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function PD(e){return p4e(e)||m4e(e)||h4e(e)||f4e()}function f4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h4e(e,t){if(e){if(typeof e=="string")return zN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zN(e,t)}}function m4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function p4e(e){if(Array.isArray(e))return zN(e)}function zN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var WN=function(t,n,r,s,a){var o=Vs(t,nA),l=Vs(t,Vb),c=[].concat(PD(o),PD(l)),u=Vs(t,zb),d="".concat(s,"Id"),f=s[0],h=n;if(c.length&&(h=c.reduce(function(p,x){if(x.props[d]===r&&ei(x.props,"extendDomain")&&ye(x.props[f])){var w=x.props[f];return[Math.min(p[0],w),Math.max(p[1],w)]}return p},h)),u.length){var m="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(p,x){if(x.props[d]===r&&ei(x.props,"extendDomain")&&ye(x.props[m])&&ye(x.props[y])){var w=x.props[m],g=x.props[y];return[Math.min(p[0],w,g),Math.max(p[1],w,g)]}return p},h)}return a&&a.length&&(h=a.reduce(function(p,x){return ye(x)?[Math.min(p[0],x),Math.max(p[1],x)]:p},h)),h},I9={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,f||c,h),y=n?n+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,y=new Array(m);h<m;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,y){var p=n?n+u:u;if(!this._events[p])return!1;var x=this._events[p],w=arguments.length,g,b;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,m),!0;case 6:return x.fn.call(x.context,d,f,h,m,y),!0}for(b=1,g=new Array(w-1);b<w;b++)g[b-1]=arguments[b];x.fn.apply(x.context,g)}else{var _=x.length,j;for(b=0;b<_;b++)switch(x[b].once&&this.removeListener(u,x[b].fn,void 0,!0),w){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,d);break;case 3:x[b].fn.call(x[b].context,d,f);break;case 4:x[b].fn.call(x[b].context,d,f,h);break;default:if(!g)for(j=1,g=new Array(w-1);j<w;j++)g[j-1]=arguments[j];x[b].fn.apply(x[b].context,g)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&o(this,m);else{for(var p=0,x=[],w=y.length;p<w;p++)(y[p].fn!==d||h&&!y[p].once||f&&y[p].context!==f)&&x.push(y[p]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(I9);var g4e=I9.exports;const y4e=Mt(g4e);var J1=new y4e,e_="recharts.syncMouseEvents";function Mp(e){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mp(e)}function v4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x4e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$9(r.key),r)}}function b4e(e,t,n){return t&&x4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t_(e,t,n){return t=$9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $9(e){var t=w4e(e,"string");return Mp(t)=="symbol"?t:t+""}function w4e(e,t){if(Mp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _4e=function(){function e(){v4e(this,e),t_(this,"activeIndex",0),t_(this,"coordinateList",[]),t_(this,"layout","horizontal")}return b4e(e,[{key:"setDetails",value:function(n){var r,s=n.coordinateList,a=s===void 0?null:s,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),a=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function j4e(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],s=e==null?void 0:e[1];if(r&&s&&ye(r)&&ye(s))return!0}return!1}function S4e(e,t,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function D9(e){var t=e.cx,n=e.cy,r=e.radius,s=e.startAngle,a=e.endAngle,o=or(t,n,r,s),l=or(t,n,r,a);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:s,endAngle:a}}function N4e(e,t,n){var r,s,a,o;if(e==="horizontal")r=t.x,a=r,s=n.top,o=n.top+n.height;else if(e==="vertical")s=t.y,o=s,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=or(l,c,u,f),m=or(l,c,d,f);r=h.x,s=h.y,a=m.x,o=m.y}else return D9(t);return[{x:r,y:s},{x:a,y:o}]}function Rp(e){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rp(e)}function kD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Sy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kD(Object(n),!0).forEach(function(r){C4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C4e(e,t,n){return t=P4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P4e(e){var t=k4e(e,"string");return Rp(t)=="symbol"?t:t+""}function k4e(e,t){if(Rp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E4e(e){var t,n,r=e.element,s=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!a||!o||h!=="ScatterChart"&&s!=="axis")return null;var y,p=pN;if(h==="ScatterChart")y=o,p=kMe;else if(h==="BarChart")y=S4e(f,o,c,d),p=GE;else if(f==="radial"){var x=D9(o),w=x.cx,g=x.cy,b=x.radius,_=x.startAngle,j=x.endAngle;y={cx:w,cy:g,startAngle:_,endAngle:j,innerRadius:b,outerRadius:b},p=BW}else y={points:N4e(f,o,c)},p=pN;var S=Sy(Sy(Sy(Sy({stroke:"#ccc",pointerEvents:"none"},c),y),it(m,!1)),{},{payload:l,payloadIndex:u,className:ot("recharts-tooltip-cursor",m.className)});return v.isValidElement(m)?v.cloneElement(m,S):v.createElement(p,S)}var A4e=["item"],T4e=["children","className","width","height","style","compact","title","desc"];function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yu.apply(this,arguments)}function ED(e,t){return R4e(e)||M4e(e,t)||F9(e,t)||O4e()}function O4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M4e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function R4e(e){if(Array.isArray(e))return e}function AD(e,t){if(e==null)return{};var n=I4e(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function I4e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function $4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D4e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,B9(r.key),r)}}function L4e(e,t,n){return t&&D4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F4e(e,t,n){return t=Yx(t),B4e(e,L9()?Reflect.construct(t,n||[],Yx(e).constructor):t.apply(e,n))}function B4e(e,t){if(t&&(cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V4e(e)}function V4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L9=function(){return!!e})()}function Yx(e){return Yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yx(e)}function U4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HN(e,t)}function HN(e,t){return HN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},HN(e,t)}function uf(e){return H4e(e)||W4e(e)||F9(e)||z4e()}function z4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F9(e,t){if(e){if(typeof e=="string")return qN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qN(e,t)}}function W4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function H4e(e){if(Array.isArray(e))return qN(e)}function qN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TD(Object(n),!0).forEach(function(r){Le(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Le(e,t,n){return t=B9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B9(e){var t=q4e(e,"string");return cf(t)=="symbol"?t:t+""}function q4e(e,t){if(cf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K4e={xAxis:["bottom","top"],yAxis:["left","right"]},G4e={width:"100%",height:"100%"},V9={x:0,y:0};function Ny(e){return e}var Y4e=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},X4e=function(t,n,r,s){var a=n.find(function(d){return d&&d.index===r});if(a){if(t==="horizontal")return{x:a.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=s.radius;return Q(Q(Q({},s),or(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=s.angle;return Q(Q(Q({},s),or(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return V9},qb=function(t,n){var r=n.graphicalItems,s=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(uf(l),uf(u)):l},[]);return o.length>0?o:t&&t.length&&ye(s)&&ye(a)?t.slice(s,a+1):[]};function U9(e){return e==="number"?[0,"auto"]:void 0}var KN=function(t,n,r,s){var a=t.graphicalItems,o=t.tooltipAxis,l=qb(n,t);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=Qv(m,o.dataKey,s)}else h=f&&f[r]||l[r];return h?[].concat(uf(c),[DW(u,h)]):c},[])},OD=function(t,n,r,s){var a=s||{x:t.chartX,y:t.chartY},o=Y4e(a,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=u2e(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=KN(t,n,d,f),m=X4e(r,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},Q4e=function(t,n){var r=n.axes,s=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=RW(d,a);return r.reduce(function(y,p){var x,w=p.type.defaultProps!==void 0?Q(Q({},p.type.defaultProps),p.props):p.props,g=w.type,b=w.dataKey,_=w.allowDataOverflow,j=w.allowDuplicatedCategory,S=w.scale,N=w.ticks,C=w.includeHidden,P=w[o];if(y[P])return y;var k=qb(t.data,{graphicalItems:s.filter(function($){var Y,U=o in $.props?$.props[o]:(Y=$.type.defaultProps)===null||Y===void 0?void 0:Y[o];return U===P}),dataStartIndex:c,dataEndIndex:u}),A=k.length,E,I,D;j4e(w.domain,_,g)&&(E=uN(w.domain,null,_),m&&(g==="number"||S!=="auto")&&(D=lm(k,b,"category")));var V=U9(g);if(!E||E.length===0){var B,F=(B=w.domain)!==null&&B!==void 0?B:V;if(b){if(E=lm(k,b,g),g==="category"&&m){var R=Xye(E);j&&R?(I=E,E=$x(0,A)):j||(E=u$(F,E,p).reduce(function($,Y){return $.indexOf(Y)>=0?$:[].concat(uf($),[Y])},[]))}else if(g==="category")j?E=E.filter(function($){return $!==""&&!nt($)}):E=u$(F,E,p).reduce(function($,Y){return $.indexOf(Y)>=0||Y===""||nt(Y)?$:[].concat(uf($),[Y])},[]);else if(g==="number"){var T=p2e(k,s.filter(function($){var Y,U,ne=o in $.props?$.props[o]:(Y=$.type.defaultProps)===null||Y===void 0?void 0:Y[o],be="hide"in $.props?$.props.hide:(U=$.type.defaultProps)===null||U===void 0?void 0:U.hide;return ne===P&&(C||!be)}),b,a,d);T&&(E=T)}m&&(g==="number"||S!=="auto")&&(D=lm(k,b,"category"))}else m?E=$x(0,A):l&&l[P]&&l[P].hasStack&&g==="number"?E=h==="expand"?[0,1]:$W(l[P].stackGroups,c,u):E=MW(k,s.filter(function($){var Y=o in $.props?$.props[o]:$.type.defaultProps[o],U="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return Y===P&&(C||!U)}),g,d,!0);if(g==="number")E=WN(f,E,P,a,N),F&&(E=uN(F,E,_));else if(g==="category"&&F){var O=F,W=E.every(function($){return O.indexOf($)>=0});W&&(E=O)}}return Q(Q({},y),{},Le({},P,Q(Q({},w),{},{axisType:a,domain:E,categoricalDomain:D,duplicateDomain:I,originalDomain:(x=w.domain)!==null&&x!==void 0?x:V,isCategorical:m,layout:d})))},{})},Z4e=function(t,n){var r=n.graphicalItems,s=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,h=qb(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),m=h.length,y=RW(d,a),p=-1;return r.reduce(function(x,w){var g=w.type.defaultProps!==void 0?Q(Q({},w.type.defaultProps),w.props):w.props,b=g[o],_=U9("number");if(!x[b]){p++;var j;return y?j=$x(0,m):l&&l[b]&&l[b].hasStack?(j=$W(l[b].stackGroups,c,u),j=WN(f,j,b,a)):(j=uN(_,MW(h,r.filter(function(S){var N,C,P=o in S.props?S.props[o]:(N=S.type.defaultProps)===null||N===void 0?void 0:N[o],k="hide"in S.props?S.props.hide:(C=S.type.defaultProps)===null||C===void 0?void 0:C.hide;return P===b&&!k}),"number",d),s.defaultProps.allowDataOverflow),j=WN(f,j,b,a)),Q(Q({},x),{},Le({},b,Q(Q({axisType:a},s.defaultProps),{},{hide:!0,orientation:Bs(K4e,"".concat(a,".").concat(p%2),null),domain:j,originalDomain:_,isCategorical:y,layout:d})))}return x},{})},J4e=function(t,n){var r=n.axisType,s=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=Vs(d,a),m={};return h&&h.length?m=Q4e(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=Z4e(t,{Axis:a,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},e5e=function(t){var n=jo(t),r=Ni(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:wE(r,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Px(n,r)}},MD=function(t){var n=t.children,r=t.defaultShowTooltip,s=os(n,Zd),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(a=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},t5e=function(t){return!t||!t.length?!1:t.some(function(n){var r=Pi(n&&n.type);return r&&r.indexOf("Bar")>=0})},RD=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},n5e=function(t,n){var r=t.props,s=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,h=r.margin||{},m=os(f,Zd),y=os(f,ld),p=Object.keys(c).reduce(function(j,S){var N=c[S],C=N.orientation;return!N.mirror&&!N.hide?Q(Q({},j),{},Le({},C,j[C]+N.width)):j},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(j,S){var N=o[S],C=N.orientation;return!N.mirror&&!N.hide?Q(Q({},j),{},Le({},C,Bs(j,"".concat(C))+N.height)):j},{top:h.top||0,bottom:h.bottom||0}),w=Q(Q({},x),p),g=w.bottom;m&&(w.bottom+=m.props.height||Zd.defaultProps.height),y&&n&&(w=h2e(w,s,r,n));var b=u-w.left-w.right,_=d-w.top-w.bottom;return Q(Q({brushBottom:g},w),{},{width:Math.max(b,0),height:Math.max(_,0)})},r5e=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},s5e=function(t){var n=t.chartName,r=t.GraphicalChild,s=t.defaultTooltipEventType,a=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(w,g){var b=g.graphicalItems,_=g.stackGroups,j=g.offset,S=g.updateId,N=g.dataStartIndex,C=g.dataEndIndex,P=w.barSize,k=w.layout,A=w.barGap,E=w.barCategoryGap,I=w.maxBarSize,D=RD(k),V=D.numericAxisName,B=D.cateAxisName,F=t5e(b),R=[];return b.forEach(function(T,O){var W=qb(w.data,{graphicalItems:[T],dataStartIndex:N,dataEndIndex:C}),$=T.type.defaultProps!==void 0?Q(Q({},T.type.defaultProps),T.props):T.props,Y=$.dataKey,U=$.maxBarSize,ne=$["".concat(V,"Id")],be=$["".concat(B,"Id")],re={},Me=c.reduce(function(H,X){var fe=g["".concat(X.axisType,"Map")],de=$["".concat(X.axisType,"Id")];fe&&fe[de]||X.axisType==="zAxis"||$c();var oe=fe[de];return Q(Q({},H),{},Le(Le({},X.axisType,oe),"".concat(X.axisType,"Ticks"),Ni(oe)))},re),te=Me[B],J=Me["".concat(B,"Ticks")],ae=_&&_[ne]&&_[ne].hasStack&&P2e(T,_[ne].stackGroups),K=Pi(T.type).indexOf("Bar")>=0,Se=Px(te,J),q=[],se=F&&d2e({barSize:P,stackGroups:_,totalSize:r5e(Me,B)});if(K){var ve,ke,ze=nt(U)?I:U,$e=(ve=(ke=Px(te,J,!0))!==null&&ke!==void 0?ke:ze)!==null&&ve!==void 0?ve:0;q=f2e({barGap:A,barCategoryGap:E,bandSize:$e!==Se?$e:Se,sizeList:se[be],maxBarSize:ze}),$e!==Se&&(q=q.map(function(H){return Q(Q({},H),{},{position:Q(Q({},H.position),{},{offset:H.position.offset-$e/2})})}))}var L=T&&T.type&&T.type.getComposedData;L&&R.push({props:Q(Q({},L(Q(Q({},Me),{},{displayedData:W,props:w,dataKey:Y,item:T,bandSize:Se,barPosition:q,offset:j,stackedData:ae,layout:k,dataStartIndex:N,dataEndIndex:C}))),{},Le(Le(Le({key:T.key||"item-".concat(O)},V,Me[V]),B,Me[B]),"animationId",S)),childIndex:cve(T,w.children),item:T})}),R},m=function(w,g){var b=w.props,_=w.dataStartIndex,j=w.dataEndIndex,S=w.updateId;if(!rR({props:b}))return null;var N=b.children,C=b.layout,P=b.stackOffset,k=b.data,A=b.reverseStackOrder,E=RD(C),I=E.numericAxisName,D=E.cateAxisName,V=Vs(N,r),B=S2e(k,V,"".concat(I,"Id"),"".concat(D,"Id"),P,A),F=c.reduce(function($,Y){var U="".concat(Y.axisType,"Map");return Q(Q({},$),{},Le({},U,J4e(b,Q(Q({},Y),{},{graphicalItems:V,stackGroups:Y.axisType===I&&B,dataStartIndex:_,dataEndIndex:j}))))},{}),R=n5e(Q(Q({},F),{},{props:b,graphicalItems:V}),g==null?void 0:g.legendBBox);Object.keys(F).forEach(function($){F[$]=d(b,F[$],R,$.replace("Map",""),n)});var T=F["".concat(D,"Map")],O=e5e(T),W=h(b,Q(Q({},F),{},{dataStartIndex:_,dataEndIndex:j,updateId:S,graphicalItems:V,stackGroups:B,offset:R}));return Q(Q({formattedGraphicalItems:W,graphicalItems:V,offset:R,stackGroups:B},O),F)},y=function(x){function w(g){var b,_,j;return $4e(this,w),j=F4e(this,w,[g]),Le(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Le(j,"accessibilityManager",new _4e),Le(j,"handleLegendBBoxUpdate",function(S){if(S){var N=j.state,C=N.dataStartIndex,P=N.dataEndIndex,k=N.updateId;j.setState(Q({legendBBox:S},m({props:j.props,dataStartIndex:C,dataEndIndex:P,updateId:k},Q(Q({},j.state),{},{legendBBox:S}))))}}),Le(j,"handleReceiveSyncEvent",function(S,N,C){if(j.props.syncId===S){if(C===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(N)}}),Le(j,"handleBrushChange",function(S){var N=S.startIndex,C=S.endIndex;if(N!==j.state.dataStartIndex||C!==j.state.dataEndIndex){var P=j.state.updateId;j.setState(function(){return Q({dataStartIndex:N,dataEndIndex:C},m({props:j.props,dataStartIndex:N,dataEndIndex:C,updateId:P},j.state))}),j.triggerSyncEvent({dataStartIndex:N,dataEndIndex:C})}}),Le(j,"handleMouseEnter",function(S){var N=j.getMouseInfo(S);if(N){var C=Q(Q({},N),{},{isTooltipActive:!0});j.setState(C),j.triggerSyncEvent(C);var P=j.props.onMouseEnter;Je(P)&&P(C,S)}}),Le(j,"triggeredAfterMouseMove",function(S){var N=j.getMouseInfo(S),C=N?Q(Q({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(C),j.triggerSyncEvent(C);var P=j.props.onMouseMove;Je(P)&&P(C,S)}),Le(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Le(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Le(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),Le(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var C=j.props.onMouseLeave;Je(C)&&C(N,S)}),Le(j,"handleOuterEvent",function(S){var N=lve(S),C=Bs(j.props,"".concat(N));if(N&&Je(C)){var P,k;/.*touch.*/i.test(N)?k=j.getMouseInfo(S.changedTouches[0]):k=j.getMouseInfo(S),C((P=k)!==null&&P!==void 0?P:{},S)}}),Le(j,"handleClick",function(S){var N=j.getMouseInfo(S);if(N){var C=Q(Q({},N),{},{isTooltipActive:!0});j.setState(C),j.triggerSyncEvent(C);var P=j.props.onClick;Je(P)&&P(C,S)}}),Le(j,"handleMouseDown",function(S){var N=j.props.onMouseDown;if(Je(N)){var C=j.getMouseInfo(S);N(C,S)}}),Le(j,"handleMouseUp",function(S){var N=j.props.onMouseUp;if(Je(N)){var C=j.getMouseInfo(S);N(C,S)}}),Le(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Le(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),Le(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),Le(j,"handleDoubleClick",function(S){var N=j.props.onDoubleClick;if(Je(N)){var C=j.getMouseInfo(S);N(C,S)}}),Le(j,"handleContextMenu",function(S){var N=j.props.onContextMenu;if(Je(N)){var C=j.getMouseInfo(S);N(C,S)}}),Le(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&J1.emit(e_,j.props.syncId,S,j.eventEmitterSymbol)}),Le(j,"applySyncEvent",function(S){var N=j.props,C=N.layout,P=N.syncMethod,k=j.state.updateId,A=S.dataStartIndex,E=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(Q({dataStartIndex:A,dataEndIndex:E},m({props:j.props,dataStartIndex:A,dataEndIndex:E,updateId:k},j.state)));else if(S.activeTooltipIndex!==void 0){var I=S.chartX,D=S.chartY,V=S.activeTooltipIndex,B=j.state,F=B.offset,R=B.tooltipTicks;if(!F)return;if(typeof P=="function")V=P(R,S);else if(P==="value"){V=-1;for(var T=0;T<R.length;T++)if(R[T].value===S.activeLabel){V=T;break}}var O=Q(Q({},F),{},{x:F.left,y:F.top}),W=Math.min(I,O.x+O.width),$=Math.min(D,O.y+O.height),Y=R[V]&&R[V].value,U=KN(j.state,j.props.data,V),ne=R[V]?{x:C==="horizontal"?R[V].coordinate:W,y:C==="horizontal"?$:R[V].coordinate}:V9;j.setState(Q(Q({},S),{},{activeLabel:Y,activeCoordinate:ne,activePayload:U,activeTooltipIndex:V}))}else j.setState(S)}),Le(j,"renderCursor",function(S){var N,C=j.state,P=C.isTooltipActive,k=C.activeCoordinate,A=C.activePayload,E=C.offset,I=C.activeTooltipIndex,D=C.tooltipAxisBandSize,V=j.getTooltipEventType(),B=(N=S.props.active)!==null&&N!==void 0?N:P,F=j.props.layout,R=S.key||"_recharts-cursor";return M.createElement(E4e,{key:R,activeCoordinate:k,activePayload:A,activeTooltipIndex:I,chartName:n,element:S,isActive:B,layout:F,offset:E,tooltipAxisBandSize:D,tooltipEventType:V})}),Le(j,"renderPolarAxis",function(S,N,C){var P=Bs(S,"type.axisType"),k=Bs(j.state,"".concat(P,"Map")),A=S.type.defaultProps,E=A!==void 0?Q(Q({},A),S.props):S.props,I=k&&k[E["".concat(P,"Id")]];return v.cloneElement(S,Q(Q({},I),{},{className:ot(P,I.className),key:S.key||"".concat(N,"-").concat(C),ticks:Ni(I,!0)}))}),Le(j,"renderPolarGrid",function(S){var N=S.props,C=N.radialLines,P=N.polarAngles,k=N.polarRadius,A=j.state,E=A.radiusAxisMap,I=A.angleAxisMap,D=jo(E),V=jo(I),B=V.cx,F=V.cy,R=V.innerRadius,T=V.outerRadius;return v.cloneElement(S,{polarAngles:Array.isArray(P)?P:Ni(V,!0).map(function(O){return O.coordinate}),polarRadius:Array.isArray(k)?k:Ni(D,!0).map(function(O){return O.coordinate}),cx:B,cy:F,innerRadius:R,outerRadius:T,key:S.key||"polar-grid",radialLines:C})}),Le(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,N=j.props,C=N.children,P=N.width,k=N.height,A=j.props.margin||{},E=P-(A.left||0)-(A.right||0),I=TW({children:C,formattedGraphicalItems:S,legendWidth:E,legendContent:u});if(!I)return null;var D=I.item,V=AD(I,A4e);return v.cloneElement(D,Q(Q({},V),{},{chartWidth:P,chartHeight:k,margin:A,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Le(j,"renderTooltip",function(){var S,N=j.props,C=N.children,P=N.accessibilityLayer,k=os(C,Ra);if(!k)return null;var A=j.state,E=A.isTooltipActive,I=A.activeCoordinate,D=A.activePayload,V=A.activeLabel,B=A.offset,F=(S=k.props.active)!==null&&S!==void 0?S:E;return v.cloneElement(k,{viewBox:Q(Q({},B),{},{x:B.left,y:B.top}),active:F,label:V,payload:F?D:[],coordinate:I,accessibilityLayer:P})}),Le(j,"renderBrush",function(S){var N=j.props,C=N.margin,P=N.data,k=j.state,A=k.offset,E=k.dataStartIndex,I=k.dataEndIndex,D=k.updateId;return v.cloneElement(S,{key:S.key||"_recharts-brush",onChange:by(j.handleBrushChange,S.props.onChange),data:P,x:ye(S.props.x)?S.props.x:A.left,y:ye(S.props.y)?S.props.y:A.top+A.height+A.brushBottom-(C.bottom||0),width:ye(S.props.width)?S.props.width:A.width,startIndex:E,endIndex:I,updateId:"brush-".concat(D)})}),Le(j,"renderReferenceElement",function(S,N,C){if(!S)return null;var P=j,k=P.clipPathId,A=j.state,E=A.xAxisMap,I=A.yAxisMap,D=A.offset,V=S.type.defaultProps||{},B=S.props,F=B.xAxisId,R=F===void 0?V.xAxisId:F,T=B.yAxisId,O=T===void 0?V.yAxisId:T;return v.cloneElement(S,{key:S.key||"".concat(N,"-").concat(C),xAxis:E[R],yAxis:I[O],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:k})}),Le(j,"renderActivePoints",function(S){var N=S.item,C=S.activePoint,P=S.basePoint,k=S.childIndex,A=S.isRange,E=[],I=N.props.key,D=N.item.type.defaultProps!==void 0?Q(Q({},N.item.type.defaultProps),N.item.props):N.item.props,V=D.activeDot,B=D.dataKey,F=Q(Q({index:k,dataKey:B,cx:C.x,cy:C.y,r:4,fill:KE(N.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},it(V,!1)),Zv(V));return E.push(w.renderActiveDot(V,F,"".concat(I,"-activePoint-").concat(k))),P?E.push(w.renderActiveDot(V,Q(Q({},F),{},{cx:P.x,cy:P.y}),"".concat(I,"-basePoint-").concat(k))):A&&E.push(null),E}),Le(j,"renderGraphicChild",function(S,N,C){var P=j.filterFormatItem(S,N,C);if(!P)return null;var k=j.getTooltipEventType(),A=j.state,E=A.isTooltipActive,I=A.tooltipAxis,D=A.activeTooltipIndex,V=A.activeLabel,B=j.props.children,F=os(B,Ra),R=P.props,T=R.points,O=R.isRange,W=R.baseLine,$=P.item.type.defaultProps!==void 0?Q(Q({},P.item.type.defaultProps),P.item.props):P.item.props,Y=$.activeDot,U=$.hide,ne=$.activeBar,be=$.activeShape,re=!!(!U&&E&&F&&(Y||ne||be)),Me={};k!=="axis"&&F&&F.props.trigger==="click"?Me={onClick:by(j.handleItemMouseEnter,S.props.onClick)}:k!=="axis"&&(Me={onMouseLeave:by(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:by(j.handleItemMouseEnter,S.props.onMouseEnter)});var te=v.cloneElement(S,Q(Q({},P.props),Me));function J(X){return typeof I.dataKey=="function"?I.dataKey(X.payload):null}if(re)if(D>=0){var ae,K;if(I.dataKey&&!I.allowDuplicatedCategory){var Se=typeof I.dataKey=="function"?J:"payload.".concat(I.dataKey.toString());ae=Qv(T,Se,V),K=O&&W&&Qv(W,Se,V)}else ae=T==null?void 0:T[D],K=O&&W&&W[D];if(be||ne){var q=S.props.activeIndex!==void 0?S.props.activeIndex:D;return[v.cloneElement(S,Q(Q(Q({},P.props),Me),{},{activeIndex:q})),null,null]}if(!nt(ae))return[te].concat(uf(j.renderActivePoints({item:P,activePoint:ae,basePoint:K,childIndex:D,isRange:O})))}else{var se,ve=(se=j.getItemByXY(j.state.activeCoordinate))!==null&&se!==void 0?se:{graphicalItem:te},ke=ve.graphicalItem,ze=ke.item,$e=ze===void 0?S:ze,L=ke.childIndex,H=Q(Q(Q({},P.props),Me),{},{activeIndex:L});return[v.cloneElement($e,H),null,null]}return O?[te,null,null]:[te,null]}),Le(j,"renderCustomized",function(S,N,C){return v.cloneElement(S,Q(Q({key:"recharts-customized-".concat(C)},j.props),j.state))}),Le(j,"renderMap",{CartesianGrid:{handler:Ny,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Ny},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Ny},YAxis:{handler:Ny},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((b=g.id)!==null&&b!==void 0?b:yg("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=Az(j.triggeredAfterMouseMove,(_=g.throttleDelay)!==null&&_!==void 0?_:1e3/60),j.state={},j}return U4e(w,x),L4e(w,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,j=b.data,S=b.height,N=b.layout,C=os(_,Ra);if(C){var P=C.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,A=KN(this.state,j,P,k),E=this.state.tooltipTicks[P].coordinate,I=(this.state.offset.top+S)/2,D=N==="horizontal",V=D?{x:E,y:I}:{y:E,x:I},B=this.state.formattedGraphicalItems.find(function(R){var T=R.item;return T.type.name==="Scatter"});B&&(V=Q(Q({},V),B.props.points[P].tooltipPosition),A=B.props.points[P].tooltipPayload);var F={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:k,activePayload:A,activeCoordinate:V};this.setState(F),this.renderCursor(C),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){NS([os(b.children,Ra)],[os(this.props.children,Ra)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=os(this.props.children,Ra);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return l.indexOf(_)>=0?_:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,j=_.getBoundingClientRect(),S=$Ce(j),N={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},C=j.width/_.offsetWidth||1,P=this.inRange(N.chartX,N.chartY,C);if(!P)return null;var k=this.state,A=k.xAxisMap,E=k.yAxisMap,I=this.getTooltipEventType(),D=OD(this.state,this.props.data,this.props.layout,P);if(I!=="axis"&&A&&E){var V=jo(A).scale,B=jo(E).scale,F=V&&V.invert?V.invert(N.chartX):null,R=B&&B.invert?B.invert(N.chartY):null;return Q(Q({},N),{},{xValue:F,yValue:R},D)}return D?Q(Q({},N),D):null}},{key:"inRange",value:function(b,_){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,N=b/j,C=_/j;if(S==="horizontal"||S==="vertical"){var P=this.state.offset,k=N>=P.left&&N<=P.left+P.width&&C>=P.top&&C<=P.top+P.height;return k?{x:N,y:C}:null}var A=this.state,E=A.angleAxisMap,I=A.radiusAxisMap;if(E&&I){var D=jo(E);return h$({x:N,y:C},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),j=os(b,Ra),S={};j&&_==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=Zv(this.props,this.handleOuterEvent);return Q(Q({},N),S)}},{key:"addListener",value:function(){J1.on(e_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){J1.removeListener(e_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,j){for(var S=this.state.formattedGraphicalItems,N=0,C=S.length;N<C;N++){var P=S[N];if(P.item===b||P.props.key===b.key||_===Pi(P.item.type)&&j===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,j=_.left,S=_.top,N=_.height,C=_.width;return M.createElement("defs",null,M.createElement("clipPath",{id:b},M.createElement("rect",{x:j,y:S,height:N,width:C})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,j){var S=ED(j,2),N=S[0],C=S[1];return Q(Q({},_),{},Le({},N,C.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,j){var S=ED(j,2),N=S[0],C=S[1];return Q(Q({},_),{},Le({},N,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,j=_.formattedGraphicalItems,S=_.activeItem;if(j&&j.length)for(var N=0,C=j.length;N<C;N++){var P=j[N],k=P.props,A=P.item,E=A.type.defaultProps!==void 0?Q(Q({},A.type.defaultProps),A.props):A.props,I=Pi(A.type);if(I==="Bar"){var D=(k.data||[]).find(function(R){return vMe(b,R)});if(D)return{graphicalItem:P,payload:D}}else if(I==="RadialBar"){var V=(k.data||[]).find(function(R){return h$(b,R)});if(V)return{graphicalItem:P,payload:V}}else if(Db(P,S)||Lb(P,S)||kp(P,S)){var B=wRe({graphicalItem:P,activeTooltipItem:S,itemData:E.data}),F=E.activeIndex===void 0?B:E.activeIndex;return{graphicalItem:Q(Q({},P),{},{childIndex:F}),payload:kp(P,S)?E.data[B]:P.props.data[B]}}}return null}},{key:"render",value:function(){var b=this;if(!rR(this))return null;var _=this.props,j=_.children,S=_.className,N=_.width,C=_.height,P=_.style,k=_.compact,A=_.title,E=_.desc,I=AD(_,T4e),D=it(I,!1);if(k)return M.createElement(dD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(PS,Yu({},D,{width:N,height:C,title:A,desc:E}),this.renderClipPath(),aR(j,this.renderMap)));if(this.props.accessibilityLayer){var V,B;D.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,D.role=(B=this.props.role)!==null&&B!==void 0?B:"application",D.onKeyDown=function(R){b.accessibilityManager.keyboardEvent(R)},D.onFocus=function(){b.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return M.createElement(dD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",Yu({className:ot("recharts-wrapper",S),style:Q({position:"relative",cursor:"default",width:N,height:C},P)},F,{ref:function(T){b.container=T}}),M.createElement(PS,Yu({},D,{width:N,height:C,title:A,desc:E,style:G4e}),this.renderClipPath(),aR(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);Le(y,"displayName",n),Le(y,"defaultProps",Q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Le(y,"getDerivedStateFromProps",function(x,w){var g=x.dataKey,b=x.data,_=x.children,j=x.width,S=x.height,N=x.layout,C=x.stackOffset,P=x.margin,k=w.dataStartIndex,A=w.dataEndIndex;if(w.updateId===void 0){var E=MD(x);return Q(Q(Q({},E),{},{updateId:0},m(Q(Q({props:x},E),{},{updateId:0}),w)),{},{prevDataKey:g,prevData:b,prevWidth:j,prevHeight:S,prevLayout:N,prevStackOffset:C,prevMargin:P,prevChildren:_})}if(g!==w.prevDataKey||b!==w.prevData||j!==w.prevWidth||S!==w.prevHeight||N!==w.prevLayout||C!==w.prevStackOffset||!od(P,w.prevMargin)){var I=MD(x),D={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},V=Q(Q({},OD(w,b,N)),{},{updateId:w.updateId+1}),B=Q(Q(Q({},I),D),V);return Q(Q(Q({},B),m(Q({props:x},B),w)),{},{prevDataKey:g,prevData:b,prevWidth:j,prevHeight:S,prevLayout:N,prevStackOffset:C,prevMargin:P,prevChildren:_})}if(!NS(_,w.prevChildren)){var F,R,T,O,W=os(_,Zd),$=W&&(F=(R=W.props)===null||R===void 0?void 0:R.startIndex)!==null&&F!==void 0?F:k,Y=W&&(T=(O=W.props)===null||O===void 0?void 0:O.endIndex)!==null&&T!==void 0?T:A,U=$!==k||Y!==A,ne=!nt(b),be=ne&&!U?w.updateId:w.updateId+1;return Q(Q({updateId:be},m(Q(Q({props:x},w),{},{updateId:be,dataStartIndex:$,dataEndIndex:Y}),w)),{},{prevChildren:_,dataStartIndex:$,dataEndIndex:Y})}return null}),Le(y,"renderActiveDot",function(x,w,g){var b;return v.isValidElement(x)?b=v.cloneElement(x,w):Je(x)?b=x(w):b=M.createElement(YE,w),M.createElement(gn,{className:"recharts-active-dot",key:g},b)});var p=v.forwardRef(function(w,g){return M.createElement(y,Yu({},w,{ref:g}))});return p.displayName=y.displayName,p},a5e=s5e({chartName:"LineChart",GraphicalChild:af,axisComponents:[{axisType:"xAxis",AxisComp:Wb},{axisType:"yAxis",AxisComp:Hb}],formatAxisMap:qIe});function i5e(e){return e.replace(/\D/g,"").slice(-10)}function o5e(e){switch(e){case"booked":return{variant:"default",label:"Booked"};case"callback_requested":return{variant:"secondary",label:"Callback"};case"information_provided":return{variant:"secondary",label:"Info Provided"};case"escalated":return{variant:"destructive",label:"Escalated"};case"no_action":return{variant:"outline",label:"No Action"};case"voicemail":return{variant:"outline",label:"Voicemail"};default:return{variant:"outline",label:"Pending"}}}function n_({title:e,value:t,icon:n,iconBgColor:r,iconColor:s,trend:a,loading:o}){return i.jsx(me,{className:"bg-card",children:i.jsxs(ge,{className:"p-5",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsx("div",{className:`w-12 h-12 rounded-xl ${r} flex items-center justify-center`,children:i.jsx(n,{className:`w-6 h-6 ${s}`})}),i.jsx("button",{className:"text-muted-foreground hover:text-foreground",children:i.jsx(fX,{className:"w-5 h-5"})})]}),i.jsx("p",{className:"text-sm text-muted-foreground mt-4 mb-1",children:e}),i.jsxs("div",{className:"flex items-center gap-2",children:[o?i.jsx(Ot,{className:"h-8 w-24"}):i.jsx("p",{className:"text-2xl font-bold",children:t}),a&&i.jsxs("div",{className:`flex items-center gap-0.5 text-sm font-medium ${a.up?"text-emerald-600":"text-red-500"}`,children:[a.up?i.jsx(cP,{className:"w-4 h-4"}):i.jsx(aX,{className:"w-4 h-4"}),a.value]})]})]})})}function l5e({call:e,contactName:t}){const n=o5e(e.outcome),r=Zc(new Date(e.started_at),{addSuffix:!0}),s=t||e.caller_name||e.caller_phone,a=!!t;return i.jsxs(tt,{to:`/dashboard/calls/${e.id}`,className:"flex items-center justify-between py-3 border-b border-border last:border-0 hover:bg-muted/30 -mx-2 px-2 rounded-lg transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${a?"bg-emerald-500/10":"bg-primary/10"}`,children:a?i.jsx(pP,{className:"w-4 h-4 text-emerald-600"}):i.jsx(yc,{className:"w-4 h-4 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:s}),i.jsx("p",{className:"text-xs text-muted-foreground",children:r})]})]}),i.jsx(It,{variant:n.variant,className:"text-xs",children:n.label})]})}const c5e=()=>{es();const[e,t]=v.useState("7d"),{data:n,isLoading:r}=Zde(e),{data:s,isLoading:a}=efe(5),{data:o,isLoading:l}=Mf(),c=e==="7d"?"7 days":e==="30d"?"30 days":e==="3m"?"3 months":"6 months",{data:u}=FU(o==null?void 0:o.id),d=h=>{const m=i5e(h.caller_phone),y=u==null?void 0:u.get(m);return(y==null?void 0:y.name)||void 0},f=(o==null?void 0:o.name)||"Your Business";return l?i.jsx(Ht,{children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(Ot,{className:"h-8 w-48"})})}):i.jsx(Ht,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold mb-1",children:"System Dashboard"}),i.jsxs("p",{className:"text-muted-foreground text-sm",children:["Live operational data for ",f,"."]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(It,{variant:"outline",className:"bg-emerald-500/10 text-emerald-600 border-emerald-500/30 gap-1.5",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),"AI ACTIVE"]}),i.jsxs(JU,{type:"single",value:e,onValueChange:h=>h&&t(h),className:"bg-muted/50 rounded-lg p-1",children:[i.jsx(Lh,{value:"7d",className:"text-xs px-3 h-7 data-[state=on]:bg-background data-[state=on]:shadow-sm",children:"7d"}),i.jsx(Lh,{value:"30d",className:"text-xs px-3 h-7 data-[state=on]:bg-background data-[state=on]:shadow-sm",children:"30d"}),i.jsx(Lh,{value:"3m",className:"text-xs px-3 h-7 data-[state=on]:bg-background data-[state=on]:shadow-sm",children:"3m"}),i.jsx(Lh,{value:"6m",className:"text-xs px-3 h-7 data-[state=on]:bg-background data-[state=on]:shadow-sm",children:"6m"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[i.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:0},children:i.jsx(n_,{title:`Total Calls (${c})`,value:(n==null?void 0:n.total_calls)??0,icon:ft,iconBgColor:"bg-sky-100 dark:bg-sky-900/30",iconColor:"text-sky-600 dark:text-sky-400",trend:(n==null?void 0:n.calls_trend)!==void 0?{value:`${Math.abs(n.calls_trend)}%`,up:n.calls_trend>=0}:void 0,loading:r})}),i.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:i.jsx(n_,{title:`Bookings (${c})`,value:(n==null?void 0:n.appointments_booked)??0,icon:Di,iconBgColor:"bg-emerald-100 dark:bg-emerald-900/30",iconColor:"text-emerald-600 dark:text-emerald-400",trend:(n==null?void 0:n.bookings_trend)!==void 0?{value:`${Math.abs(n.bookings_trend)}%`,up:n.bookings_trend>=0}:void 0,loading:r})}),i.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:i.jsx(n_,{title:`Est. Revenue (${c})`,value:`$${((n==null?void 0:n.revenue_estimate)??0).toLocaleString()}`,icon:ij,iconBgColor:"bg-violet-100 dark:bg-violet-900/30",iconColor:"text-violet-600 dark:text-violet-400",trend:(n==null?void 0:n.revenue_trend)!==void 0?{value:`${Math.abs(n.revenue_trend)}%`,up:n.revenue_trend>=0}:void 0,loading:r})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},className:"lg:col-span-2",children:i.jsxs(me,{children:[i.jsx(Ye,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Xe,{className:"text-base font-semibold",children:"Call Volume & Revenue"}),i.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"w-3 h-3 rounded-full bg-sky-500"}),i.jsx("span",{className:"text-muted-foreground",children:"Calls"})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"w-3 h-3 rounded-full bg-violet-500"}),i.jsx("span",{className:"text-muted-foreground",children:"Revenue ($)"})]})]})]})}),i.jsx(ge,{children:i.jsx("div",{className:"h-[280px] w-full",children:i.jsx(ECe,{width:"100%",height:"100%",children:i.jsxs(a5e,{data:(n==null?void 0:n.chart_data)||[],children:[i.jsx(C9,{strokeDasharray:"3 3",className:"stroke-muted"}),i.jsx(Wb,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"}}),i.jsx(Hb,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"}}),i.jsx(Ra,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),i.jsx(af,{type:"monotone",dataKey:"calls",stroke:"#0ea5e9",strokeWidth:2,dot:!1}),i.jsx(af,{type:"monotone",dataKey:"revenue",stroke:"#8b5cf6",strokeWidth:2,dot:!1,strokeDasharray:"5 5"})]})})})})]})}),i.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},children:i.jsxs(me,{className:"h-full",children:[i.jsx(Ye,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Xe,{className:"text-base font-semibold",children:"Recent Calls"}),i.jsx(tt,{to:"/dashboard/calls",className:"text-sm text-primary hover:underline",children:"View all"})]})}),i.jsx(ge,{children:a?i.jsx("div",{className:"space-y-3",children:[...Array(4)].map((h,m)=>i.jsx(Ot,{className:"h-14 w-full"},m))}):s&&s.length>0?i.jsx("div",{children:s.map(h=>i.jsx(l5e,{call:h,contactName:d(h)},h.id))}):i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground italic",children:"No calls recorded today"})})})]})})]}),i.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.6},children:i.jsxs(me,{children:[i.jsx(Ye,{className:"pb-2",children:i.jsxs(Xe,{className:"text-base font-semibold flex items-center gap-2",children:[i.jsx(Ds,{className:"w-4 h-4"}),"Automated SMS Log"]})}),i.jsx(ge,{children:i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground italic",children:"No recent messages"})})})]})})]})})},Ae=v.forwardRef(({className:e,type:t,...n},r)=>i.jsx("input",{type:t,className:ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Ae.displayName="Input";function u5e(e){if(!e)return"0:00";const t=Math.floor(e/60),n=e%60;return`${t}:${n.toString().padStart(2,"0")}`}function d5e(e,t){if(e!=="completed")return{variant:"outline",label:"In Progress",icon:j3};switch(t){case"success":return{variant:"default",label:"Successful",icon:kc};case"failure":return{variant:"destructive",label:"Failed",icon:Tm};default:return{variant:"secondary",label:"Completed",icon:kc}}}function f5e({conversation:e}){const t=d5e(e.status,e.call_successful),n=t.icon;return i.jsxs(tt,{to:`/dashboard/calls/${e.conversation_id}`,className:"flex items-center justify-between p-4 rounded-xl bg-card border border-border hover:border-primary/30 hover:shadow-md transition-all group",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 bg-primary/10",children:i.jsx(yc,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"flex items-center gap-2 mb-1",children:i.jsxs("p",{className:"font-medium truncate group-hover:text-primary transition-colors",children:["Call #",e.conversation_id.slice(-6)]})}),i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:e.summary||"No summary available"})]})]}),i.jsxs("div",{className:"flex items-center gap-6 flex-shrink-0 ml-4",children:[i.jsxs("div",{className:"text-right hidden md:block",children:[i.jsx("p",{className:"text-sm font-medium",children:Nn(new Date(e.started_at),"MMM d, yyyy")}),i.jsx("p",{className:"text-xs text-muted-foreground",children:Nn(new Date(e.started_at),"h:mm a")})]}),i.jsxs("div",{className:"text-right hidden sm:block",children:[i.jsxs("p",{className:"text-sm flex items-center gap-1 text-muted-foreground",children:[i.jsx(vs,{className:"w-3 h-3"}),u5e(e.duration_seconds)]}),i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(Ds,{className:"w-3 h-3"}),e.message_count," messages"]})]}),i.jsxs(It,{variant:t.variant,className:"flex items-center gap-1",children:[i.jsx(n,{className:"w-3 h-3"}),t.label]}),i.jsx(ml,{className:"w-5 h-5 text-muted-foreground group-hover:text-primary transition-colors"})]})]})}function h5e(){const[e,t]=v.useState(""),{data:n,isLoading:r}=Jde({search:e||void 0});return i.jsx(Ht,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:[i.jsx("h1",{className:"font-display text-2xl lg:text-3xl font-bold mb-2",children:"Call Log"}),i.jsx("p",{className:"text-muted-foreground",children:"View all AI agent conversations with transcripts and details"})]}),i.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:i.jsx(me,{children:i.jsx(ge,{className:"p-4",children:i.jsxs("div",{className:"relative",children:[i.jsx(Qp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx(Ae,{placeholder:"Search conversations...",value:e,onChange:s=>t(s.target.value),className:"pl-10"})]})})})}),i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("div",{className:"text-sm text-muted-foreground",children:r?i.jsx(Ot,{className:"h-4 w-32 inline-block"}):i.jsxs(i.Fragment,{children:["Showing ",i.jsx("strong",{children:(n==null?void 0:n.conversations.length)??0})," conversations",(n==null?void 0:n.meta.has_more)&&" (more available)"]})})}),i.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},className:"space-y-3",children:r?[...Array(5)].map((s,a)=>i.jsx(Ot,{className:"h-24 w-full rounded-xl"},a)):n!=null&&n.conversations&&n.conversations.length>0?n.conversations.map(s=>i.jsx(f5e,{conversation:s},s.id)):i.jsx(me,{className:"py-12",children:i.jsxs(ge,{className:"text-center",children:[i.jsx(ft,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),i.jsx("h3",{className:"font-medium mb-2",children:"No conversations found"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e?"Try adjusting your search":"Conversations will appear here when calls come in"})]})})})]})})}function m5e(e){return e.replace(/\D/g,"").slice(-10)}function p5e(e,t){if(t==="inbound")return{variant:"secondary",label:"Received",icon:lP};switch(e){case"delivered":return{variant:"default",label:"Delivered",icon:fP};case"sent":return{variant:"secondary",label:"Sent",icon:wX};case"queued":case"sending":return{variant:"outline",label:"Sending",icon:vs};case"failed":case"undelivered":return{variant:"destructive",label:"Failed",icon:Od};default:return{variant:"outline",label:e,icon:vs}}}function g5e({message:e}){const t=p5e(e.status,e.direction),n=Zc(new Date(e.created_at),{addSuffix:!0}),r=e.contact_name||(e.direction==="inbound"?e.from:e.to),s=e.direction==="inbound";return i.jsxs("div",{className:"flex items-start gap-4 p-4 border-b border-border last:border-0 hover:bg-muted/30 transition-colors",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${s?"bg-sky-500/10":"bg-emerald-500/10"}`,children:s?i.jsx(lP,{className:"w-5 h-5 text-sky-600"}):i.jsx(cP,{className:"w-5 h-5 text-emerald-600"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium text-sm",children:r}),i.jsxs(It,{variant:t.variant,className:"text-xs gap-1",children:[i.jsx(t.icon,{className:"w-3 h-3"}),t.label]})]}),i.jsx("span",{className:"text-xs text-muted-foreground flex-shrink-0",children:n})]}),i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.body}),e.error_message&&i.jsx("p",{className:"text-xs text-destructive mt-1",children:e.error_message})]})]})}const y5e=()=>{const[e,t]=v.useState(""),{data:n}=Mf(),r=v.useMemo(()=>[{id:"sms-001",direction:"outbound",from:"+15551234567",to:"+15553334444",body:"Hi Sarah! This is Acme HVAC confirming your appointment tomorrow at 9:00 AM. Reply YES to confirm or call us to reschedule.",status:"delivered",created_at:gh(new Date,2).toISOString(),error_code:null,error_message:null,contact_name:"Sarah Johnson"},{id:"sms-002",direction:"inbound",from:"+15553334444",to:"+15551234567",body:"YES",status:"received",created_at:gh(new Date,1.5).toISOString(),error_code:null,error_message:null,contact_name:"Sarah Johnson"},{id:"sms-003",direction:"outbound",from:"+15551234567",to:"+15553334444",body:"Great! Your appointment is confirmed. See you tomorrow at 456 Maple Ave. Our technician Tom will arrive between 9-10 AM.",status:"delivered",created_at:gh(new Date,1).toISOString(),error_code:null,error_message:null,contact_name:"Sarah Johnson"},{id:"sms-004",direction:"outbound",from:"+15551234567",to:"+15552223333",body:"Hi John! Just a reminder about your annual HVAC maintenance scheduled for Friday at 2:00 PM. Reply YES to confirm.",status:"delivered",created_at:gh(new Date,5).toISOString(),error_code:null,error_message:null,contact_name:"John Smith"},{id:"sms-005",direction:"inbound",from:"+15552223333",to:"+15551234567",body:"YES sounds good!",status:"received",created_at:gh(new Date,4).toISOString(),error_code:null,error_message:null,contact_name:"John Smith"},{id:"sms-006",direction:"outbound",from:"+15551234567",to:"+15554445555",body:"Hi Mike! We received your callback request. One of our representatives will call you within 2 hours. Thank you for choosing Acme HVAC!",status:"delivered",created_at:Nu(new Date,1).toISOString(),error_code:null,error_message:null,contact_name:"Mike Williams"},{id:"sms-007",direction:"inbound",from:"+15556667777",to:"+15551234567",body:"Hi, I received a quote for a new furnace. Can someone call me to discuss payment options?",status:"received",created_at:Nu(new Date,1).toISOString(),error_code:null,error_message:null,contact_name:"Robert Brown"},{id:"sms-008",direction:"outbound",from:"+15551234567",to:"+15556667777",body:"Hi Robert! Thanks for your interest. We offer flexible financing options. A team member will call you shortly to discuss.",status:"delivered",created_at:Nu(new Date,1).toISOString(),error_code:null,error_message:null,contact_name:"Robert Brown"},{id:"sms-009",direction:"outbound",from:"+15551234567",to:"+15555556666",body:"Hi Emily! Your commercial HVAC inspection is complete. All systems are operating normally. Invoice has been emailed.",status:"delivered",created_at:Nu(new Date,2).toISOString(),error_code:null,error_message:null,contact_name:"Emily Davis"},{id:"sms-010",direction:"inbound",from:"+15555556666",to:"+15551234567",body:"Thank you! Great service as always.",status:"received",created_at:Nu(new Date,2).toISOString(),error_code:null,error_message:null,contact_name:"Emily Davis"}],[]),{data:s,isLoading:a,refetch:o,isRefetching:l}=jt({queryKey:["sms-messages",n==null?void 0:n.id],queryFn:async()=>({messages:r,meta:{total:r.length}}),enabled:!!(n!=null&&n.id)||ir(),staleTime:3e4}),{data:c}=FU(n==null?void 0:n.id),u=v.useMemo(()=>s!=null&&s.messages?s.messages.map(p=>{const x=p.direction==="inbound"?p.from:p.to,w=c==null?void 0:c.get(m5e(x));return{...p,contact_name:(w==null?void 0:w.name)||void 0}}):[],[s==null?void 0:s.messages,c]),d=u.filter(p=>{var x;return p.body.toLowerCase().includes(e.toLowerCase())||p.to.includes(e)||p.from.includes(e)||((x=p.contact_name)==null?void 0:x.toLowerCase().includes(e.toLowerCase()))}),f=u.length,h=u.filter(p=>p.direction==="inbound").length,m=u.filter(p=>p.direction==="outbound").length,y=u.filter(p=>p.status==="delivered").length;return i.jsx(Ht,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Messages"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"View and manage automated SMS communications."})]}),i.jsxs(G,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>o(),disabled:l,children:[i.jsx(A0,{className:`w-4 h-4 ${l?"animate-spin":""}`}),"Refresh"]})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[i.jsx(me,{children:i.jsx(ge,{className:"pt-4 pb-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:i.jsx(Ds,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:a?"-":f}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Messages"})]})]})})}),i.jsx(me,{children:i.jsx(ge,{className:"pt-4 pb-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-sky-500/10 flex items-center justify-center",children:i.jsx(lP,{className:"w-5 h-5 text-sky-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:a?"-":h}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Inbound"})]})]})})}),i.jsx(me,{children:i.jsx(ge,{className:"pt-4 pb-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/10 flex items-center justify-center",children:i.jsx(cP,{className:"w-5 h-5 text-emerald-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:a?"-":m}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Outbound"})]})]})})}),i.jsx(me,{children:i.jsx(ge,{className:"pt-4 pb-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-violet-500/10 flex items-center justify-center",children:i.jsx(fP,{className:"w-5 h-5 text-violet-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:a?"-":y}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivered"})]})]})})})]}),i.jsxs(me,{children:[i.jsx(Ye,{className:"pb-3",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsx(Xe,{className:"text-base font-semibold",children:"Message History"}),i.jsxs("div",{className:"relative w-full sm:w-64",children:[i.jsx(Qp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx(Ae,{placeholder:"Search messages...",value:e,onChange:p=>t(p.target.value),className:"pl-9"})]})]})}),i.jsx(ge,{className:"p-0",children:a?i.jsx("div",{className:"p-4 space-y-4",children:[...Array(4)].map((p,x)=>i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx(Ot,{className:"w-10 h-10 rounded-full"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(Ot,{className:"h-4 w-1/3"}),i.jsx(Ot,{className:"h-4 w-full"})]})]},x))}):d.length>0?i.jsx("div",{children:d.map(p=>i.jsx(g5e,{message:p},p.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ds,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),i.jsx("p",{className:"text-muted-foreground",children:"No messages found"}),e&&i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Try adjusting your search query"})]})})]})]})})};function GN(e,[t,n]){return Math.min(n,Math.max(t,e))}function v5e(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var aA="ScrollArea",[z9,i6e]=Yn(aA),[x5e,Ks]=z9(aA),W9=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:a=600,...o}=e,[l,c]=v.useState(null),[u,d]=v.useState(null),[f,h]=v.useState(null),[m,y]=v.useState(null),[p,x]=v.useState(null),[w,g]=v.useState(0),[b,_]=v.useState(0),[j,S]=v.useState(!1),[N,C]=v.useState(!1),P=Ue(t,A=>c(A)),k=Kc(s);return i.jsx(x5e,{scope:n,type:r,dir:k,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:j,onScrollbarXEnabledChange:S,scrollbarY:p,onScrollbarYChange:x,scrollbarYEnabled:N,onScrollbarYEnabledChange:C,onCornerWidthChange:g,onCornerHeightChange:_,children:i.jsx(Ne.div,{dir:k,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});W9.displayName=aA;var H9="ScrollAreaViewport",q9=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...a}=e,o=Ks(H9,n),l=v.useRef(null),c=Ue(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(Ne.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});q9.displayName=H9;var ii="ScrollAreaScrollbar",iA=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Ks(ii,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return v.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?i.jsx(b5e,{...r,ref:t,forceMount:n}):s.type==="scroll"?i.jsx(w5e,{...r,ref:t,forceMount:n}):s.type==="auto"?i.jsx(K9,{...r,ref:t,forceMount:n}):s.type==="always"?i.jsx(oA,{...r,ref:t}):null});iA.displayName=ii;var b5e=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Ks(ii,e.__scopeScrollArea),[a,o]=v.useState(!1);return v.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(Bn,{present:n||a,children:i.jsx(K9,{"data-state":a?"visible":"hidden",...r,ref:t})})}),w5e=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Ks(ii,e.__scopeScrollArea),a=e.orientation==="horizontal",o=Gb(()=>c("SCROLL_END"),100),[l,c]=v5e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),v.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,a,c,o]),i.jsx(Bn,{present:n||l!=="hidden",children:i.jsx(oA,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ce(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ce(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),K9=v.forwardRef((e,t)=>{const n=Ks(ii,e.__scopeScrollArea),{forceMount:r,...s}=e,[a,o]=v.useState(!1),l=e.orientation==="horizontal",c=Gb(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return df(n.viewport,c),df(n.content,c),i.jsx(Bn,{present:r||a,children:i.jsx(oA,{"data-state":a?"visible":"hidden",...s,ref:t})})}),oA=v.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Ks(ii,e.__scopeScrollArea),a=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Z9(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return P5e(h,o.current,l,m)}return n==="horizontal"?i.jsx(_5e,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollLeft,m=ID(h,l,s.dir);a.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):n==="vertical"?i.jsx(j5e,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollTop,m=ID(h,l);a.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),_5e=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=Ks(ii,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=Ue(t,c,a.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(Y9,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Kb(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),eH(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Qx(o.paddingLeft),paddingEnd:Qx(o.paddingRight)}})}})}),j5e=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=Ks(ii,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=Ue(t,c,a.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(Y9,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Kb(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),eH(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Qx(o.paddingTop),paddingEnd:Qx(o.paddingBottom)}})}})}),[S5e,G9]=z9(ii),Y9=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Ks(ii,n),[y,p]=v.useState(null),x=Ue(t,P=>p(P)),w=v.useRef(null),g=v.useRef(""),b=m.viewport,_=r.content-r.viewport,j=dn(d),S=dn(c),N=Gb(f,10);function C(P){if(w.current){const k=P.clientX-w.current.left,A=P.clientY-w.current.top;u({x:k,y:A})}}return v.useEffect(()=>{const P=k=>{const A=k.target;(y==null?void 0:y.contains(A))&&j(k,_)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[b,y,_,j]),v.useEffect(S,[r,S]),df(y,N),df(m.content,N),i.jsx(S5e,{scope:n,scrollbar:y,hasThumb:s,onThumbChange:dn(a),onThumbPointerUp:dn(o),onThumbPositionChange:S,onThumbPointerDown:dn(l),children:i.jsx(Ne.div,{...h,ref:x,style:{position:"absolute",...h.style},onPointerDown:ce(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),w.current=y.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),C(P))}),onPointerMove:ce(e.onPointerMove,C),onPointerUp:ce(e.onPointerUp,P=>{const k=P.target;k.hasPointerCapture(P.pointerId)&&k.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=g.current,m.viewport&&(m.viewport.style.scrollBehavior=""),w.current=null})})})}),Xx="ScrollAreaThumb",X9=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=G9(Xx,e.__scopeScrollArea);return i.jsx(Bn,{present:n||s.hasThumb,children:i.jsx(N5e,{ref:t,...r})})}),N5e=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,a=Ks(Xx,n),o=G9(Xx,n),{onThumbPositionChange:l}=o,c=Ue(t,f=>o.onThumbChange(f)),u=v.useRef(void 0),d=Gb(()=>{u.current&&(u.current(),u.current=void 0)},100);return v.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!u.current){const m=k5e(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,l]),i.jsx(Ne.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ce(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),y=f.clientX-m.left,p=f.clientY-m.top;o.onThumbPointerDown({x:y,y:p})}),onPointerUp:ce(e.onPointerUp,o.onThumbPointerUp)})});X9.displayName=Xx;var lA="ScrollAreaCorner",Q9=v.forwardRef((e,t)=>{const n=Ks(lA,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?i.jsx(C5e,{...e,ref:t}):null});Q9.displayName=lA;var C5e=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Ks(lA,n),[a,o]=v.useState(0),[l,c]=v.useState(0),u=!!(a&&l);return df(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),df(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?i.jsx(Ne.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Qx(e){return e?parseInt(e,10):0}function Z9(e,t){const n=e/t;return isNaN(n)?0:n}function Kb(e){const t=Z9(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function P5e(e,t,n,r="ltr"){const s=Kb(n),a=s/2,o=t||a,l=s-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return J9([c,u],f)(e)}function ID(e,t,n="ltr"){const r=Kb(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,o=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,o]:[o*-1,0],u=GN(e,c);return J9([0,o],[0,l])(u)}function J9(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function eH(e,t){return e>0&&e<t}var k5e=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,l=n.top!==a.top;(o||l)&&t(),n=a,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Gb(e,t){const n=dn(e),r=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),v.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function df(e,t){const n=dn(t);Fn(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var tH=W9,E5e=q9,A5e=Q9;const nH=v.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(tH,{ref:r,className:ee("relative overflow-hidden",e),...n,children:[i.jsx(E5e,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(rH,{}),i.jsx(A5e,{})]}));nH.displayName=tH.displayName;const rH=v.forwardRef(({className:e,orientation:t="vertical",...n},r)=>i.jsx(iA,{ref:r,orientation:t,className:ee("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:i.jsx(X9,{className:"relative flex-1 rounded-full bg-border"})}));rH.displayName=iA.displayName;function T5e(e){if(!e)return"0:00";const t=Math.floor(e/60),n=e%60;return`${t}:${n.toString().padStart(2,"0")}`}function O5e(e,t){if(e!=="completed"&&e!=="done")return{variant:"outline",label:"In Progress",icon:j3};switch(t){case"success":return{variant:"default",label:"Successful",icon:ba};case"failure":return{variant:"destructive",label:"Failed",icon:Tm};default:return{variant:"secondary",label:"Completed",icon:ba}}}function M5e({message:e,index:t,callStartTime:n}){const r=e.role==="agent",s=e.time_in_call_secs!==void 0?new Date(n.getTime()+e.time_in_call_secs*1e3):null;return i.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2,delay:t*.03},className:ee("flex mb-4",r?"justify-start":"justify-end"),children:i.jsxs("div",{className:ee("max-w-[80%] flex flex-col",r?"items-start":"items-end"),children:[r&&i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(ba,{className:"w-4 h-4 text-green-500"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"AI Assistant"})]}),i.jsx("div",{className:ee("p-3 rounded-lg",r?"bg-muted":"bg-zinc-800 text-white dark:bg-zinc-700"),children:i.jsx("p",{className:"text-sm",children:e.message})}),s&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Nn(s,"h:mm:ss a")})]})})}function R5e(e){return jt({queryKey:["elevenlabs-conversation",e],queryFn:async()=>{var r;if(!e)return null;const t=await ie.auth.getSession(),n=await fetch(`http://127.0.0.1:54321/functions/v1/get-elevenlabs-conversation?conversation_id=${e}`,{headers:{Authorization:`Bearer ${(r=t.data.session)==null?void 0:r.access_token}`,"Content-Type":"application/json"}});if(!n.ok){const s=await n.json();throw new Error(s.error||"Failed to fetch conversation")}return n.json()},enabled:!!e})}function I5e(){const{id:e}=zF(),{data:t,isLoading:n,error:r}=R5e(e||null);if(n)return i.jsx(Ht,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsx(Ot,{className:"h-8 w-64"}),i.jsx(Ot,{className:"h-32 w-full"}),i.jsx(Ot,{className:"h-96 w-full"})]})});if(r||!t)return i.jsx(Ht,{children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ft,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),i.jsx("h2",{className:"font-display text-xl font-bold mb-2",children:"Conversation not found"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:(r==null?void 0:r.message)||"The conversation you're looking for doesn't exist or has been removed."}),i.jsx(tt,{to:"/dashboard/calls",children:i.jsxs(G,{children:[i.jsx(Td,{className:"w-4 h-4 mr-2"}),"Back to Call History"]})})]})});const s=O5e(t.status,t.call_successful),a=s.icon,o=t.transcript||[],l=t.recording_url;return i.jsx(Ht,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:[i.jsxs(tt,{to:"/dashboard/calls",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground mb-4",children:[i.jsx(Td,{className:"w-4 h-4 mr-1"}),"Back to Call History"]}),i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center bg-primary/10",children:i.jsx(yc,{className:"w-7 h-7 text-primary"})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"font-display text-2xl font-bold",children:["Call #",e==null?void 0:e.slice(-6)]}),i.jsx("p",{className:"text-muted-foreground",children:Nn(new Date(t.started_at),"MMMM d, yyyy 'at' h:mm a")})]})]}),i.jsxs(It,{variant:s.variant,className:"text-sm py-1 px-3",children:[i.jsx(a,{className:"w-3 h-3 mr-1"}),s.label]})]})]}),i.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(me,{children:i.jsxs(ge,{className:"p-4 flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:i.jsx(Di,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Date & Time"}),i.jsx("p",{className:"font-medium text-sm",children:Nn(new Date(t.started_at),"MMM d, yyyy h:mm a")})]})]})}),i.jsx(me,{children:i.jsxs(ge,{className:"p-4 flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:i.jsx(vs,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Duration"}),i.jsx("p",{className:"font-medium text-sm",children:T5e(t.duration_seconds)})]})]})}),i.jsx(me,{children:i.jsxs(ge,{className:"p-4 flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:i.jsx(Ds,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"}),i.jsxs("p",{className:"font-medium text-sm",children:[t.message_count||o.length," messages"]})]})]})})]}),t.summary&&i.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.15},children:i.jsxs(me,{children:[i.jsx(Ye,{className:"pb-3",children:i.jsxs(Xe,{className:"text-lg flex items-center gap-2",children:[i.jsx(Yl,{className:"w-5 h-5 text-primary"}),"Call Summary"]})}),i.jsx(ge,{children:i.jsx("p",{className:"text-muted-foreground",children:t.summary})})]})}),l&&i.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.17},children:i.jsxs(me,{children:[i.jsx(Ye,{className:"pb-3",children:i.jsxs(Xe,{className:"text-lg flex items-center gap-2",children:[i.jsx(NX,{className:"w-5 h-5 text-primary"}),"Call Recording"]})}),i.jsx(ge,{children:i.jsx("audio",{controls:!0,src:l,className:"w-full",preload:"metadata",children:"Your browser does not support the audio element."})})]})}),i.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:i.jsxs(me,{children:[i.jsxs(Ye,{children:[i.jsxs(Xe,{className:"text-lg flex items-center gap-2",children:[i.jsx(Ds,{className:"w-5 h-5 text-primary"}),"Conversation Transcript"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Full call transcript with speaker identification"})]}),i.jsx(ge,{children:o.length>0?i.jsx(nH,{className:"h-[500px] pr-4",children:o.map((c,u)=>i.jsx(M5e,{message:c,index:u,callStartTime:new Date(t.started_at)},u))}):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Ds,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No transcript available for this call"})]})})]})})]})})}function $5e(e,t){const n=[],r=[{title:"HVAC Diagnostic",duration:60},{title:"AC Tune-Up",duration:90},{title:"Furnace Repair",duration:120},{title:"Duct Cleaning",duration:180},{title:"Emergency Service",duration:60},{title:"Maintenance Check",duration:45},{title:"System Installation Consult",duration:60}],s=["Sarah Johnson","John Smith","Mike Williams","Emily Davis","Robert Brown","Jennifer Lee","David Martinez","Amanda Wilson","Chris Taylor","Lisa Anderson","Kevin Thompson","Maria Garcia"],a=[{id:"provider-1",name:"Tom Wilson",color:"#3b82f6",role:"senior_tech"},{id:"provider-2",name:"Mike Chen",color:"#10b981",role:"technician"},{id:"provider-3",name:"Lisa Martinez",color:"#f59e0b",role:"technician"}];let o=1;const l=new Date(e);for(;l<=t;){const c=l.getDay();if(c!==0&&c!==6){const u=Math.floor(Math.random()*4)+3,d=[];for(let f=0;f<u;f++){const h=r[Math.floor(Math.random()*r.length)],m=s[Math.floor(Math.random()*s.length)],y=a[Math.floor(Math.random()*a.length)];let p,x=0;do p=Math.floor(Math.random()*8)+8,x++;while(d.includes(p)&&x<10);d.push(p);const w=new Date(l);w.setHours(p,Math.random()>.5?0:30,0,0);const g=new Date(w);g.setMinutes(g.getMinutes()+h.duration),n.push({id:`event-${o++}`,account_id:"demo-account-001",provider_id:y.id,appointment_id:null,title:`${h.title} - ${m}`,description:null,start_time:w.toISOString(),end_time:g.toISOString(),status:Math.random()>.1?"confirmed":"tentative",color:y.color,customer_name:m,customer_phone:`+1555${Math.floor(Math.random()*9e6+1e6)}`,source:"native",external_id:null,external_calendar_id:null,sync_status:"synced",last_synced_at:null,external_updated_at:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),provider:y})}}else if(c===6){const u=Math.floor(Math.random()*2)+1;for(let d=0;d<u;d++){const f=r[Math.floor(Math.random()*r.length)],h=s[Math.floor(Math.random()*s.length)],m=a[Math.floor(Math.random()*a.length)],y=Math.floor(Math.random()*4)+9,p=new Date(l);p.setHours(y,0,0,0);const x=new Date(p);x.setMinutes(x.getMinutes()+f.duration),n.push({id:`event-${o++}`,account_id:"demo-account-001",provider_id:m.id,appointment_id:null,title:`${f.title} - ${h}`,description:null,start_time:p.toISOString(),end_time:x.toISOString(),status:"confirmed",color:m.color,customer_name:h,customer_phone:`+1555${Math.floor(Math.random()*9e6+1e6)}`,source:"native",external_id:null,external_calendar_id:null,sync_status:"synced",last_synced_at:null,external_updated_at:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),provider:m})}}l.setDate(l.getDate()+1)}return n}function sH(e){const{user:t}=ht();return jt({queryKey:["calendar-events",t==null?void 0:t.account_id,e.startDate.toISOString(),e.endDate.toISOString(),e.providerIds,e.status],queryFn:async()=>{{let n=$5e(e.startDate,e.endDate);return e.providerIds&&e.providerIds.length>0&&(n=n.filter(r=>r.provider_id&&e.providerIds.includes(r.provider_id))),e.status&&e.status.length>0&&(n=n.filter(r=>e.status.includes(r.status))),n}},enabled:!!(t!=null&&t.account_id)||ir()})}function D5e(e,t){return sH({startDate:Fd(e),endDate:Kk(e),providerIds:t})}function L5e(e,t){return sH({startDate:Fd(e),endDate:Kk(If(e,6)),providerIds:t})}function F5e(){const e=St(),{user:t}=ht();return Qt({mutationFn:async n=>{if(!(t!=null&&t.account_id))throw new Error("No organization");const{data:r,error:s}=await ie.from("calendar_events").insert({account_id:t.account_id,source:"native",sync_status:"synced",...n}).select(`
          *,
          provider:providers(id, name, color, role)
        `).single();if(s)throw s;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["calendar-events"]}),ct.success("Event created")},onError:n=>{ct.error("Failed to create event",{description:n.message})}})}function B5e(){const e=St();return Qt({mutationFn:async({id:t,...n})=>{const{data:r,error:s}=await ie.from("calendar_events").update({...n,sync_status:"pending_push"}).eq("id",t).select(`
          *,
          provider:providers(id, name, color, role)
        `).single();if(s)throw s;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["calendar-events"]}),ct.success("Event updated")},onError:t=>{ct.error("Failed to update event",{description:t.message})}})}function V5e(){const e=St();return Qt({mutationFn:async t=>{const{error:n}=await ie.from("calendar_events").delete().eq("id",t);if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["calendar-events"]}),ct.success("Event deleted")},onError:t=>{ct.error("Failed to delete event",{description:t.message})}})}function cA(e){const[t,n]=e.split(":").map(Number),r=t%12||12,s=t>=12?"PM":"AM";return`${r}:${n.toString().padStart(2,"0")} ${s}`}function U5e(){const e=[];for(let t=0;t<24;t++)for(let n=0;n<60;n+=5){const r=`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`;e.push({value:r,label:cA(r)})}return e}function z5e(e){var t;return e.color||((t=e.provider)==null?void 0:t.color)||"#3b82f6"}function W5e(e,t){const n=[];for(let r=e;r<=t;r++)n.push(`${r.toString().padStart(2,"0")}:00`);return n}function H5e(e,t,n){const r=new Date(e.start_time),s=new Date(e.end_time),a=r.getHours()*60+r.getMinutes()-t*60,o=(s.getTime()-r.getTime())/(1e3*60),l=a/60*n,c=o/60*n;return{top:l,height:Math.max(c,20)}}function q5e({date:e,events:t,providers:n,onSlotClick:r,onEventClick:s,startHour:a=7,endHour:o=20,slotInterval:l=30}){const c=v.useRef(null),u=v.useMemo(()=>W5e(a,o),[a,o]),d=60,f=(o-a+1)*d,h=v.useMemo(()=>{const y=new Map;return n.forEach(p=>y.set(p.id,[])),y.set("unassigned",[]),t.forEach(p=>{const x=p.provider_id||"unassigned",w=y.get(x)||[];w.push(p),y.set(x,w)}),y},[t,n]);v.useEffect(()=>{if(P1(e)&&c.current){const y=new Date,x=(y.getHours()*60+y.getMinutes()-a*60)/60*d-100;c.current.scrollTop=Math.max(0,x)}},[e,a,d]);const m=(y,p)=>{if(!r)return;const x=y.currentTarget.getBoundingClientRect(),w=y.clientY-x.top,g=a*60+w/d*60,b=Math.round(g/5)*5,_=Math.floor(b/60),j=b%60,S=`${_.toString().padStart(2,"0")}:${j.toString().padStart(2,"0")}`;r(S,p)};return i.jsxs("div",{className:"flex flex-col h-full border rounded-lg bg-card overflow-hidden",children:[i.jsxs("div",{className:"flex border-b bg-muted/30 sticky top-0 z-10",children:[i.jsxs("div",{className:"w-16 flex-shrink-0 p-2 border-r text-xs text-muted-foreground",children:[Nn(e,"EEE"),i.jsx("div",{className:"text-lg font-semibold text-foreground",children:Nn(e,"d")})]}),n.map(y=>i.jsxs("div",{className:"flex-1 min-w-[120px] p-2 border-r last:border-r-0 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:y.color}}),i.jsx("span",{className:"text-sm font-medium truncate",children:y.name})]}),i.jsx("div",{className:"text-xs text-muted-foreground capitalize",children:y.role})]},y.id))]}),i.jsx("div",{ref:c,className:"flex-1 overflow-auto",children:i.jsxs("div",{className:"flex",style:{height:f},children:[i.jsx("div",{className:"w-16 flex-shrink-0 border-r relative",children:u.map((y,p)=>i.jsx("div",{className:"absolute w-full text-right pr-2 text-xs text-muted-foreground",style:{top:p*d-8},children:cA(y)},y))}),n.map(y=>i.jsx(K5e,{provider:y,events:h.get(y.id)||[],startHour:a,endHour:o,slotHeight:d,slotInterval:l,onSlotClick:p=>m(p,y.id),onEventClick:s,isToday:P1(e)},y.id))]})}),P1(e)&&i.jsx(G5e,{startHour:a,slotHeight:d})]})}function K5e({provider:e,events:t,startHour:n,endHour:r,slotHeight:s,slotInterval:a,onSlotClick:o,onEventClick:l,isToday:c}){return i.jsxs("div",{className:"flex-1 min-w-[120px] border-r last:border-r-0 relative cursor-pointer hover:bg-muted/20",onClick:o,children:[Array.from({length:r-n+1}).map((u,d)=>i.jsx("div",{className:"absolute w-full border-t border-border/50",style:{top:d*s}},d)),Array.from({length:r-n+1}).map((u,d)=>i.jsx("div",{className:"absolute w-full border-t border-border/20",style:{top:d*s+s/2}},`half-${d}`)),t.filter(u=>u.status!=="cancelled").map(u=>{const d=H5e(u,n,s),f=z5e(u);return i.jsxs("div",{className:ee("absolute left-1 right-1 rounded-md px-2 py-1 overflow-hidden cursor-pointer transition-opacity hover:opacity-90",u.status==="tentative"&&"opacity-70 border-dashed border-2"),style:{top:d.top,height:d.height,backgroundColor:f,borderColor:f},onClick:h=>{h.stopPropagation(),l==null||l(u)},children:[i.jsx("div",{className:"text-xs font-medium text-white truncate",children:u.title}),d.height>30&&i.jsx("div",{className:"text-xs text-white/80 truncate",children:cA(Nn(new Date(u.start_time),"HH:mm"))}),d.height>45&&u.customer_name&&i.jsx("div",{className:"text-xs text-white/70 truncate",children:u.customer_name})]},u.id)})]})}function G5e({startHour:e,slotHeight:t}){const n=new Date,s=(n.getHours()*60+n.getMinutes()-e*60)/60*t;return s<0?null:i.jsx("div",{className:"absolute left-16 right-0 z-20 pointer-events-none",style:{top:s+48},children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),i.jsx("div",{className:"flex-1 h-0.5 bg-red-500"})]})})}var Ng=e=>e.type==="checkbox",rc=e=>e instanceof Date,Er=e=>e==null;const aH=e=>typeof e=="object";var bn=e=>!Er(e)&&!Array.isArray(e)&&aH(e)&&!rc(e),Y5e=e=>bn(e)&&e.target?Ng(e.target)?e.target.checked:e.target.value:e,X5e=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Q5e=(e,t)=>e.has(X5e(t)),Z5e=e=>{const t=e.constructor&&e.constructor.prototype;return bn(t)&&t.hasOwnProperty("isPrototypeOf")},uA=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Un(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(uA&&(e instanceof Blob||r))&&(n||bn(e)))if(t=n?[]:{},!n&&!Z5e(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Un(e[s]));else return e;return t}var Yb=e=>/^\w*$/.test(e),Cn=e=>e===void 0,dA=e=>Array.isArray(e)?e.filter(Boolean):[],fA=e=>dA(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ee=(e,t,n)=>{if(!t||!bn(e))return n;const r=(Yb(t)?[t]:fA(t)).reduce((s,a)=>Er(s)?s:s[a],e);return Cn(r)||r===e?Cn(e[t])?n:e[t]:r},Ia=e=>typeof e=="boolean",Rt=(e,t,n)=>{let r=-1;const s=Yb(t)?[t]:fA(t),a=s.length,o=a-1;for(;++r<a;){const l=s[r];let c=n;if(r!==o){const u=e[l];c=bn(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const $D={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},va={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ui={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},J5e=M.createContext(null);J5e.displayName="HookFormContext";var eLe=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==va.all&&(t._proxyFormState[o]=!r||va.all),e[o]}});return s};const tLe=typeof window<"u"?M.useLayoutEffect:M.useEffect;var Ha=e=>typeof e=="string",nLe=(e,t,n,r,s)=>Ha(e)?(r&&t.watch.add(e),Ee(n,e,s)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),Ee(n,a))):(r&&(t.watchAll=!0),n),YN=e=>Er(e)||!aH(e);function So(e,t,n=new WeakSet){if(YN(e)||YN(t))return e===t;if(rc(e)&&rc(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const a of r){const o=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const l=t[a];if(rc(o)&&rc(l)||bn(o)&&bn(l)||Array.isArray(o)&&Array.isArray(l)?!So(o,l,n):o!==l)return!1}}return!0}var iH=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},dm=e=>Array.isArray(e)?e:[e],DD=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}},Br=e=>bn(e)&&!Object.keys(e).length,hA=e=>e.type==="file",xa=e=>typeof e=="function",Zx=e=>{if(!uA)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},oH=e=>e.type==="select-multiple",mA=e=>e.type==="radio",rLe=e=>mA(e)||Ng(e),r_=e=>Zx(e)&&e.isConnected;function sLe(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Cn(e)?r++:e[t[r++]];return e}function aLe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Cn(e[t]))return!1;return!0}function wn(e,t){const n=Array.isArray(t)?t:Yb(t)?[t]:fA(t),r=n.length===1?e:sLe(e,n),s=n.length-1,a=n[s];return r&&delete r[a],s!==0&&(bn(r)&&Br(r)||Array.isArray(r)&&aLe(r))&&wn(e,n.slice(0,-1)),e}var lH=e=>{for(const t in e)if(xa(e[t]))return!0;return!1};function Jx(e,t={}){const n=Array.isArray(e);if(bn(e)||n)for(const r in e)Array.isArray(e[r])||bn(e[r])&&!lH(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Jx(e[r],t[r])):Er(e[r])||(t[r]=!0);return t}function cH(e,t,n){const r=Array.isArray(e);if(bn(e)||r)for(const s in e)Array.isArray(e[s])||bn(e[s])&&!lH(e[s])?Cn(t)||YN(n[s])?n[s]=Array.isArray(e[s])?Jx(e[s],[]):{...Jx(e[s])}:cH(e[s],Er(t)?{}:t[s],n[s]):n[s]=!So(e[s],t[s]);return n}var Ph=(e,t)=>cH(e,t,Jx(t));const LD={value:!1,isValid:!1},FD={value:!0,isValid:!0};var uH=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Cn(e[0].attributes.value)?Cn(e[0].value)||e[0].value===""?FD:{value:e[0].value,isValid:!0}:FD:LD}return LD},dH=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Cn(e)?e:t?e===""?NaN:e&&+e:n&&Ha(e)?new Date(e):r?r(e):e;const BD={isValid:!1,value:null};var fH=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,BD):BD;function VD(e){const t=e.ref;return hA(t)?t.files:mA(t)?fH(e.refs).value:oH(t)?[...t.selectedOptions].map(({value:n})=>n):Ng(t)?uH(e.refs).value:dH(Cn(t.value)?e.ref.value:t.value,e)}var iLe=(e,t,n,r)=>{const s={};for(const a of e){const o=Ee(t,a);o&&Rt(s,a,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},e0=e=>e instanceof RegExp,kh=e=>Cn(e)?e:e0(e)?e.source:bn(e)?e0(e.value)?e.value.source:e.value:e,UD=e=>({isOnSubmit:!e||e===va.onSubmit,isOnBlur:e===va.onBlur,isOnChange:e===va.onChange,isOnAll:e===va.all,isOnTouch:e===va.onTouched});const zD="AsyncFunction";var oLe=e=>!!e&&!!e.validate&&!!(xa(e.validate)&&e.validate.constructor.name===zD||bn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===zD)),lLe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),WD=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const fm=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const a=Ee(e,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(fm(l,t))break}else if(bn(l)&&fm(l,t))break}}};function HD(e,t,n){const r=Ee(e,n);if(r||Yb(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const a=s.join("."),o=Ee(t,a),l=Ee(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};s.pop()}return{name:n}}var cLe=(e,t,n,r)=>{n(e);const{name:s,...a}=e;return Br(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||va.all))},uLe=(e,t,n)=>!e||!t||e===t||dm(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),dLe=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,fLe=(e,t)=>!dA(Ee(e,t)).length&&wn(e,t),hLe=(e,t,n)=>{const r=dm(Ee(e,n));return Rt(r,"root",t[n]),Rt(e,n,r),e},ev=e=>Ha(e);function qD(e,t,n="validate"){if(ev(e)||Array.isArray(e)&&e.every(ev)||Ia(e)&&!e)return{type:n,message:ev(e)?e:"",ref:t}}var bu=e=>bn(e)&&!e0(e)?e:{value:e,message:""},KD=async(e,t,n,r,s,a)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:y,name:p,valueAsNumber:x,mount:w}=e._f,g=Ee(n,p);if(!w||t.has(p))return{};const b=l?l[0]:o,_=E=>{s&&b.reportValidity&&(b.setCustomValidity(Ia(E)?"":E||""),b.reportValidity())},j={},S=mA(o),N=Ng(o),C=S||N,P=(x||hA(o))&&Cn(o.value)&&Cn(g)||Zx(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,k=iH.bind(null,p,r,j),A=(E,I,D,V=ui.maxLength,B=ui.minLength)=>{const F=E?I:D;j[p]={type:E?V:B,message:F,ref:o,...k(E?V:B,F)}};if(a?!Array.isArray(g)||!g.length:c&&(!C&&(P||Er(g))||Ia(g)&&!g||N&&!uH(l).isValid||S&&!fH(l).isValid)){const{value:E,message:I}=ev(c)?{value:!!c,message:c}:bu(c);if(E&&(j[p]={type:ui.required,message:I,ref:b,...k(ui.required,I)},!r))return _(I),j}if(!P&&(!Er(f)||!Er(h))){let E,I;const D=bu(h),V=bu(f);if(!Er(g)&&!isNaN(g)){const B=o.valueAsNumber||g&&+g;Er(D.value)||(E=B>D.value),Er(V.value)||(I=B<V.value)}else{const B=o.valueAsDate||new Date(g),F=O=>new Date(new Date().toDateString()+" "+O),R=o.type=="time",T=o.type=="week";Ha(D.value)&&g&&(E=R?F(g)>F(D.value):T?g>D.value:B>new Date(D.value)),Ha(V.value)&&g&&(I=R?F(g)<F(V.value):T?g<V.value:B<new Date(V.value))}if((E||I)&&(A(!!E,D.message,V.message,ui.max,ui.min),!r))return _(j[p].message),j}if((u||d)&&!P&&(Ha(g)||a&&Array.isArray(g))){const E=bu(u),I=bu(d),D=!Er(E.value)&&g.length>+E.value,V=!Er(I.value)&&g.length<+I.value;if((D||V)&&(A(D,E.message,I.message),!r))return _(j[p].message),j}if(m&&!P&&Ha(g)){const{value:E,message:I}=bu(m);if(e0(E)&&!g.match(E)&&(j[p]={type:ui.pattern,message:I,ref:o,...k(ui.pattern,I)},!r))return _(I),j}if(y){if(xa(y)){const E=await y(g,n),I=qD(E,b);if(I&&(j[p]={...I,...k(ui.validate,I.message)},!r))return _(I.message),j}else if(bn(y)){let E={};for(const I in y){if(!Br(E)&&!r)break;const D=qD(await y[I](g,n),b,I);D&&(E={...D,...k(I,D.message)},_(D.message),r&&(j[p]=E))}if(!Br(E)&&(j[p]={ref:b,...E},!r))return j}}return _(!0),j};const mLe={mode:va.onSubmit,reValidateMode:va.onChange,shouldFocusError:!0};function pLe(e={}){let t={...mLe,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:xa(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=bn(t.defaultValues)||bn(t.values)?Un(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Un(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:DD(),state:DD()},m=t.criteriaMode===va.all,y=L=>H=>{clearTimeout(u),u=setTimeout(L,H)},p=async L=>{if(!t.disabled&&(d.isValid||f.isValid||L)){const H=t.resolver?Br((await N()).errors):await P(r,!0);H!==n.isValid&&h.state.next({isValid:H})}},x=(L,H)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((L||Array.from(l.mount)).forEach(X=>{X&&(H?Rt(n.validatingFields,X,H):wn(n.validatingFields,X))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Br(n.validatingFields)}))},w=(L,H=[],X,fe,de=!0,oe=!0)=>{if(fe&&X&&!t.disabled){if(o.action=!0,oe&&Array.isArray(Ee(r,L))){const xe=X(Ee(r,L),fe.argA,fe.argB);de&&Rt(r,L,xe)}if(oe&&Array.isArray(Ee(n.errors,L))){const xe=X(Ee(n.errors,L),fe.argA,fe.argB);de&&Rt(n.errors,L,xe),fLe(n.errors,L)}if((d.touchedFields||f.touchedFields)&&oe&&Array.isArray(Ee(n.touchedFields,L))){const xe=X(Ee(n.touchedFields,L),fe.argA,fe.argB);de&&Rt(n.touchedFields,L,xe)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Ph(s,a)),h.state.next({name:L,isDirty:A(L,H),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Rt(a,L,H)},g=(L,H)=>{Rt(n.errors,L,H),h.state.next({errors:n.errors})},b=L=>{n.errors=L,h.state.next({errors:n.errors,isValid:!1})},_=(L,H,X,fe)=>{const de=Ee(r,L);if(de){const oe=Ee(a,L,Cn(X)?Ee(s,L):X);Cn(oe)||fe&&fe.defaultChecked||H?Rt(a,L,H?oe:VD(de._f)):D(L,oe),o.mount&&p()}},j=(L,H,X,fe,de)=>{let oe=!1,xe=!1;const We={name:L};if(!t.disabled){if(!X||fe){(d.isDirty||f.isDirty)&&(xe=n.isDirty,n.isDirty=We.isDirty=A(),oe=xe!==We.isDirty);const yt=So(Ee(s,L),H);xe=!!Ee(n.dirtyFields,L),yt?wn(n.dirtyFields,L):Rt(n.dirtyFields,L,!0),We.dirtyFields=n.dirtyFields,oe=oe||(d.dirtyFields||f.dirtyFields)&&xe!==!yt}if(X){const yt=Ee(n.touchedFields,L);yt||(Rt(n.touchedFields,L,X),We.touchedFields=n.touchedFields,oe=oe||(d.touchedFields||f.touchedFields)&&yt!==X)}oe&&de&&h.state.next(We)}return oe?We:{}},S=(L,H,X,fe)=>{const de=Ee(n.errors,L),oe=(d.isValid||f.isValid)&&Ia(H)&&n.isValid!==H;if(t.delayError&&X?(c=y(()=>g(L,X)),c(t.delayError)):(clearTimeout(u),c=null,X?Rt(n.errors,L,X):wn(n.errors,L)),(X?!So(de,X):de)||!Br(fe)||oe){const xe={...fe,...oe&&Ia(H)?{isValid:H}:{},errors:n.errors,name:L};n={...n,...xe},h.state.next(xe)}},N=async L=>{x(L,!0);const H=await t.resolver(a,t.context,iLe(L||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return x(L),H},C=async L=>{const{errors:H}=await N(L);if(L)for(const X of L){const fe=Ee(H,X);fe?Rt(n.errors,X,fe):wn(n.errors,X)}else n.errors=H;return H},P=async(L,H,X={valid:!0})=>{for(const fe in L){const de=L[fe];if(de){const{_f:oe,...xe}=de;if(oe){const We=l.array.has(oe.name),yt=de._f&&oLe(de._f);yt&&d.validatingFields&&x([fe],!0);const Qn=await KD(de,l.disabled,a,m,t.shouldUseNativeValidation&&!H,We);if(yt&&d.validatingFields&&x([fe]),Qn[oe.name]&&(X.valid=!1,H))break;!H&&(Ee(Qn,oe.name)?We?hLe(n.errors,Qn,oe.name):Rt(n.errors,oe.name,Qn[oe.name]):wn(n.errors,oe.name))}!Br(xe)&&await P(xe,H,X)}}return X.valid},k=()=>{for(const L of l.unMount){const H=Ee(r,L);H&&(H._f.refs?H._f.refs.every(X=>!r_(X)):!r_(H._f.ref))&&re(L)}l.unMount=new Set},A=(L,H)=>!t.disabled&&(L&&H&&Rt(a,L,H),!So(O(),s)),E=(L,H,X)=>nLe(L,l,{...o.mount?a:Cn(H)?s:Ha(L)?{[L]:H}:H},X,H),I=L=>dA(Ee(o.mount?a:s,L,t.shouldUnregister?Ee(s,L,[]):[])),D=(L,H,X={})=>{const fe=Ee(r,L);let de=H;if(fe){const oe=fe._f;oe&&(!oe.disabled&&Rt(a,L,dH(H,oe)),de=Zx(oe.ref)&&Er(H)?"":H,oH(oe.ref)?[...oe.ref.options].forEach(xe=>xe.selected=de.includes(xe.value)):oe.refs?Ng(oe.ref)?oe.refs.forEach(xe=>{(!xe.defaultChecked||!xe.disabled)&&(Array.isArray(de)?xe.checked=!!de.find(We=>We===xe.value):xe.checked=de===xe.value||!!de)}):oe.refs.forEach(xe=>xe.checked=xe.value===de):hA(oe.ref)?oe.ref.value="":(oe.ref.value=de,oe.ref.type||h.state.next({name:L,values:Un(a)})))}(X.shouldDirty||X.shouldTouch)&&j(L,de,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&T(L)},V=(L,H,X)=>{for(const fe in H){if(!H.hasOwnProperty(fe))return;const de=H[fe],oe=L+"."+fe,xe=Ee(r,oe);(l.array.has(L)||bn(de)||xe&&!xe._f)&&!rc(de)?V(oe,de,X):D(oe,de,X)}},B=(L,H,X={})=>{const fe=Ee(r,L),de=l.array.has(L),oe=Un(H);Rt(a,L,oe),de?(h.array.next({name:L,values:Un(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&X.shouldDirty&&h.state.next({name:L,dirtyFields:Ph(s,a),isDirty:A(L,oe)})):fe&&!fe._f&&!Er(oe)?V(L,oe,X):D(L,oe,X),WD(L,l)&&h.state.next({...n,name:L}),h.state.next({name:o.mount?L:void 0,values:Un(a)})},F=async L=>{o.mount=!0;const H=L.target;let X=H.name,fe=!0;const de=Ee(r,X),oe=yt=>{fe=Number.isNaN(yt)||rc(yt)&&isNaN(yt.getTime())||So(yt,Ee(a,X,yt))},xe=UD(t.mode),We=UD(t.reValidateMode);if(de){let yt,Qn;const Ys=H.type?VD(de._f):Y5e(L),Ss=L.type===$D.BLUR||L.type===$D.FOCUS_OUT,ru=!lLe(de._f)&&!t.resolver&&!Ee(n.errors,X)&&!de._f.deps||dLe(Ss,Ee(n.touchedFields,X),n.isSubmitted,We,xe),Sr=WD(X,l,Ss);Rt(a,X,Ys),Ss?(de._f.onBlur&&de._f.onBlur(L),c&&c(0)):de._f.onChange&&de._f.onChange(L);const Dr=j(X,Ys,Ss),su=!Br(Dr)||Sr;if(!Ss&&h.state.next({name:X,type:L.type,values:Un(a)}),ru)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Ss&&p():Ss||p()),su&&h.state.next({name:X,...Sr?{}:Dr});if(!Ss&&Sr&&h.state.next({...n}),t.resolver){const{errors:oi}=await N([X]);if(oe(Ys),fe){const ow=HD(n.errors,r,X),Pg=HD(oi,r,ow.name||X);yt=Pg.error,X=Pg.name,Qn=Br(oi)}}else x([X],!0),yt=(await KD(de,l.disabled,a,m,t.shouldUseNativeValidation))[X],x([X]),oe(Ys),fe&&(yt?Qn=!1:(d.isValid||f.isValid)&&(Qn=await P(r,!0)));fe&&(de._f.deps&&T(de._f.deps),S(X,Qn,yt,Dr))}},R=(L,H)=>{if(Ee(n.errors,H)&&L.focus)return L.focus(),1},T=async(L,H={})=>{let X,fe;const de=dm(L);if(t.resolver){const oe=await C(Cn(L)?L:de);X=Br(oe),fe=L?!de.some(xe=>Ee(oe,xe)):X}else L?(fe=(await Promise.all(de.map(async oe=>{const xe=Ee(r,oe);return await P(xe&&xe._f?{[oe]:xe}:xe)}))).every(Boolean),!(!fe&&!n.isValid)&&p()):fe=X=await P(r);return h.state.next({...!Ha(L)||(d.isValid||f.isValid)&&X!==n.isValid?{}:{name:L},...t.resolver||!L?{isValid:X}:{},errors:n.errors}),H.shouldFocus&&!fe&&fm(r,R,L?de:l.mount),fe},O=L=>{const H={...o.mount?a:s};return Cn(L)?H:Ha(L)?Ee(H,L):L.map(X=>Ee(H,X))},W=(L,H)=>({invalid:!!Ee((H||n).errors,L),isDirty:!!Ee((H||n).dirtyFields,L),error:Ee((H||n).errors,L),isValidating:!!Ee(n.validatingFields,L),isTouched:!!Ee((H||n).touchedFields,L)}),$=L=>{L&&dm(L).forEach(H=>wn(n.errors,H)),h.state.next({errors:L?n.errors:{}})},Y=(L,H,X)=>{const fe=(Ee(r,L,{_f:{}})._f||{}).ref,de=Ee(n.errors,L)||{},{ref:oe,message:xe,type:We,...yt}=de;Rt(n.errors,L,{...yt,...H,ref:fe}),h.state.next({name:L,errors:n.errors,isValid:!1}),X&&X.shouldFocus&&fe&&fe.focus&&fe.focus()},U=(L,H)=>xa(L)?h.state.subscribe({next:X=>"values"in X&&L(E(void 0,H),X)}):E(L,H,!0),ne=L=>h.state.subscribe({next:H=>{uLe(L.name,H.name,L.exact)&&cLe(H,L.formState||d,ke,L.reRenderRoot)&&L.callback({values:{...a},...n,...H,defaultValues:s})}}).unsubscribe,be=L=>(o.mount=!0,f={...f,...L.formState},ne({...L,formState:f})),re=(L,H={})=>{for(const X of L?dm(L):l.mount)l.mount.delete(X),l.array.delete(X),H.keepValue||(wn(r,X),wn(a,X)),!H.keepError&&wn(n.errors,X),!H.keepDirty&&wn(n.dirtyFields,X),!H.keepTouched&&wn(n.touchedFields,X),!H.keepIsValidating&&wn(n.validatingFields,X),!t.shouldUnregister&&!H.keepDefaultValue&&wn(s,X);h.state.next({values:Un(a)}),h.state.next({...n,...H.keepDirty?{isDirty:A()}:{}}),!H.keepIsValid&&p()},Me=({disabled:L,name:H})=>{(Ia(L)&&o.mount||L||l.disabled.has(H))&&(L?l.disabled.add(H):l.disabled.delete(H))},te=(L,H={})=>{let X=Ee(r,L);const fe=Ia(H.disabled)||Ia(t.disabled);return Rt(r,L,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:L}},name:L,mount:!0,...H}}),l.mount.add(L),X?Me({disabled:Ia(H.disabled)?H.disabled:t.disabled,name:L}):_(L,!0,H.value),{...fe?{disabled:H.disabled||t.disabled}:{},...t.progressive?{required:!!H.required,min:kh(H.min),max:kh(H.max),minLength:kh(H.minLength),maxLength:kh(H.maxLength),pattern:kh(H.pattern)}:{},name:L,onChange:F,onBlur:F,ref:de=>{if(de){te(L,H),X=Ee(r,L);const oe=Cn(de.value)&&de.querySelectorAll&&de.querySelectorAll("input,select,textarea")[0]||de,xe=rLe(oe),We=X._f.refs||[];if(xe?We.find(yt=>yt===oe):oe===X._f.ref)return;Rt(r,L,{_f:{...X._f,...xe?{refs:[...We.filter(r_),oe,...Array.isArray(Ee(s,L))?[{}]:[]],ref:{type:oe.type,name:L}}:{ref:oe}}}),_(L,!1,void 0,oe)}else X=Ee(r,L,{}),X._f&&(X._f.mount=!1),(t.shouldUnregister||H.shouldUnregister)&&!(Q5e(l.array,L)&&o.action)&&l.unMount.add(L)}}},J=()=>t.shouldFocusError&&fm(r,R,l.mount),ae=L=>{Ia(L)&&(h.state.next({disabled:L}),fm(r,(H,X)=>{const fe=Ee(r,X);fe&&(H.disabled=fe._f.disabled||L,Array.isArray(fe._f.refs)&&fe._f.refs.forEach(de=>{de.disabled=fe._f.disabled||L}))},0,!1))},K=(L,H)=>async X=>{let fe;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let de=Un(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:oe,values:xe}=await N();n.errors=oe,de=Un(xe)}else await P(r);if(l.disabled.size)for(const oe of l.disabled)wn(de,oe);if(wn(n.errors,"root"),Br(n.errors)){h.state.next({errors:{}});try{await L(de,X)}catch(oe){fe=oe}}else H&&await H({...n.errors},X),J(),setTimeout(J);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Br(n.errors)&&!fe,submitCount:n.submitCount+1,errors:n.errors}),fe)throw fe},Se=(L,H={})=>{Ee(r,L)&&(Cn(H.defaultValue)?B(L,Un(Ee(s,L))):(B(L,H.defaultValue),Rt(s,L,Un(H.defaultValue))),H.keepTouched||wn(n.touchedFields,L),H.keepDirty||(wn(n.dirtyFields,L),n.isDirty=H.defaultValue?A(L,Un(Ee(s,L))):A()),H.keepError||(wn(n.errors,L),d.isValid&&p()),h.state.next({...n}))},q=(L,H={})=>{const X=L?Un(L):s,fe=Un(X),de=Br(L),oe=de?s:fe;if(H.keepDefaultValues||(s=X),!H.keepValues){if(H.keepDirtyValues){const xe=new Set([...l.mount,...Object.keys(Ph(s,a))]);for(const We of Array.from(xe))Ee(n.dirtyFields,We)?Rt(oe,We,Ee(a,We)):B(We,Ee(oe,We))}else{if(uA&&Cn(L))for(const xe of l.mount){const We=Ee(r,xe);if(We&&We._f){const yt=Array.isArray(We._f.refs)?We._f.refs[0]:We._f.ref;if(Zx(yt)){const Qn=yt.closest("form");if(Qn){Qn.reset();break}}}}if(H.keepFieldsRef)for(const xe of l.mount)B(xe,Ee(oe,xe));else r={}}a=t.shouldUnregister?H.keepDefaultValues?Un(s):{}:Un(oe),h.array.next({values:{...oe}}),h.state.next({values:{...oe}})}l={mount:H.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!H.keepIsValid||!!H.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:H.keepSubmitCount?n.submitCount:0,isDirty:de?!1:H.keepDirty?n.isDirty:!!(H.keepDefaultValues&&!So(L,s)),isSubmitted:H.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:de?{}:H.keepDirtyValues?H.keepDefaultValues&&a?Ph(s,a):n.dirtyFields:H.keepDefaultValues&&L?Ph(s,L):H.keepDirty?n.dirtyFields:{},touchedFields:H.keepTouched?n.touchedFields:{},errors:H.keepErrors?n.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},se=(L,H)=>q(xa(L)?L(a):L,H),ve=(L,H={})=>{const X=Ee(r,L),fe=X&&X._f;if(fe){const de=fe.refs?fe.refs[0]:fe.ref;de.focus&&(de.focus(),H.shouldSelect&&xa(de.select)&&de.select())}},ke=L=>{n={...n,...L}},$e={control:{register:te,unregister:re,getFieldState:W,handleSubmit:K,setError:Y,_subscribe:ne,_runSchema:N,_focusError:J,_getWatch:E,_getDirty:A,_setValid:p,_setFieldArray:w,_setDisabledField:Me,_setErrors:b,_getFieldArray:I,_reset:q,_resetDefaultValues:()=>xa(t.defaultValues)&&t.defaultValues().then(L=>{se(L,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:ae,_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(L){o=L},get _defaultValues(){return s},get _names(){return l},set _names(L){l=L},get _formState(){return n},get _options(){return t},set _options(L){t={...t,...L}}},subscribe:be,trigger:T,register:te,handleSubmit:K,watch:U,setValue:B,getValues:O,reset:se,resetField:Se,clearErrors:$,unregister:re,setError:Y,setFocus:ve,getFieldState:W};return{...$e,formControl:$e}}function XN(e={}){const t=M.useRef(void 0),n=M.useRef(void 0),[r,s]=M.useState({isDirty:!1,isValidating:!1,isLoading:xa(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:xa(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!xa(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=pLe(e);t.current={...l,formState:r}}const a=t.current.control;return a._options=e,tLe(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),M.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),M.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),M.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),M.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),M.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),M.useEffect(()=>{e.values&&!So(e.values,n.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),n.current=e.values,s(o=>({...o}))):a._resetDefaultValues()},[a,e.values]),M.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=eLe(r,a),t.current}var Xb="Dialog",[hH,mH]=Yn(Xb),[gLe,Ta]=hH(Xb),pH=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[u,d]=Kn({prop:r,defaultProp:s??!1,onChange:a,caller:Xb});return i.jsx(gLe,{scope:t,triggerRef:l,contentRef:c,contentId:wr(),titleId:wr(),descriptionId:wr(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};pH.displayName=Xb;var gH="DialogTrigger",yH=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ta(gH,n),a=Ue(t,s.triggerRef);return i.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":yA(s.open),...r,ref:a,onClick:ce(e.onClick,s.onOpenToggle)})});yH.displayName=gH;var pA="DialogPortal",[yLe,vH]=hH(pA,{forceMount:void 0}),xH=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=Ta(pA,t);return i.jsx(yLe,{scope:t,forceMount:n,children:v.Children.map(r,o=>i.jsx(Bn,{present:n||a.open,children:i.jsx(xf,{asChild:!0,container:s,children:o})}))})};xH.displayName=pA;var t0="DialogOverlay",bH=v.forwardRef((e,t)=>{const n=vH(t0,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Ta(t0,e.__scopeDialog);return a.modal?i.jsx(Bn,{present:r||a.open,children:i.jsx(xLe,{...s,ref:t})}):null});bH.displayName=t0;var vLe=rl("DialogOverlay.RemoveScroll"),xLe=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ta(t0,n);return i.jsx(cg,{as:vLe,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(Ne.div,{"data-state":yA(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Lc="DialogContent",wH=v.forwardRef((e,t)=>{const n=vH(Lc,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Ta(Lc,e.__scopeDialog);return i.jsx(Bn,{present:r||a.open,children:a.modal?i.jsx(bLe,{...s,ref:t}):i.jsx(wLe,{...s,ref:t})})});wH.displayName=Lc;var bLe=v.forwardRef((e,t)=>{const n=Ta(Lc,e.__scopeDialog),r=v.useRef(null),s=Ue(t,n.contentRef,r);return v.useEffect(()=>{const a=r.current;if(a)return J0(a)},[]),i.jsx(_H,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ce(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ce(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:ce(e.onFocusOutside,a=>a.preventDefault())})}),wLe=v.forwardRef((e,t)=>{const n=Ta(Lc,e.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return i.jsx(_H,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),_H=v.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=Ta(Lc,n),c=v.useRef(null),u=Ue(t,c);return Z0(),i.jsxs(i.Fragment,{children:[i.jsx(lg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Hc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":yA(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(jLe,{titleId:l.titleId}),i.jsx(NLe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),gA="DialogTitle",jH=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ta(gA,n);return i.jsx(Ne.h2,{id:s.titleId,...r,ref:t})});jH.displayName=gA;var SH="DialogDescription",NH=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ta(SH,n);return i.jsx(Ne.p,{id:s.descriptionId,...r,ref:t})});NH.displayName=SH;var CH="DialogClose",PH=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ta(CH,n);return i.jsx(Ne.button,{type:"button",...r,ref:t,onClick:ce(e.onClick,()=>s.onOpenChange(!1))})});PH.displayName=CH;function yA(e){return e?"open":"closed"}var kH="DialogTitleWarning",[_Le,EH]=fY(kH,{contentName:Lc,titleName:gA,docsSlug:"dialog"}),jLe=({titleId:e})=>{const t=EH(kH),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},SLe="DialogDescriptionWarning",NLe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${EH(SLe).contentName}}.`;return v.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},AH=pH,TH=yH,OH=xH,vA=bH,xA=wH,bA=jH,wA=NH,_A=PH;const ps=AH,n0=TH,CLe=OH,MH=v.forwardRef(({className:e,...t},n)=>i.jsx(vA,{ref:n,className:ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));MH.displayName=vA.displayName;const Xr=v.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(CLe,{children:[i.jsx(MH,{}),i.jsxs(xA,{ref:r,className:ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,i.jsxs(_A,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(Om,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xr.displayName=xA.displayName;const Qr=({className:e,...t})=>i.jsx("div",{className:ee("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Qr.displayName="DialogHeader";const Zr=({className:e,...t})=>i.jsx("div",{className:ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Zr.displayName="DialogFooter";const Jr=v.forwardRef(({className:e,...t},n)=>i.jsx(bA,{ref:n,className:ee("text-lg font-semibold leading-none tracking-tight",e),...t}));Jr.displayName=bA.displayName;const gs=v.forwardRef(({className:e,...t},n)=>i.jsx(wA,{ref:n,className:ee("text-sm text-muted-foreground",e),...t}));gs.displayName=wA.displayName;var PLe="Label",RH=v.forwardRef((e,t)=>i.jsx(Ne.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));RH.displayName=PLe;var IH=RH;const kLe=bf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),pe=v.forwardRef(({className:e,...t},n)=>i.jsx(IH,{ref:n,className:ee(kLe(),e),...t}));pe.displayName=IH.displayName;const bs=v.forwardRef(({className:e,...t},n)=>i.jsx("textarea",{className:ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));bs.displayName="Textarea";function jA(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ELe=[" ","Enter","ArrowUp","ArrowDown"],ALe=[" ","Enter"],Fc="Select",[Qb,Zb,TLe]=Kp(Fc),[Gf,o6e]=Yn(Fc,[TLe,pl]),Jb=pl(),[OLe,Pl]=Gf(Fc),[MLe,RLe]=Gf(Fc),$H=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:y}=e,p=Jb(t),[x,w]=v.useState(null),[g,b]=v.useState(null),[_,j]=v.useState(!1),S=Kc(u),[N,C]=Kn({prop:r,defaultProp:s??!1,onChange:a,caller:Fc}),[P,k]=Kn({prop:o,defaultProp:l,onChange:c,caller:Fc}),A=v.useRef(null),E=x?y||!!x.closest("form"):!0,[I,D]=v.useState(new Set),V=Array.from(I).map(B=>B.props.value).join(";");return i.jsx(Jp,{...p,children:i.jsxs(OLe,{required:m,scope:t,trigger:x,onTriggerChange:w,valueNode:g,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:wr(),value:P,onValueChange:k,open:N,onOpenChange:C,dir:S,triggerPointerDownPosRef:A,disabled:h,children:[i.jsx(Qb.Provider,{scope:t,children:i.jsx(MLe,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(B=>{D(F=>new Set(F).add(B))},[]),onNativeOptionRemove:v.useCallback(B=>{D(F=>{const R=new Set(F);return R.delete(B),R})},[]),children:n})}),E?i.jsxs(i7,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:B=>k(B.target.value),disabled:h,form:y,children:[P===void 0?i.jsx("option",{value:""}):null,Array.from(I)]},V):null]})})};$H.displayName=Fc;var DH="SelectTrigger",LH=v.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=Jb(n),o=Pl(DH,n),l=o.disabled||r,c=Ue(t,o.onTriggerChange),u=Zb(n),d=v.useRef("touch"),[f,h,m]=l7(p=>{const x=u().filter(b=>!b.disabled),w=x.find(b=>b.value===o.value),g=c7(x,p,w);g!==void 0&&o.onValueChange(g.value)}),y=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return i.jsx(eg,{asChild:!0,...a,children:i.jsx(Ne.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":o7(o.value)?"":void 0,...s,ref:c,onClick:ce(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&y(p)}),onPointerDown:ce(s.onPointerDown,p=>{d.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(y(p),p.preventDefault())}),onKeyDown:ce(s.onKeyDown,p=>{const x=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(x&&p.key===" ")&&ELe.includes(p.key)&&(y(),p.preventDefault())})})})});LH.displayName=DH;var FH="SelectValue",BH=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:o="",...l}=e,c=Pl(FH,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Ue(t,c.onValueNodeChange);return Fn(()=>{u(d)},[u,d]),i.jsx(Ne.span,{...l,ref:f,style:{pointerEvents:"none"},children:o7(c.value)?i.jsx(i.Fragment,{children:o}):a})});BH.displayName=FH;var ILe="SelectIcon",VH=v.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return i.jsx(Ne.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});VH.displayName=ILe;var $Le="SelectPortal",UH=e=>i.jsx(xf,{asChild:!0,...e});UH.displayName=$Le;var Bc="SelectContent",zH=v.forwardRef((e,t)=>{const n=Pl(Bc,e.__scopeSelect),[r,s]=v.useState();if(Fn(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?Wc.createPortal(i.jsx(WH,{scope:e.__scopeSelect,children:i.jsx(Qb.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(HH,{...e,ref:t})});zH.displayName=Bc;var ia=10,[WH,kl]=Gf(Bc),DLe="SelectContentImpl",LLe=rl("SelectContent.RemoveScroll"),HH=v.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:p,avoidCollisions:x,...w}=e,g=Pl(Bc,n),[b,_]=v.useState(null),[j,S]=v.useState(null),N=Ue(t,re=>_(re)),[C,P]=v.useState(null),[k,A]=v.useState(null),E=Zb(n),[I,D]=v.useState(!1),V=v.useRef(!1);v.useEffect(()=>{if(b)return J0(b)},[b]),Z0();const B=v.useCallback(re=>{const[Me,...te]=E().map(K=>K.ref.current),[J]=te.slice(-1),ae=document.activeElement;for(const K of re)if(K===ae||(K==null||K.scrollIntoView({block:"nearest"}),K===Me&&j&&(j.scrollTop=0),K===J&&j&&(j.scrollTop=j.scrollHeight),K==null||K.focus(),document.activeElement!==ae))return},[E,j]),F=v.useCallback(()=>B([C,b]),[B,C,b]);v.useEffect(()=>{I&&F()},[I,F]);const{onOpenChange:R,triggerPointerDownPosRef:T}=g;v.useEffect(()=>{if(b){let re={x:0,y:0};const Me=J=>{var ae,K;re={x:Math.abs(Math.round(J.pageX)-(((ae=T.current)==null?void 0:ae.x)??0)),y:Math.abs(Math.round(J.pageY)-(((K=T.current)==null?void 0:K.y)??0))}},te=J=>{re.x<=10&&re.y<=10?J.preventDefault():b.contains(J.target)||R(!1),document.removeEventListener("pointermove",Me),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",Me),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Me),document.removeEventListener("pointerup",te,{capture:!0})}}},[b,R,T]),v.useEffect(()=>{const re=()=>R(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[R]);const[O,W]=l7(re=>{const Me=E().filter(ae=>!ae.disabled),te=Me.find(ae=>ae.ref.current===document.activeElement),J=c7(Me,re,te);J&&setTimeout(()=>J.ref.current.focus())}),$=v.useCallback((re,Me,te)=>{const J=!V.current&&!te;(g.value!==void 0&&g.value===Me||J)&&(P(re),J&&(V.current=!0))},[g.value]),Y=v.useCallback(()=>b==null?void 0:b.focus(),[b]),U=v.useCallback((re,Me,te)=>{const J=!V.current&&!te;(g.value!==void 0&&g.value===Me||J)&&A(re)},[g.value]),ne=r==="popper"?QN:qH,be=ne===QN?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:p,avoidCollisions:x}:{};return i.jsx(WH,{scope:n,content:b,viewport:j,onViewportChange:S,itemRefCallback:$,selectedItem:C,onItemLeave:Y,itemTextRefCallback:U,focusSelectedItem:F,selectedItemText:k,position:r,isPositioned:I,searchRef:O,children:i.jsx(cg,{as:LLe,allowPinchZoom:!0,children:i.jsx(lg,{asChild:!0,trapped:g.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:ce(s,re=>{var Me;(Me=g.trigger)==null||Me.focus({preventScroll:!0}),re.preventDefault()}),children:i.jsx(Hc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:i.jsx(ne,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:re=>re.preventDefault(),...w,...be,onPlaced:()=>D(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:ce(w.onKeyDown,re=>{const Me=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!Me&&re.key.length===1&&W(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let J=E().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(re.key)&&(J=J.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const ae=re.target,K=J.indexOf(ae);J=J.slice(K+1)}setTimeout(()=>B(J)),re.preventDefault()}})})})})})})});HH.displayName=DLe;var FLe="SelectItemAlignedPosition",qH=v.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=Pl(Bc,n),o=kl(Bc,n),[l,c]=v.useState(null),[u,d]=v.useState(null),f=Ue(t,N=>d(N)),h=Zb(n),m=v.useRef(!1),y=v.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:w,focusSelectedItem:g}=o,b=v.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&p&&x&&w){const N=a.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),k=w.getBoundingClientRect();if(a.dir!=="rtl"){const ae=k.left-C.left,K=P.left-ae,Se=N.left-K,q=N.width+Se,se=Math.max(q,C.width),ve=window.innerWidth-ia,ke=GN(K,[ia,Math.max(ia,ve-se)]);l.style.minWidth=q+"px",l.style.left=ke+"px"}else{const ae=C.right-k.right,K=window.innerWidth-P.right-ae,Se=window.innerWidth-N.right-K,q=N.width+Se,se=Math.max(q,C.width),ve=window.innerWidth-ia,ke=GN(K,[ia,Math.max(ia,ve-se)]);l.style.minWidth=q+"px",l.style.right=ke+"px"}const A=h(),E=window.innerHeight-ia*2,I=p.scrollHeight,D=window.getComputedStyle(u),V=parseInt(D.borderTopWidth,10),B=parseInt(D.paddingTop,10),F=parseInt(D.borderBottomWidth,10),R=parseInt(D.paddingBottom,10),T=V+B+I+R+F,O=Math.min(x.offsetHeight*5,T),W=window.getComputedStyle(p),$=parseInt(W.paddingTop,10),Y=parseInt(W.paddingBottom,10),U=N.top+N.height/2-ia,ne=E-U,be=x.offsetHeight/2,re=x.offsetTop+be,Me=V+B+re,te=T-Me;if(Me<=U){const ae=A.length>0&&x===A[A.length-1].ref.current;l.style.bottom="0px";const K=u.clientHeight-p.offsetTop-p.offsetHeight,Se=Math.max(ne,be+(ae?Y:0)+K+F),q=Me+Se;l.style.height=q+"px"}else{const ae=A.length>0&&x===A[0].ref.current;l.style.top="0px";const Se=Math.max(U,V+p.offsetTop+(ae?$:0)+be)+te;l.style.height=Se+"px",p.scrollTop=Me-U+p.offsetTop}l.style.margin=`${ia}px 0`,l.style.minHeight=O+"px",l.style.maxHeight=E+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,a.trigger,a.valueNode,l,u,p,x,w,a.dir,r]);Fn(()=>b(),[b]);const[_,j]=v.useState();Fn(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=v.useCallback(N=>{N&&y.current===!0&&(b(),g==null||g(),y.current=!1)},[b,g]);return i.jsx(VLe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:i.jsx(Ne.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});qH.displayName=FLe;var BLe="SelectPopperPosition",QN=v.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ia,...a}=e,o=Jb(n);return i.jsx(I0,{...o,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});QN.displayName=BLe;var[VLe,SA]=Gf(Bc,{}),ZN="SelectViewport",KH=v.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=kl(ZN,n),o=SA(ZN,n),l=Ue(t,a.onViewportChange),c=v.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(Qb.Slot,{scope:n,children:i.jsx(Ne.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ce(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const y=window.innerHeight-ia*2,p=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),w=Math.max(p,x);if(w<y){const g=w+m,b=Math.min(y,g),_=g-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});KH.displayName=ZN;var GH="SelectGroup",[ULe,zLe]=Gf(GH),WLe=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=wr();return i.jsx(ULe,{scope:n,id:s,children:i.jsx(Ne.div,{role:"group","aria-labelledby":s,...r,ref:t})})});WLe.displayName=GH;var YH="SelectLabel",XH=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=zLe(YH,n);return i.jsx(Ne.div,{id:s.id,...r,ref:t})});XH.displayName=YH;var r0="SelectItem",[HLe,QH]=Gf(r0),ZH=v.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...o}=e,l=Pl(r0,n),c=kl(r0,n),u=l.value===r,[d,f]=v.useState(a??""),[h,m]=v.useState(!1),y=Ue(t,g=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,g,r,s)}),p=wr(),x=v.useRef("touch"),w=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(HLe,{scope:n,value:r,disabled:s,textId:p,isSelected:u,onItemTextChange:v.useCallback(g=>{f(b=>b||((g==null?void 0:g.textContent)??"").trim())},[]),children:i.jsx(Qb.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:i.jsx(Ne.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:y,onFocus:ce(o.onFocus,()=>m(!0)),onBlur:ce(o.onBlur,()=>m(!1)),onClick:ce(o.onClick,()=>{x.current!=="mouse"&&w()}),onPointerUp:ce(o.onPointerUp,()=>{x.current==="mouse"&&w()}),onPointerDown:ce(o.onPointerDown,g=>{x.current=g.pointerType}),onPointerMove:ce(o.onPointerMove,g=>{var b;x.current=g.pointerType,s?(b=c.onItemLeave)==null||b.call(c):x.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ce(o.onPointerLeave,g=>{var b;g.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:ce(o.onKeyDown,g=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&g.key===" "||(ALe.includes(g.key)&&w(),g.key===" "&&g.preventDefault())})})})})});ZH.displayName=r0;var Bh="SelectItemText",JH=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,o=Pl(Bh,n),l=kl(Bh,n),c=QH(Bh,n),u=RLe(Bh,n),[d,f]=v.useState(null),h=Ue(t,w=>f(w),c.onItemTextChange,w=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,w,c.value,c.disabled)}),m=d==null?void 0:d.textContent,y=v.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return Fn(()=>(p(y),()=>x(y)),[p,x,y]),i.jsxs(i.Fragment,{children:[i.jsx(Ne.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Wc.createPortal(a.children,o.valueNode):null]})});JH.displayName=Bh;var e7="SelectItemIndicator",t7=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return QH(e7,n).isSelected?i.jsx(Ne.span,{"aria-hidden":!0,...r,ref:t}):null});t7.displayName=e7;var JN="SelectScrollUpButton",n7=v.forwardRef((e,t)=>{const n=kl(JN,e.__scopeSelect),r=SA(JN,e.__scopeSelect),[s,a]=v.useState(!1),o=Ue(t,r.onScrollButtonChange);return Fn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(s7,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});n7.displayName=JN;var eC="SelectScrollDownButton",r7=v.forwardRef((e,t)=>{const n=kl(eC,e.__scopeSelect),r=SA(eC,e.__scopeSelect),[s,a]=v.useState(!1),o=Ue(t,r.onScrollButtonChange);return Fn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(s7,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});r7.displayName=eC;var s7=v.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=kl("SelectScrollButton",n),o=v.useRef(null),l=Zb(n),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),Fn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(Ne.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ce(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ce(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ce(s.onPointerLeave,()=>{c()})})}),qLe="SelectSeparator",a7=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i.jsx(Ne.div,{"aria-hidden":!0,...r,ref:t})});a7.displayName=qLe;var tC="SelectArrow",KLe=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Jb(n),a=Pl(tC,n),o=kl(tC,n);return a.open&&o.position==="popper"?i.jsx($0,{...s,...r,ref:t}):null});KLe.displayName=tC;var GLe="SelectBubbleInput",i7=v.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=v.useRef(null),a=Ue(r,s),o=jA(t);return v.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),i.jsx(Ne.select,{...n,style:{...JL,...n.style},ref:a,defaultValue:t})});i7.displayName=GLe;function o7(e){return e===""||e===void 0}function l7(e){const t=dn(e),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function c7(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=YLe(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function YLe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var XLe=$H,u7=LH,QLe=BH,ZLe=VH,JLe=UH,d7=zH,e3e=KH,f7=XH,h7=ZH,t3e=JH,n3e=t7,m7=n7,p7=r7,g7=a7;const vr=XLe,xr=QLe,sr=v.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(u7,{ref:r,className:ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,i.jsx(ZLe,{asChild:!0,children:i.jsx(wf,{className:"h-4 w-4 opacity-50"})})]}));sr.displayName=u7.displayName;const y7=v.forwardRef(({className:e,...t},n)=>i.jsx(m7,{ref:n,className:ee("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(_3,{className:"h-4 w-4"})}));y7.displayName=m7.displayName;const v7=v.forwardRef(({className:e,...t},n)=>i.jsx(p7,{ref:n,className:ee("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(wf,{className:"h-4 w-4"})}));v7.displayName=p7.displayName;const ar=v.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>i.jsx(JLe,{children:i.jsxs(d7,{ref:s,className:ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[i.jsx(y7,{}),i.jsx(e3e,{className:ee("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(v7,{})]})}));ar.displayName=d7.displayName;const r3e=v.forwardRef(({className:e,...t},n)=>i.jsx(f7,{ref:n,className:ee("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));r3e.displayName=f7.displayName;const lt=v.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(h7,{ref:r,className:ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(n3e,{children:i.jsx(fn,{className:"h-4 w-4"})})}),i.jsx(t3e,{children:t})]}));lt.displayName=h7.displayName;const s3e=v.forwardRef(({className:e,...t},n)=>i.jsx(g7,{ref:n,className:ee("-mx-1 my-1 h-px bg-muted",e),...t}));s3e.displayName=g7.displayName;const x7=[{id:"provider-1",account_id:"demo-account-001",user_id:null,name:"Tom Wilson",email:"tom@acmehvac.com",phone:"+15551234567",role:"senior_tech",role_id:null,color:"#3b82f6",is_active:!0,external_id:null,google_calendar_id:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"provider-2",account_id:"demo-account-001",user_id:null,name:"Mike Chen",email:"mike@acmehvac.com",phone:"+15552345678",role:"technician",role_id:null,color:"#10b981",is_active:!0,external_id:null,google_calendar_id:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"provider-3",account_id:"demo-account-001",user_id:null,name:"Lisa Martinez",email:"lisa@acmehvac.com",phone:"+15553456789",role:"technician",role_id:null,color:"#f59e0b",is_active:!0,external_id:null,google_calendar_id:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];function a3e(){const{user:e}=ht();return jt({queryKey:["providers",e==null?void 0:e.account_id],queryFn:async()=>x7,enabled:!!(e!=null&&e.account_id)||ir()})}function b7(){const{user:e}=ht();return jt({queryKey:["providers","active",e==null?void 0:e.account_id],queryFn:async()=>x7.filter(t=>t.is_active),enabled:!!(e!=null&&e.account_id)||ir()})}function i3e(){const e=St(),{user:t}=ht();return Qt({mutationFn:async n=>{if(!(t!=null&&t.account_id))throw new Error("No organization");const{data:r,error:s}=await ie.from("providers").insert({account_id:t.account_id,...n}).select().single();if(s)throw s;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["providers"]}),ct.success("Member added")},onError:n=>{ct.error("Failed to add member",{description:n.message})}})}function o3e(){const e=St();return Qt({mutationFn:async({id:t,...n})=>{const{data:r,error:s}=await ie.from("providers").update(n).eq("id",t).select().single();if(s)throw s;return r},onSuccess:t=>{e.invalidateQueries({queryKey:["providers"]}),e.invalidateQueries({queryKey:["provider",t.id]}),ct.success("Member updated")},onError:t=>{ct.error("Failed to update member",{description:t.message})}})}function l3e(){const e=St();return Qt({mutationFn:async t=>{const{error:n}=await ie.from("providers").delete().eq("id",t);if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["providers"]}),ct.success("Member removed")},onError:t=>{ct.error("Failed to remove member",{description:t.message})}})}function c3e(e){return jt({queryKey:["provider-schedule",e],queryFn:async()=>{if(!e)return[];const{data:t,error:n}=await ie.from("provider_schedules").select("*").eq("provider_id",e).order("day_of_week").order("start_time");if(n)throw n;return t},enabled:!!e})}function u3e(){const e=St();return Qt({mutationFn:async({providerId:t,schedules:n})=>{const{error:r}=await ie.from("provider_schedules").delete().eq("provider_id",t);if(r)throw r;if(n.length>0){const{error:s}=await ie.from("provider_schedules").insert(n.map(a=>({provider_id:t,...a})));if(s)throw s}},onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["provider-schedule",n.providerId]}),ct.success("Schedule updated")},onError:t=>{ct.error("Failed to update schedule",{description:t.message})}})}function d3e(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e]||""}const wu=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function f3e(){const e=St();return Qt({mutationFn:async()=>{const{data:t,error:n}=await ie.functions.invoke("sync-nexhealth-providers");if(n)throw n;if(!t)throw new Error("No response from sync function");return t},onSuccess:t=>{e.invalidateQueries({queryKey:["providers"]}),t.count===0?ct.info("No providers found in NexHealth"):t.errors&&t.errors.length>0?ct.warning(`Synced ${t.count} of ${t.total} providers`,{description:`${t.errors.length} providers failed to sync`}):ct.success(`Synced ${t.count} providers from NexHealth`)},onError:t=>{ct.error("Failed to sync providers",{description:t.message})}})}const h3e=[{value:"routine",label:"Routine",description:"Regular scheduled services"},{value:"emergency",label:"Emergency",description:"Urgent same-day services"},{value:"maintenance",label:"Maintenance",description:"Preventive maintenance"},{value:"consultation",label:"Consultation",description:"Consultations and evaluations"},{value:"specialty",label:"Specialty",description:"Specialized procedures"}];function w7(){const{user:e}=ht();return jt({queryKey:["services",e==null?void 0:e.account_id],queryFn:async()=>Wre,enabled:!!(e!=null&&e.account_id)||ir()})}function m3e(){const e=St(),{user:t}=ht();return Qt({mutationFn:async n=>{if(!(t!=null&&t.account_id))throw new Error("No account");const{data:r,error:s}=await ie.from("services").insert({account_id:t.account_id,...n}).select().single();if(s)throw s;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["services"]}),ct.success("Service created")},onError:n=>{ct.error("Failed to create service",{description:n.message})}})}function p3e(){const e=St();return Qt({mutationFn:async({id:t,...n})=>{const{data:r,error:s}=await ie.from("services").update(n).eq("id",t).select().single();if(s)throw s;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["services"]}),ct.success("Service updated")},onError:t=>{ct.error("Failed to update service",{description:t.message})}})}function g3e(){const e=St();return Qt({mutationFn:async t=>{const{error:n}=await ie.from("services").delete().eq("id",t);if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["services"]}),ct.success("Service deleted")},onError:t=>{ct.error("Failed to delete service",{description:t.message})}})}function y3e(){const e=St();return Qt({mutationFn:async({id:t,is_active:n})=>{const{data:r,error:s}=await ie.from("services").update({is_active:n}).eq("id",t).select().single();if(s)throw s;return r},onSuccess:t=>{e.invalidateQueries({queryKey:["services"]}),ct.success(t.is_active?"Service activated":"Service deactivated")},onError:t=>{ct.error("Failed to update service",{description:t.message})}})}function v3e(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e/100)}function x3e(e){if(e<60)return`${e} min`;const t=Math.floor(e/60),n=e%60;return n===0?`${t}h`:`${t}h ${n}m`}function b3e(e){return{routine:{label:"Routine",color:"bg-slate-100 text-slate-700"},emergency:{label:"Emergency",color:"bg-red-100 text-red-700"},maintenance:{label:"Maintenance",color:"bg-blue-100 text-blue-700"},consultation:{label:"Consultation",color:"bg-purple-100 text-purple-700"},specialty:{label:"Specialty",color:"bg-amber-100 text-amber-700"}}[e]||{label:e,color:"bg-gray-100 text-gray-700"}}var _7="AlertDialog",[w3e,l6e]=Yn(_7,[mH]),eo=mH(),j7=e=>{const{__scopeAlertDialog:t,...n}=e,r=eo(t);return i.jsx(AH,{...r,...n,modal:!0})};j7.displayName=_7;var _3e="AlertDialogTrigger",S7=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=eo(n);return i.jsx(TH,{...s,...r,ref:t})});S7.displayName=_3e;var j3e="AlertDialogPortal",N7=e=>{const{__scopeAlertDialog:t,...n}=e,r=eo(t);return i.jsx(OH,{...r,...n})};N7.displayName=j3e;var S3e="AlertDialogOverlay",C7=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=eo(n);return i.jsx(vA,{...s,...r,ref:t})});C7.displayName=S3e;var dd="AlertDialogContent",[N3e,C3e]=w3e(dd),P3e=YL("AlertDialogContent"),P7=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,a=eo(n),o=v.useRef(null),l=Ue(t,o),c=v.useRef(null);return i.jsx(_Le,{contentName:dd,titleName:k7,docsSlug:"alert-dialog",children:i.jsx(N3e,{scope:n,cancelRef:c,children:i.jsxs(xA,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:ce(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(P3e,{children:r}),i.jsx(E3e,{contentRef:o})]})})})});P7.displayName=dd;var k7="AlertDialogTitle",E7=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=eo(n);return i.jsx(bA,{...s,...r,ref:t})});E7.displayName=k7;var A7="AlertDialogDescription",T7=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=eo(n);return i.jsx(wA,{...s,...r,ref:t})});T7.displayName=A7;var k3e="AlertDialogAction",O7=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=eo(n);return i.jsx(_A,{...s,...r,ref:t})});O7.displayName=k3e;var M7="AlertDialogCancel",R7=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=C3e(M7,n),a=eo(n),o=Ue(t,s);return i.jsx(_A,{...a,...r,ref:o})});R7.displayName=M7;var E3e=({contentRef:e})=>{const t=`\`${dd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${dd}\` by passing a \`${A7}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${dd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},A3e=j7,T3e=S7,O3e=N7,I7=C7,$7=P7,D7=O7,L7=R7,F7=E7,B7=T7;const Cg=A3e,M3e=T3e,R3e=O3e,V7=v.forwardRef(({className:e,...t},n)=>i.jsx(I7,{className:ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));V7.displayName=I7.displayName;const Yf=v.forwardRef(({className:e,...t},n)=>i.jsxs(R3e,{children:[i.jsx(V7,{}),i.jsx($7,{ref:n,className:ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Yf.displayName=$7.displayName;const Xf=({className:e,...t})=>i.jsx("div",{className:ee("flex flex-col space-y-2 text-center sm:text-left",e),...t});Xf.displayName="AlertDialogHeader";const Qf=({className:e,...t})=>i.jsx("div",{className:ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Qf.displayName="AlertDialogFooter";const Zf=v.forwardRef(({className:e,...t},n)=>i.jsx(F7,{ref:n,className:ee("text-lg font-semibold",e),...t}));Zf.displayName=F7.displayName;const Jf=v.forwardRef(({className:e,...t},n)=>i.jsx(B7,{ref:n,className:ee("text-sm text-muted-foreground",e),...t}));Jf.displayName=B7.displayName;const eh=v.forwardRef(({className:e,...t},n)=>i.jsx(D7,{ref:n,className:ee(jk(),e),...t}));eh.displayName=D7.displayName;const th=v.forwardRef(({className:e,...t},n)=>i.jsx(L7,{ref:n,className:ee(jk({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));th.displayName=L7.displayName;function I3e({open:e,onClose:t,event:n,defaultDate:r,defaultTime:s,defaultProviderId:a}){const{data:o}=b7(),{data:l}=w7(),c=F5e(),u=B5e(),d=V5e(),f=!!n,h=v.useMemo(()=>U5e(),[]),{register:m,handleSubmit:y,reset:p,setValue:x,watch:w,formState:{errors:g}}=XN({defaultValues:{title:"",provider_id:"",date:Nn(new Date,"yyyy-MM-dd"),start_time:"09:00",end_time:"09:30",customer_name:"",customer_phone:"",description:"",status:"confirmed"}}),b=w("provider_id"),_=w("start_time"),j=w("date");v.useEffect(()=>{if(n){const k=new Date(n.start_time),A=new Date(n.end_time);p({title:n.title,provider_id:n.provider_id||"",date:Nn(k,"yyyy-MM-dd"),start_time:Nn(k,"HH:mm"),end_time:Nn(A,"HH:mm"),customer_name:n.customer_name||"",customer_phone:n.customer_phone||"",description:n.description||"",status:n.status})}else{const k=r||new Date,A=s||"09:00",E=ph(A,"HH:mm",k),I=N1(E,30);p({title:"",provider_id:a||"",date:Nn(k,"yyyy-MM-dd"),start_time:A,end_time:Nn(I,"HH:mm"),customer_name:"",customer_phone:"",description:"",status:"confirmed"})}},[n,r,s,a,p]),v.useEffect(()=>{if(!f&&_){const k=ph(j,"yyyy-MM-dd",new Date),A=ph(_,"HH:mm",k),E=N1(A,30);x("end_time",Nn(E,"HH:mm"))}},[_,j,x,f]);const S=async k=>{const A=`${k.date}T${k.start_time}:00`,E=`${k.date}T${k.end_time}:00`;f&&n?await u.mutateAsync({id:n.id,title:k.title,provider_id:k.provider_id||void 0,start_time:A,end_time:E,customer_name:k.customer_name||void 0,customer_phone:k.customer_phone||void 0,description:k.description||void 0,status:k.status}):await c.mutateAsync({title:k.title,provider_id:k.provider_id||void 0,start_time:A,end_time:E,customer_name:k.customer_name||void 0,customer_phone:k.customer_phone||void 0,description:k.description||void 0,status:k.status}),t()},N=async()=>{n&&(await d.mutateAsync(n.id),t())},C=k=>{const A=l==null?void 0:l.find(E=>E.id===k);if(A&&(x("title",A.name),A.duration_minutes&&_)){const E=ph(j,"yyyy-MM-dd",new Date),I=ph(_,"HH:mm",E),D=N1(I,A.duration_minutes);x("end_time",Nn(D,"HH:mm"))}},P=c.isPending||u.isPending||d.isPending;return i.jsx(ps,{open:e,onOpenChange:t,children:i.jsxs(Xr,{className:"sm:max-w-[500px]",children:[i.jsx(Qr,{children:i.jsx(Jr,{children:f?"Edit Appointment":"New Appointment"})}),i.jsxs("form",{onSubmit:y(S),className:"space-y-4",children:[!f&&l&&l.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{children:"Quick Select Service"}),i.jsxs(vr,{onValueChange:C,children:[i.jsx(sr,{children:i.jsx(xr,{placeholder:"Select a service..."})}),i.jsx(ar,{children:l.filter(k=>k.is_active).map(k=>i.jsxs(lt,{value:k.id,children:[k.name," (",k.duration_minutes," min)"]},k.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"title",children:"Title *"}),i.jsx(Ae,{id:"title",placeholder:"Dental Checkup",...m("title",{required:"Title is required"})}),g.title&&i.jsx("p",{className:"text-sm text-destructive",children:g.title.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{children:"Member"}),i.jsxs(vr,{value:b,onValueChange:k=>x("provider_id",k),children:[i.jsx(sr,{children:i.jsx(xr,{placeholder:"Select member..."})}),i.jsx(ar,{children:o==null?void 0:o.map(k=>i.jsx(lt,{value:k.id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:k.color}}),k.name]})},k.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"date",children:"Date *"}),i.jsx(Ae,{id:"date",type:"date",...m("date",{required:"Date is required"})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{children:"Start Time *"}),i.jsxs(vr,{value:_,onValueChange:k=>x("start_time",k),children:[i.jsx(sr,{children:i.jsx(xr,{})}),i.jsx(ar,{className:"max-h-[200px]",children:h.map(k=>i.jsx(lt,{value:k.value,children:k.label},k.value))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{children:"End Time *"}),i.jsxs(vr,{value:w("end_time"),onValueChange:k=>x("end_time",k),children:[i.jsx(sr,{children:i.jsx(xr,{})}),i.jsx(ar,{className:"max-h-[200px]",children:h.map(k=>i.jsx(lt,{value:k.value,children:k.label},k.value))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"customer_name",children:"Customer Name"}),i.jsx(Ae,{id:"customer_name",placeholder:"John Doe",...m("customer_name")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"customer_phone",children:"Phone"}),i.jsx(Ae,{id:"customer_phone",placeholder:"(555) 123-4567",...m("customer_phone")})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"description",children:"Notes"}),i.jsx(bs,{id:"description",placeholder:"Additional notes...",rows:2,...m("description")})]}),f&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{children:"Status"}),i.jsxs(vr,{value:w("status"),onValueChange:k=>x("status",k),children:[i.jsx(sr,{children:i.jsx(xr,{})}),i.jsxs(ar,{children:[i.jsx(lt,{value:"confirmed",children:"Confirmed"}),i.jsx(lt,{value:"tentative",children:"Tentative"}),i.jsx(lt,{value:"cancelled",children:"Cancelled"})]})]})]}),i.jsxs(Zr,{className:"flex justify-between",children:[f&&i.jsxs(Cg,{children:[i.jsx(M3e,{asChild:!0,children:i.jsxs(G,{type:"button",variant:"destructive",size:"sm",disabled:P,children:[i.jsx(Rr,{className:"w-4 h-4 mr-1"}),"Delete"]})}),i.jsxs(Yf,{children:[i.jsxs(Xf,{children:[i.jsx(Zf,{children:"Delete Appointment"}),i.jsx(Jf,{children:"Are you sure you want to delete this appointment? This action cannot be undone."})]}),i.jsxs(Qf,{children:[i.jsx(th,{children:"Cancel"}),i.jsx(eh,{onClick:N,children:"Delete"})]})]})]}),i.jsxs("div",{className:"flex gap-2 ml-auto",children:[i.jsx(G,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),i.jsxs(G,{type:"submit",disabled:P,children:[P&&i.jsx(Oe,{className:"w-4 h-4 mr-2 animate-spin"}),f?"Save Changes":"Create Appointment"]})]})]})]})]})})}function $3e({defaultView:e="day"}){const[t,n]=v.useState(new Date),[r,s]=v.useState(e),[a,o]=v.useState([]),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,h]=v.useState({}),{data:m,isLoading:y}=b7(),p=Ui(t,{weekStartsOn:0}),{data:x,isLoading:w,refetch:g}=D5e(t,a.length>0?a:void 0),{data:b,isLoading:_,refetch:j}=L5e(p,a.length>0?a:void 0),S=y||(r==="day"?w:_),N=r==="day"?x:b,C=v.useMemo(()=>m?a.length===0?m:m.filter(F=>a.includes(F.id)):[],[m,a]),P=F=>{o(R=>R.includes(F)?R.filter(T=>T!==F):[...R,F])},k=F=>{n(r==="day"?R=>F==="next"?If(R,1):Nu(R,1):R=>F==="next"?a8(R,1):pme(R,1))},A=()=>{n(new Date)},E=(F,R)=>{h({date:t,time:F,providerId:R}),d(null),c(!0)},I=F=>{d(F),h({}),c(!0)},D=()=>{d(null),h({date:t}),c(!0)},V=()=>{r==="day"?g():j()},B=()=>{c(!1),d(null),h({})};return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(G,{variant:"outline",size:"icon",onClick:()=>k("prev"),children:i.jsx(Yp,{className:"w-4 h-4"})}),i.jsx(G,{variant:"outline",size:"sm",onClick:A,children:"Today"}),i.jsx(G,{variant:"outline",size:"icon",onClick:()=>k("next"),children:i.jsx(ml,{className:"w-4 h-4"})})]}),i.jsx("h2",{className:"text-lg font-semibold",children:r==="day"?Nn(t,"EEEE, MMMM d, yyyy"):`Week of ${Nn(p,"MMMM d, yyyy")}`})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Yc,{children:[i.jsx(Xc,{asChild:!0,children:i.jsxs(G,{variant:"outline",size:"sm",className:"gap-2",children:[i.jsx(dP,{className:"w-4 h-4"}),"Members",a.length>0&&i.jsx(It,{variant:"secondary",className:"ml-1",children:a.length})]})}),i.jsxs(bl,{align:"end",className:"w-56",children:[i.jsx(zk,{children:"Filter by Member"}),i.jsx(Za,{}),m==null?void 0:m.map(F=>i.jsx(DU,{checked:a.length===0||a.includes(F.id),onCheckedChange:()=>P(F.id),children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:F.color}}),F.name]})},F.id)),a.length>0&&i.jsxs(i.Fragment,{children:[i.jsx(Za,{}),i.jsx(G,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>o([]),children:"Show All"})]})]})]}),i.jsxs("div",{className:"flex rounded-lg border",children:[i.jsx(G,{variant:r==="day"?"default":"ghost",size:"sm",className:"rounded-r-none",onClick:()=>s("day"),children:"Day"}),i.jsx(G,{variant:r==="week"?"default":"ghost",size:"sm",className:"rounded-none border-x",onClick:()=>s("week"),children:"Week"}),i.jsx(G,{variant:r==="agenda"?"default":"ghost",size:"sm",className:"rounded-l-none",onClick:()=>s("agenda"),children:"Agenda"})]}),i.jsx(G,{variant:"outline",size:"icon",onClick:V,disabled:S,children:i.jsx(A0,{className:ee("w-4 h-4",S&&"animate-spin")})}),i.jsxs(G,{onClick:D,className:"gap-2",children:[i.jsx(qn,{className:"w-4 h-4"}),"New"]})]})]}),i.jsx(me,{className:"flex-1 overflow-hidden",children:S?i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsx(Ot,{className:"h-12 w-full"}),i.jsx(Ot,{className:"h-[500px] w-full"})]}):m&&m.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[i.jsx(Od,{className:"w-12 h-12 text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Members Found"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Add team members to start scheduling appointments"}),i.jsx(G,{asChild:!0,variant:"outline",children:i.jsx(tt,{to:"/dashboard/team",children:"Add Members"})})]}):r==="day"?i.jsx(q5e,{date:t,events:N||[],providers:C,onSlotClick:E,onEventClick:I}):r==="week"?i.jsx(D3e,{}):i.jsx(L3e,{events:N||[]})}),i.jsx(I3e,{open:l,onClose:B,event:u,defaultDate:f.date,defaultTime:f.time,defaultProviderId:f.providerId})]})}function D3e(){return i.jsx("div",{className:"flex items-center justify-center h-full p-8 text-center",children:i.jsxs("div",{children:[i.jsx(dP,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Week View Coming Soon"}),i.jsx("p",{className:"text-muted-foreground",children:"Use Day view for now to manage appointments"})]})})}function L3e({events:e}){return e.length===0?i.jsx("div",{className:"flex items-center justify-center h-full p-8 text-center",children:i.jsxs("div",{children:[i.jsx(dP,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Upcoming Events"}),i.jsx("p",{className:"text-muted-foreground",children:'Click "New" to create an appointment'})]})}):i.jsx("div",{className:"p-4 space-y-2 overflow-auto max-h-[600px]",children:e.map(t=>{var n,r;return i.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border hover:bg-muted/50 cursor-pointer",children:[i.jsx("div",{className:"w-1 h-12 rounded-full",style:{backgroundColor:((n=t.provider)==null?void 0:n.color)||"#3b82f6"}}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium truncate",children:t.title}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[Nn(new Date(t.start_time),"h:mm a")," -"," ",Nn(new Date(t.end_time),"h:mm a")]}),t.customer_name&&i.jsx("div",{className:"text-sm text-muted-foreground truncate",children:t.customer_name})]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:(r=t.provider)==null?void 0:r.name})]},t.id)})})}function F3e(){return i.jsx(Ht,{children:i.jsx("div",{className:"h-[calc(100vh-8rem)]",children:i.jsx($3e,{defaultView:"day"})})})}const ew=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:n,className:ee("w-full caption-bottom text-sm",e),...t})}));ew.displayName="Table";const tw=v.forwardRef(({className:e,...t},n)=>i.jsx("thead",{ref:n,className:ee("[&_tr]:border-b",e),...t}));tw.displayName="TableHeader";const nw=v.forwardRef(({className:e,...t},n)=>i.jsx("tbody",{ref:n,className:ee("[&_tr:last-child]:border-0",e),...t}));nw.displayName="TableBody";const B3e=v.forwardRef(({className:e,...t},n)=>i.jsx("tfoot",{ref:n,className:ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));B3e.displayName="TableFooter";const Zo=v.forwardRef(({className:e,...t},n)=>i.jsx("tr",{ref:n,className:ee("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Zo.displayName="TableRow";const $n=v.forwardRef(({className:e,...t},n)=>i.jsx("th",{ref:n,className:ee("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));$n.displayName="TableHead";const Pn=v.forwardRef(({className:e,...t},n)=>i.jsx("td",{ref:n,className:ee("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Pn.displayName="TableCell";const V3e=v.forwardRef(({className:e,...t},n)=>i.jsx("caption",{ref:n,className:ee("mt-4 text-sm text-muted-foreground",e),...t}));V3e.displayName="TableCaption";function U3e(){const e=St();return Qt({mutationFn:async t=>{const{data:n}=await ie.auth.getSession();if(!n.session)throw new Error("Not authenticated");const r=new FormData;r.append("file",t);const s=await fetch("http://127.0.0.1:54321/functions/v1/import-contacts",{method:"POST",headers:{Authorization:`Bearer ${n.session.access_token}`},body:r});if(!s.ok){const a=await s.json().catch(()=>({}));throw new Error(a.error||"Import failed")}return s.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["customers"]}),e.invalidateQueries({queryKey:["contacts"]})}})}function U7(e){const t=e.startsWith("+"),n=e.replace(/\D/g,"");if(n.length===0)return t?"+":"";let r="";if(n.length>=1){const s=n.startsWith("1")&&n.length>10,a=s?n[0]:n.length<=10?"":n[0],o=s?n.slice(1):n.length<=10?n:n.slice(1);if(a?r=`+${a} `:(t||n.length>10)&&(r="+1 "),o.length>0){const l=o.slice(0,3);o.length<=3?r+=`(${l}`:r+=`(${l}) `}if(o.length>3){const l=o.slice(3,6);r+=l}if(o.length>6){const l=o.slice(6,10);r+=`-${l}`}}return r}function Hl(e){const t=e.replace(/\D/g,"");return t.length===10||t.length===11}function GD(e){const t=e.replace(/\D/g,"");return t.length===10?`+1${t}`:t.length===11&&t.startsWith("1")?`+${t}`:`+${t}`}function nC(e){const t=e.replace(/\D/g,"");return t.length===10?t.slice(0,3):t.length===11&&t.startsWith("1")?t.slice(1,4):null}function Ti(e){const t=e.replace(/\D/g,"");return t.length===10?`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6)}`:t.length===11&&t.startsWith("1")?`+1 (${t.slice(1,4)}) ${t.slice(4,7)}-${t.slice(7)}`:e}const s_={phone:"",name:"",email:"",address:"",notes:""};function z3e({contactId:e}){const{data:t,isLoading:n}=nfe(e);return n?i.jsx("div",{className:"p-4",children:i.jsx(Ot,{className:"h-20 w-full"})}):!t||t.length===0?i.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No call history"}):i.jsxs("div",{className:"p-4 space-y-2 bg-muted/50",children:[i.jsx("h4",{className:"text-sm font-medium mb-2",children:"Call History"}),t.slice(0,5).map(r=>i.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-background rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(E0,{className:"w-4 h-4 text-muted-foreground"}),i.jsx("span",{children:Zc(new Date(r.started_at),{addSuffix:!0})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[r.duration_seconds&&i.jsxs("span",{className:"text-muted-foreground",children:[Math.floor(r.duration_seconds/60),":",String(r.duration_seconds%60).padStart(2,"0")]}),i.jsx(It,{variant:"outline",className:"text-xs",children:r.outcome||"unknown"})]})]},r.id)),t.length>5&&i.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["+",t.length-5," more calls"]})]})}function W3e(){const{toast:e}=Gn(),[t,n]=v.useState(1),[r,s]=v.useState(""),[a,o]=v.useState(""),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[f,h]=v.useState(!1),[m,y]=v.useState(null),[p,x]=v.useState(s_),[w,g]=v.useState(null),[b,_]=v.useState(null),j=v.useRef(null),{data:S,isLoading:N}=Wk({search:r},t,20),C=rfe(),P=BU(),k=sfe(),A=U3e(),E=(S==null?void 0:S.contacts)||[],I=(S==null?void 0:S.meta)||{page:1,per_page:20,total:0,total_pages:0},D=()=>{s(a),n(1)},V=async()=>{if(!p.phone){e({title:"Phone number is required",variant:"destructive"});return}try{await C.mutateAsync({phone:p.phone,name:p.name||void 0,email:p.email||void 0,address:p.address||void 0,notes:p.notes||void 0,status:"customer",source:"manual"}),e({title:"Customer created successfully"}),c(!1),x(s_)}catch{e({title:"Failed to create customer",variant:"destructive"})}},B=$=>{y($),x({phone:$.phone,name:$.name||"",email:$.email||"",address:$.address||"",notes:$.notes||""}),d(!0)},F=async()=>{if(m)try{await P.mutateAsync({id:m.id,name:p.name||void 0,email:p.email||void 0,address:p.address||void 0,notes:p.notes||void 0}),e({title:"Customer updated successfully"}),d(!1),y(null),x(s_)}catch{e({title:"Failed to update customer",variant:"destructive"})}},R=async $=>{if(confirm("Are you sure you want to delete this customer?"))try{await k.mutateAsync($),e({title:"Customer deleted successfully"})}catch{e({title:"Failed to delete customer",variant:"destructive"})}},T=$=>{g(w===$?null:$)},O=async $=>{var U;const Y=(U=$.target.files)==null?void 0:U[0];if(Y){if(j.current&&(j.current.value=""),!Y.name.toLowerCase().endsWith(".csv")){e({title:"Invalid file type",description:"Only CSV files are allowed.",variant:"destructive"});return}try{const ne=await A.mutateAsync(Y);_({imported:ne.imported,skipped:ne.skipped,errors:ne.errors}),ne.imported>0&&e({title:"Import complete",description:`Successfully imported ${ne.imported} contacts.`})}catch(ne){e({title:"Import failed",description:ne.message||"Failed to import contacts.",variant:"destructive"})}}},W=()=>{h(!1),_(null)};return i.jsxs(Ht,{children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Customers"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage your customer database"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ps,{open:f,onOpenChange:$=>{$?h(!0):W()},children:[i.jsx(n0,{asChild:!0,children:i.jsxs(G,{variant:"outline",children:[i.jsx(mP,{className:"w-4 h-4 mr-2"}),"Import CSV"]})}),i.jsxs(Xr,{children:[i.jsxs(Qr,{children:[i.jsx(Jr,{children:"Import Contacts from CSV"}),i.jsx(gs,{children:"Upload a CSV file to bulk import contacts. Required column: phone. Optional: name, email, address, notes."})]}),i.jsx("div",{className:"space-y-4 py-4",children:b?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[i.jsxs("div",{className:"p-3 rounded-lg bg-success/10 border border-success/20",children:[i.jsx(ba,{className:"w-5 h-5 mx-auto text-success mb-1"}),i.jsx("p",{className:"text-2xl font-bold text-success",children:b.imported}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Imported"})]}),i.jsxs("div",{className:"p-3 rounded-lg bg-warning/10 border border-warning/20",children:[i.jsx(Od,{className:"w-5 h-5 mx-auto text-warning mb-1"}),i.jsx("p",{className:"text-2xl font-bold text-warning",children:b.skipped}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Updated"})]}),i.jsxs("div",{className:"p-3 rounded-lg bg-destructive/10 border border-destructive/20",children:[i.jsx(Od,{className:"w-5 h-5 mx-auto text-destructive mb-1"}),i.jsx("p",{className:"text-2xl font-bold text-destructive",children:b.errors.length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Errors"})]})]}),b.errors.length>0&&i.jsxs("div",{className:"rounded-lg border bg-destructive/5 p-3 max-h-40 overflow-y-auto",children:[i.jsx("p",{className:"text-sm font-medium text-destructive mb-2",children:"Errors:"}),b.errors.slice(0,10).map(($,Y)=>i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Row ",$.row,": ",$.phone," - ",$.error]},Y)),b.errors.length>10&&i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["+",b.errors.length-10," more errors"]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center hover:border-primary/50 transition-colors cursor-pointer",onClick:()=>{var $;return($=j.current)==null?void 0:$.click()},children:[i.jsx(hX,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),i.jsx("p",{className:"text-sm font-medium mb-1",children:A.isPending?"Importing...":"Click to upload CSV file"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum 1,000 rows, 5MB file size"}),A.isPending&&i.jsx(Oe,{className:"w-6 h-6 mx-auto mt-4 animate-spin text-primary"})]}),i.jsx("input",{ref:j,type:"file",accept:".csv",onChange:O,className:"hidden"}),i.jsxs("a",{href:"/contact-import-template.csv",download:!0,className:"flex items-center justify-center gap-2 text-sm text-primary hover:underline",children:[i.jsx(N3,{className:"w-4 h-4"}),"Download CSV template"]})]})}),i.jsx(Zr,{children:b?i.jsx(G,{onClick:W,children:"Done"}):i.jsx(G,{variant:"outline",onClick:()=>h(!1),children:"Cancel"})})]})]}),i.jsxs(ps,{open:l,onOpenChange:c,children:[i.jsx(n0,{asChild:!0,children:i.jsxs(G,{children:[i.jsx(qn,{className:"w-4 h-4 mr-2"}),"Add Customer"]})}),i.jsxs(Xr,{children:[i.jsxs(Qr,{children:[i.jsx(Jr,{children:"Add New Customer"}),i.jsx(gs,{children:"Add a customer to your database manually."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"phone",children:"Phone Number *"}),i.jsx(Ae,{id:"phone",placeholder:"+1 (555) 123-4567",value:p.phone,onChange:$=>x({...p,phone:$.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"name",children:"Name"}),i.jsx(Ae,{id:"name",placeholder:"John Doe",value:p.name,onChange:$=>x({...p,name:$.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"email",children:"Email"}),i.jsx(Ae,{id:"email",type:"email",placeholder:"john@example.com",value:p.email,onChange:$=>x({...p,email:$.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"address",children:"Address"}),i.jsx(Ae,{id:"address",placeholder:"123 Main St, City, State",value:p.address,onChange:$=>x({...p,address:$.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"notes",children:"Notes"}),i.jsx(Ae,{id:"notes",placeholder:"Additional notes...",value:p.notes,onChange:$=>x({...p,notes:$.target.value})})]})]}),i.jsxs(Zr,{children:[i.jsx(G,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),i.jsxs(G,{onClick:V,disabled:C.isPending,children:[C.isPending&&i.jsx(Oe,{className:"w-4 h-4 mr-2 animate-spin"}),"Add Customer"]})]})]})]})]})]}),i.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:i.jsx(me,{children:i.jsx(ge,{className:"pt-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Qp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx(Ae,{placeholder:"Search by name, phone, or email...",value:a,onChange:$=>o($.target.value),onKeyDown:$=>$.key==="Enter"&&D(),className:"pl-9"})]}),i.jsx(G,{onClick:D,children:"Search"})]})})})}),i.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:i.jsxs(me,{children:[i.jsx(Ye,{className:"pb-3",children:i.jsxs(Xe,{className:"text-lg",children:[I.total," ",I.total===1?"Customer":"Customers"]})}),i.jsx(ge,{children:N?i.jsx("div",{className:"space-y-3",children:[...Array(5)].map(($,Y)=>i.jsx(Ot,{className:"h-16 w-full"},Y))}):E.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Sa,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-1",children:"No customers yet"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Customers will appear here when leads book appointments"}),i.jsxs(G,{onClick:()=>c(!0),children:[i.jsx(qn,{className:"w-4 h-4 mr-2"}),"Add First Customer"]})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(ew,{children:[i.jsx(tw,{children:i.jsxs(Zo,{children:[i.jsx($n,{className:"w-8"}),i.jsx($n,{children:"Name"}),i.jsx($n,{children:"Phone"}),i.jsx($n,{children:"Email"}),i.jsx($n,{children:"Added"}),i.jsx($n,{className:"text-right",children:"Actions"})]})}),i.jsx(nw,{children:E.map($=>i.jsxs(i.Fragment,{children:[i.jsxs(Zo,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>T($.id),children:[i.jsx(Pn,{children:w===$.id?i.jsx(_3,{className:"w-4 h-4"}):i.jsx(wf,{className:"w-4 h-4"})}),i.jsxs(Pn,{children:[i.jsx("div",{className:"font-medium",children:$.name||"Unknown"}),$.address&&i.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[i.jsx(gX,{className:"w-3 h-3"}),$.address]})]}),i.jsx(Pn,{children:i.jsxs("a",{href:`tel:${$.phone}`,className:"flex items-center gap-1 text-sm hover:text-primary",onClick:Y=>Y.stopPropagation(),children:[i.jsx(ft,{className:"w-3 h-3"}),Ti($.phone)]})}),i.jsx(Pn,{children:$.email?i.jsxs("a",{href:`mailto:${$.email}`,className:"flex items-center gap-1 text-sm hover:text-primary",onClick:Y=>Y.stopPropagation(),children:[i.jsx(Fu,{className:"w-3 h-3"}),$.email]}):i.jsx("span",{className:"text-muted-foreground",children:"-"})}),i.jsx(Pn,{children:i.jsx("div",{className:"text-sm",children:Zc(new Date($.created_at),{addSuffix:!0})})}),i.jsx(Pn,{className:"text-right",children:i.jsxs(Yc,{children:[i.jsx(Xc,{asChild:!0,onClick:Y=>Y.stopPropagation(),children:i.jsx(G,{variant:"ghost",size:"sm",children:i.jsx(Xp,{className:"w-4 h-4"})})}),i.jsxs(bl,{align:"end",children:[i.jsxs(At,{onClick:()=>B($),children:[i.jsx(_X,{className:"w-4 h-4 mr-2"}),"Edit"]}),i.jsxs(At,{className:"text-destructive",onClick:()=>R($.id),children:[i.jsx(Rr,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})]},$.id),w===$.id&&i.jsx(Zo,{children:i.jsx(Pn,{colSpan:6,className:"p-0",children:i.jsx(z3e,{contactId:$.id})})})]}))})]})}),I.total_pages>1&&i.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",I.page," of ",I.total_pages]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(G,{variant:"outline",size:"sm",onClick:()=>n($=>Math.max(1,$-1)),disabled:t===1,children:[i.jsx(Yp,{className:"w-4 h-4 mr-1"}),"Previous"]}),i.jsxs(G,{variant:"outline",size:"sm",onClick:()=>n($=>Math.min(I.total_pages,$+1)),disabled:t===I.total_pages,children:["Next",i.jsx(ml,{className:"w-4 h-4 ml-1"})]})]})]})]})})]})})]}),i.jsx(ps,{open:u,onOpenChange:d,children:i.jsxs(Xr,{children:[i.jsxs(Qr,{children:[i.jsx(Jr,{children:"Edit Customer"}),i.jsx(gs,{children:"Update customer information."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"edit-phone",children:"Phone Number"}),i.jsx(Ae,{id:"edit-phone",value:p.phone,disabled:!0,className:"bg-muted"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"edit-name",children:"Name"}),i.jsx(Ae,{id:"edit-name",placeholder:"John Doe",value:p.name,onChange:$=>x({...p,name:$.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"edit-email",children:"Email"}),i.jsx(Ae,{id:"edit-email",type:"email",placeholder:"john@example.com",value:p.email,onChange:$=>x({...p,email:$.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"edit-address",children:"Address"}),i.jsx(Ae,{id:"edit-address",placeholder:"123 Main St, City, State",value:p.address,onChange:$=>x({...p,address:$.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"edit-notes",children:"Notes"}),i.jsx(Ae,{id:"edit-notes",placeholder:"Additional notes...",value:p.notes,onChange:$=>x({...p,notes:$.target.value})})]})]}),i.jsxs(Zr,{children:[i.jsx(G,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),i.jsxs(G,{onClick:F,disabled:P.isPending,children:[P.isPending&&i.jsx(Oe,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Changes"]})]})]})})]})}const H3e={hot:{label:"Hot",className:"bg-red-500/20 text-red-600 dark:text-red-400 border-red-500/30",icon:Wy},warm:{label:"Warm",className:"bg-amber-500/20 text-amber-600 dark:text-amber-400 border-amber-500/30",icon:cj},cold:{label:"Cold",className:"bg-blue-500/20 text-blue-600 dark:text-blue-400 border-blue-500/30",icon:lj}};function q3e({level:e,showIcon:t=!0,className:n}){if(!e)return i.jsx(It,{variant:"outline",className:ee("text-muted-foreground",n),children:"Unknown"});const r=H3e[e],s=r.icon;return i.jsxs(It,{variant:"outline",className:ee(r.className,n),children:[t&&i.jsx(s,{className:"w-3 h-3 mr-1"}),r.label]})}const K3e={new:{label:"New",className:"bg-primary/20 text-primary border-primary/30",icon:vs},contacted:{label:"Contacted",className:"bg-blue-500/20 text-blue-600 dark:text-blue-400 border-blue-500/30",icon:ft},converted:{label:"Converted",className:"bg-green-500/20 text-green-600 dark:text-green-400 border-green-500/30",icon:kc},lost:{label:"Lost",className:"bg-muted text-muted-foreground border-muted-foreground/30",icon:Tm}};function G3e({status:e,showIcon:t=!0,className:n}){const r=K3e[e],s=r.icon;return i.jsxs(It,{variant:"outline",className:ee(r.className,n),children:[t&&i.jsx(s,{className:"w-3 h-3 mr-1"}),r.label]})}function Y3e({open:e,onOpenChange:t,initialNotes:n,onSave:r,callerName:s}){const[a,o]=v.useState(n),[l,c]=v.useState(!1),u=async()=>{c(!0);try{await r(a),t(!1)}finally{c(!1)}};return i.jsx(ps,{open:e,onOpenChange:t,children:i.jsxs(Xr,{className:"sm:max-w-[500px]",children:[i.jsxs(Qr,{children:[i.jsx(Jr,{children:"Lead Notes"}),i.jsx(gs,{children:s?`Notes for ${s}`:"Add notes about this lead"})]}),i.jsx("div",{className:"py-4",children:i.jsx(bs,{placeholder:"Enter notes about this lead...",value:a,onChange:d=>o(d.target.value),className:"min-h-[150px] resize-y"})}),i.jsxs(Zr,{children:[i.jsx(G,{variant:"outline",onClick:()=>t(!1),disabled:l,children:"Cancel"}),i.jsxs(G,{onClick:u,disabled:l,children:[l&&i.jsx(Oe,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Notes"]})]})]})})}function X3e(e,t="leads.csv"){const n=["Name","Phone","Email","Address","Interest Level","Lead Status","Contact Status","Source","Created","Notes"],r=e.map(u=>[u.name||"Unknown",u.phone,u.email||"",u.address||"",u.interest_level||"Unknown",u.lead_status||"",u.status,u.source,new Date(u.created_at).toLocaleString(),u.lead_notes||u.notes||""]),s=u=>u.includes(",")||u.includes('"')||u.includes(`
`)?`"${u.replace(/"/g,'""')}"`:u,a=[n.map(s).join(","),...r.map(u=>u.map(s).join(","))].join(`
`),o=new Blob([a],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(o),c=document.createElement("a");c.href=l,c.download=t,c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(l)}function Q3e(){var j,S;const{toast:e}=Gn(),[t,n]=v.useState(1),[r,s]=v.useState({}),[a,o]=v.useState(""),[l,c]=v.useState({open:!1,lead:null}),{data:u,isLoading:d}=tfe(r,t,20),f=BU(),h=(u==null?void 0:u.contacts)||[],m=(u==null?void 0:u.meta)||{page:1,per_page:20,total:0,total_pages:0},y=(u==null?void 0:u.stats)||{total:0,hot:0,warm:0,cold:0},p=()=>{s(N=>({...N,search:a||void 0})),n(1)},x=(N,C)=>{s(P=>({...P,[N]:C==="all"?void 0:C})),n(1)},w=async(N,C)=>{try{await f.mutateAsync({id:N,interest_level:C}),e({title:"Interest level updated"})}catch{e({title:"Failed to update",variant:"destructive"})}},g=async(N,C)=>{try{await f.mutateAsync({id:N,lead_status:C}),e({title:"Status updated"})}catch{e({title:"Failed to update",variant:"destructive"})}},b=async N=>{l.lead&&(await f.mutateAsync({id:l.lead.id,lead_notes:N}),e({title:"Notes saved"}))},_=()=>{if(h.length===0){e({title:"No leads to export",variant:"destructive"});return}const N=new Date().toISOString().split("T")[0];X3e(h,`leads-${N}.csv`),e({title:"Leads exported",description:`${h.length} leads exported to CSV`})};return i.jsxs(Ht,{children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Leads"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage callers who haven't booked yet"})]}),i.jsxs(G,{onClick:_,variant:"outline",children:[i.jsx(N3,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]}),i.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[i.jsx(me,{children:i.jsx(ge,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Leads"}),i.jsx("p",{className:"text-2xl font-bold",children:y.total})]}),i.jsx(Sa,{className:"w-8 h-8 text-muted-foreground/50"})]})})}),i.jsx(me,{children:i.jsx(ge,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Hot"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:y.hot})]}),i.jsx(Wy,{className:"w-8 h-8 text-red-500/50"})]})})}),i.jsx(me,{children:i.jsx(ge,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Warm"}),i.jsx("p",{className:"text-2xl font-bold text-amber-600",children:y.warm})]}),i.jsx(cj,{className:"w-8 h-8 text-amber-500/50"})]})})}),i.jsx(me,{children:i.jsx(ge,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Cold"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:y.cold})]}),i.jsx(lj,{className:"w-8 h-8 text-blue-500/50"})]})})})]}),i.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:i.jsx(me,{children:i.jsx(ge,{className:"pt-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Qp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx(Ae,{placeholder:"Search by name or phone...",value:a,onChange:N=>o(N.target.value),onKeyDown:N=>N.key==="Enter"&&p(),className:"pl-9"})]}),i.jsxs(vr,{value:r.interest_level||"all",onValueChange:N=>x("interest_level",N),children:[i.jsx(sr,{className:"w-full sm:w-[140px]",children:i.jsx(xr,{placeholder:"Interest"})}),i.jsxs(ar,{children:[i.jsx(lt,{value:"all",children:"All Interest"}),i.jsx(lt,{value:"hot",children:"Hot"}),i.jsx(lt,{value:"warm",children:"Warm"}),i.jsx(lt,{value:"cold",children:"Cold"})]})]}),i.jsxs(vr,{value:r.lead_status||"all",onValueChange:N=>x("lead_status",N),children:[i.jsx(sr,{className:"w-full sm:w-[140px]",children:i.jsx(xr,{placeholder:"Status"})}),i.jsxs(ar,{children:[i.jsx(lt,{value:"all",children:"All Status"}),i.jsx(lt,{value:"new",children:"New"}),i.jsx(lt,{value:"contacted",children:"Contacted"}),i.jsx(lt,{value:"converted",children:"Converted"}),i.jsx(lt,{value:"lost",children:"Lost"})]})]}),i.jsxs(vr,{value:r.has_name===!0?"named":r.has_name===!1?"anonymous":"all",onValueChange:N=>{s(N==="named"?C=>({...C,has_name:!0}):N==="anonymous"?C=>({...C,has_name:!1}):C=>({...C,has_name:void 0})),n(1)},children:[i.jsx(sr,{className:"w-full sm:w-[140px]",children:i.jsx(xr,{placeholder:"Contact"})}),i.jsxs(ar,{children:[i.jsx(lt,{value:"all",children:"All Contacts"}),i.jsx(lt,{value:"named",children:"Named"}),i.jsx(lt,{value:"anonymous",children:"Anonymous"})]})]}),i.jsx(G,{onClick:p,children:"Search"})]})})})}),i.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},children:i.jsxs(me,{children:[i.jsx(Ye,{className:"pb-3",children:i.jsxs(Xe,{className:"text-lg",children:[m.total," ",m.total===1?"Lead":"Leads"]})}),i.jsx(ge,{children:d?i.jsx("div",{className:"space-y-3",children:[...Array(5)].map((N,C)=>i.jsx(Ot,{className:"h-16 w-full"},C))}):h.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Sa,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-1",children:"No leads found"}),i.jsx("p",{className:"text-muted-foreground",children:"Leads will appear here when callers don't book an appointment"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(ew,{children:[i.jsx(tw,{children:i.jsxs(Zo,{children:[i.jsx($n,{children:"Contact"}),i.jsx($n,{children:"Phone"}),i.jsx($n,{children:"Called"}),i.jsx($n,{children:"Interest"}),i.jsx($n,{children:"Status"}),i.jsx($n,{className:"text-right",children:"Actions"})]})}),i.jsx(nw,{children:h.map(N=>i.jsxs(Zo,{children:[i.jsxs(Pn,{children:[i.jsx("div",{className:"font-medium",children:N.name||"Unknown"}),N.notes&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1 max-w-[200px]",children:N.notes})]}),i.jsx(Pn,{className:"font-mono text-sm",children:Ti(N.phone)}),i.jsxs(Pn,{children:[i.jsx("div",{className:"text-sm",children:Zc(new Date(N.created_at),{addSuffix:!0})}),i.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(N.created_at).toLocaleDateString()})]}),i.jsx(Pn,{children:i.jsx(q3e,{level:N.interest_level})}),i.jsx(Pn,{children:i.jsx(G3e,{status:N.lead_status||"new"})}),i.jsx(Pn,{className:"text-right",children:i.jsxs(Yc,{children:[i.jsx(Xc,{asChild:!0,children:i.jsx(G,{variant:"ghost",size:"sm",children:i.jsx(Xp,{className:"w-4 h-4"})})}),i.jsxs(bl,{align:"end",children:[i.jsx(zk,{children:"Actions"}),i.jsx(Za,{}),i.jsx(At,{asChild:!0,children:i.jsxs("a",{href:`tel:${N.phone}`,children:[i.jsx(ft,{className:"w-4 h-4 mr-2"}),"Call Back"]})}),i.jsx(At,{asChild:!0,children:i.jsxs(tt,{to:`/dashboard/messages?phone=${encodeURIComponent(N.phone)}`,children:[i.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Send SMS"]})}),i.jsxs(At,{onClick:()=>c({open:!0,lead:N}),children:[i.jsx(Yl,{className:"w-4 h-4 mr-2"}),N.lead_notes?"Edit Notes":"Add Notes"]}),i.jsx(Za,{}),i.jsxs($M,{children:[i.jsxs(xS,{children:[i.jsx(Wy,{className:"w-4 h-4 mr-2"}),"Set Interest"]}),i.jsxs(bS,{children:[i.jsxs(At,{onClick:()=>w(N.id,"hot"),children:[i.jsx(Wy,{className:"w-4 h-4 mr-2 text-red-500"}),"Hot"]}),i.jsxs(At,{onClick:()=>w(N.id,"warm"),children:[i.jsx(cj,{className:"w-4 h-4 mr-2 text-amber-500"}),"Warm"]}),i.jsxs(At,{onClick:()=>w(N.id,"cold"),children:[i.jsx(lj,{className:"w-4 h-4 mr-2 text-blue-500"}),"Cold"]})]})]}),i.jsxs($M,{children:[i.jsx(xS,{children:"Set Status"}),i.jsxs(bS,{children:[i.jsx(At,{onClick:()=>g(N.id,"new"),children:"New"}),i.jsx(At,{onClick:()=>g(N.id,"contacted"),children:"Contacted"}),i.jsx(At,{onClick:()=>g(N.id,"converted"),children:"Converted"}),i.jsx(At,{onClick:()=>g(N.id,"lost"),children:"Lost"})]})]}),i.jsx(Za,{}),i.jsx(At,{asChild:!0,children:i.jsxs(tt,{to:`/dashboard/calls/${N.id}`,children:[i.jsx(C3,{className:"w-4 h-4 mr-2"}),"View Call Details"]})})]})]})})]},N.id))})]})}),m.total_pages>1&&i.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",m.page," of ",m.total_pages]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(G,{variant:"outline",size:"sm",onClick:()=>n(N=>Math.max(1,N-1)),disabled:t===1,children:[i.jsx(Yp,{className:"w-4 h-4 mr-1"}),"Previous"]}),i.jsxs(G,{variant:"outline",size:"sm",onClick:()=>n(N=>Math.min(m.total_pages,N+1)),disabled:t===m.total_pages,children:["Next",i.jsx(ml,{className:"w-4 h-4 ml-1"})]})]})]})]})})]})})]}),i.jsx(Y3e,{open:l.open,onOpenChange:N=>c({open:N,lead:N?l.lead:null}),initialNotes:((j=l.lead)==null?void 0:j.lead_notes)||"",onSave:b,callerName:(S=l.lead)==null?void 0:S.name})]})}var rw="Switch",[Z3e,c6e]=Yn(rw),[J3e,eFe]=Z3e(rw),z7=v.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=v.useState(null),y=Ue(t,b=>m(b)),p=v.useRef(!1),x=h?d||!!h.closest("form"):!0,[w,g]=Kn({prop:s,defaultProp:a??!1,onChange:u,caller:rw});return i.jsxs(J3e,{scope:n,checked:w,disabled:l,children:[i.jsx(Ne.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":K7(w),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:ce(e.onClick,b=>{g(_=>!_),x&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),x&&i.jsx(q7,{control:h,bubbles:!p.current,name:r,value:c,checked:w,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});z7.displayName=rw;var W7="SwitchThumb",H7=v.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=eFe(W7,n);return i.jsx(Ne.span,{"data-state":K7(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});H7.displayName=W7;var tFe="SwitchBubbleInput",q7=v.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},a)=>{const o=v.useRef(null),l=Ue(o,a),c=jA(n),u=SP(t);return v.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&m){const y=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(y)}},[c,n,r]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});q7.displayName=tFe;function K7(e){return e?"checked":"unchecked"}var G7=z7,nFe=H7;const Ar=v.forwardRef(({className:e,...t},n)=>i.jsx(G7,{className:ee("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:n,children:i.jsx(nFe,{className:ee("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ar.displayName=G7.displayName;const a_=[{key:"monday",label:"Monday",short:"Mon"},{key:"tuesday",label:"Tuesday",short:"Tue"},{key:"wednesday",label:"Wednesday",short:"Wed"},{key:"thursday",label:"Thursday",short:"Thu"},{key:"friday",label:"Friday",short:"Fri"},{key:"saturday",label:"Saturday",short:"Sat"},{key:"sunday",label:"Sunday",short:"Sun"}],rFe=()=>{const e=[];for(let t=0;t<24;t++)for(let n=0;n<60;n+=30){const r=t.toString().padStart(2,"0"),s=n.toString().padStart(2,"0"),a=`${r}:${s}`,o=t>=12?"PM":"AM",c=`${t===0?12:t>12?t-12:t}:${s} ${o}`;e.push({value:a,label:c})}return e},YD=rFe();function sFe({schedule:e,onChange:t}){const n=(s,a)=>{t({...e,[s]:{...e[s],...a}})},r=s=>{const a=e[s],o={...e};a_.forEach(({key:l})=>{o[l]={...a}}),t(o)};return i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx(pe,{className:"text-sm font-medium text-foreground",children:"Business Hours Schedule"})}),i.jsx("div",{className:"rounded-lg border border-border bg-card overflow-hidden",children:a_.map(({key:s,label:a,short:o},l)=>{const c=e[s],u=l===a_.length-1;return i.jsxs("div",{className:ee("flex items-center gap-3 px-4 py-3 transition-colors",!u&&"border-b border-border",c.enabled?"bg-card":"bg-muted/30"),children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-[140px]",children:[i.jsx(Ar,{checked:c.enabled,onCheckedChange:d=>n(s,{enabled:d}),className:"data-[state=checked]:bg-primary"}),i.jsxs("span",{className:ee("font-medium text-sm transition-colors",c.enabled?"text-foreground":"text-muted-foreground"),children:[i.jsx("span",{className:"hidden sm:inline",children:a}),i.jsx("span",{className:"sm:hidden",children:o})]})]}),i.jsxs("div",{className:ee("flex items-center gap-2 flex-1 transition-opacity",!c.enabled&&"opacity-40 pointer-events-none"),children:[i.jsxs(vr,{value:c.start,onValueChange:d=>n(s,{start:d}),children:[i.jsx(sr,{className:"w-[110px] h-9 text-sm bg-background",children:i.jsx(xr,{})}),i.jsx(ar,{children:YD.map(d=>i.jsx(lt,{value:d.value,children:d.label},d.value))})]}),i.jsx("span",{className:"text-muted-foreground text-sm",children:"to"}),i.jsxs(vr,{value:c.end,onValueChange:d=>n(s,{end:d}),children:[i.jsx(sr,{className:"w-[110px] h-9 text-sm bg-background",children:i.jsx(xr,{})}),i.jsx(ar,{children:YD.map(d=>i.jsx(lt,{value:d.value,children:d.label},d.value))})]}),l===0&&i.jsx("button",{type:"button",onClick:()=>r(s),className:"hidden md:inline-flex ml-2 text-xs text-primary hover:text-primary/80 hover:underline transition-colors",children:"Copy to all"})]})]},s)})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Set your availability for each day. AI will handle calls outside these hours."})]})}var sw="Tabs",[aFe,u6e]=Yn(sw,[Rf]),Y7=Rf(),[iFe,NA]=aFe(sw),X7=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Kc(l),[f,h]=Kn({prop:r,onChange:s,defaultProp:a??"",caller:sw});return i.jsx(iFe,{scope:n,baseId:wr(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(Ne.div,{dir:d,"data-orientation":o,...u,ref:t})})});X7.displayName=sw;var Q7="TabsList",Z7=v.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=NA(Q7,n),o=Y7(n);return i.jsx(Mk,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:i.jsx(Ne.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});Z7.displayName=Q7;var J7="TabsTrigger",eq=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,o=NA(J7,n),l=Y7(n),c=rq(o.baseId,r),u=sq(o.baseId,r),d=r===o.value;return i.jsx(Rk,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(Ne.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:ce(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:ce(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:ce(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(r)})})})});eq.displayName=J7;var tq="TabsContent",nq=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...o}=e,l=NA(tq,n),c=rq(l.baseId,r),u=sq(l.baseId,r),d=r===l.value,f=v.useRef(d);return v.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(Bn,{present:s||d,children:({present:h})=>i.jsx(Ne.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});nq.displayName=tq;function rq(e,t){return`${e}-trigger-${t}`}function sq(e,t){return`${e}-content-${t}`}var oFe=X7,aq=Z7,iq=eq,oq=nq;const lq=oFe,CA=v.forwardRef(({className:e,...t},n)=>i.jsx(aq,{ref:n,className:ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));CA.displayName=aq.displayName;const sc=v.forwardRef(({className:e,...t},n)=>i.jsx(iq,{ref:n,className:ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));sc.displayName=iq.displayName;const ac=v.forwardRef(({className:e,...t},n)=>i.jsx(oq,{ref:n,className:ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ac.displayName=oq.displayName;function lFe(){const{user:e}=ht();return jt({queryKey:["phone-numbers",e==null?void 0:e.account_id],queryFn:async()=>{if(!(e!=null&&e.account_id))return[];const{data:t,error:n}=await ie.from("phone_numbers").select("*").eq("account_id",e.account_id).order("created_at",{ascending:!1});if(n)throw n;return t||[]},enabled:!!(e!=null&&e.account_id)})}function cFe(){const{user:e}=ht(),{data:t,isLoading:n}=Mf(),{data:r,isLoading:s,refetch:a}=lFe(),{data:o,isLoading:l}=ig();q6();const[c,u]=v.useState(!1),[d,f]=v.useState(!1),[h,m]=v.useState({phone_number:"",friendly_name:""}),y={monday:{enabled:!0,start:"09:00",end:"17:00"},tuesday:{enabled:!0,start:"09:00",end:"17:00"},wednesday:{enabled:!0,start:"09:00",end:"17:00"},thursday:{enabled:!0,start:"09:00",end:"17:00"},friday:{enabled:!0,start:"09:00",end:"17:00"},saturday:{enabled:!1,start:"09:00",end:"17:00"},sunday:{enabled:!1,start:"09:00",end:"17:00"}},[p,x]=v.useState({name:"",timezone:(()=>{try{const U=Intl.DateTimeFormat().resolvedOptions().timeZone;return["America/New_York","America/Chicago","America/Denver","America/Phoenix","America/Los_Angeles","America/Anchorage","Pacific/Honolulu"].includes(U)?U:"America/Chicago"}catch{return"America/Chicago"}})(),business_hours_schedule:y,notification_email:"",notification_phone:"",business_phone:"",emergency_keywords:[],service_categories:["hvac","plumbing","electrical","general"],transfer_enabled:!0,callback_hours_offset:2}),[w,g]=v.useState(!1),[b,_]=v.useState({email_new_calls:!0,email_emergencies:!0,email_daily_summary:!0,sms_emergencies:!0,sms_dispatches:!1,push_all_calls:!1,push_emergencies:!0}),[j,S]=v.useState(""),[N,C]=v.useState(""),P=[{value:"America/New_York",label:"Eastern Time (ET - EST/EDT)"},{value:"America/Chicago",label:"Central Time (CT - CST/CDT)"},{value:"America/Denver",label:"Mountain Time (MT - MST/MDT)"},{value:"America/Phoenix",label:"Mountain Standard Time (MST - no DST)"},{value:"America/Los_Angeles",label:"Pacific Time (PT - PST/PDT)"},{value:"America/Anchorage",label:"Alaska Time (AKST/AKDT)"},{value:"Pacific/Honolulu",label:"Hawaii Time (HST - no DST)"}];v.useEffect(()=>{if(t){const U=t.business_hours_schedule,ne=t.workflow_config||{};x({name:t.name,timezone:t.timezone,business_hours_schedule:U||y,notification_email:t.notification_email||"",notification_phone:t.notification_phone||"",business_phone:t.business_phone_number||"",emergency_keywords:ne.emergency_keywords||t.emergency_keywords||[],service_categories:ne.service_categories||["hvac","plumbing","electrical","general"],transfer_enabled:ne.transfer_enabled!==!1,callback_hours_offset:ne.callback_hours_offset||2})}},[t]);const k=async()=>{if(e!=null&&e.account_id){g(!0);try{const U=t&&p.name!==t.name,ne={emergency_keywords:p.emergency_keywords,service_categories:p.service_categories,transfer_enabled:p.transfer_enabled,callback_hours_offset:p.callback_hours_offset},{error:be}=await ie.from("accounts").update({name:p.name,timezone:p.timezone,business_hours_schedule:p.business_hours_schedule,notification_email:p.notification_email||null,notification_phone:p.notification_phone||null,workflow_config:ne}).eq("id",e.account_id);if(be)throw be;if(U)try{const{error:re}=await ie.functions.invoke("elevenlabs-agent",{body:{action:"rename-agent",accountId:e.account_id,name:p.name}});re&&console.error("Error renaming agent:",re)}catch(re){console.error("Error calling rename-agent:",re)}ut({title:"Settings saved",description:"Your account settings have been updated."})}catch(U){console.error("Error saving account:",U),ut({title:"Error saving settings",description:U.message||"Please try again.",variant:"destructive"})}finally{g(!1)}}},A=()=>{j&&!p.emergency_keywords.includes(j.toLowerCase())&&(x({...p,emergency_keywords:[...p.emergency_keywords,j.toLowerCase()]}),S(""))},E=U=>{x({...p,emergency_keywords:p.emergency_keywords.filter(ne=>ne!==U)})},I=()=>{N&&!p.service_categories.includes(N.toLowerCase())&&(x({...p,service_categories:[...p.service_categories,N.toLowerCase()]}),C(""))},D=U=>{x({...p,service_categories:p.service_categories.filter(ne=>ne!==U)})},V=async()=>{if(!(e!=null&&e.account_id)){ut({title:"No account",description:"You need to be part of an account to add phone numbers.",variant:"destructive"});return}if(!h.phone_number){ut({title:"Phone number required",description:"Please enter a phone number.",variant:"destructive"});return}u(!0);try{const{error:U}=await ie.from("phone_numbers").insert({account_id:e.account_id,phone_number:h.phone_number,friendly_name:h.friendly_name||h.phone_number,is_active:!0});if(U)throw U;ut({title:"Phone number added",description:"The phone number has been added successfully."}),m({phone_number:"",friendly_name:""}),f(!1),a()}catch(U){console.error("Error adding phone number:",U),ut({title:"Error adding phone number",description:U.message||"Please try again.",variant:"destructive"})}finally{u(!1)}},B=async U=>{try{const{error:ne}=await ie.from("phone_numbers").delete().eq("id",U);if(ne)throw ne;ut({title:"Phone number deleted",description:"The phone number has been removed."}),a()}catch(ne){console.error("Error deleting phone number:",ne),ut({title:"Error deleting phone number",description:ne.message||"Please try again.",variant:"destructive"})}},[F,R]=v.useState(!1),[T]=V0();v.useEffect(()=>{T.get("checkout")==="success"&&(ut({title:"Welcome to AnswerAfter!",description:"Your 30-day free trial has started. We'll remind you 3 days before it ends."}),window.history.replaceState({},"","/dashboard/account"))},[T]);const O=async()=>{R(!0);try{const{data:U}=await ie.auth.getSession();if(!U.session){ut({title:"Session expired",description:"Please log in again.",variant:"destructive"});return}const{data:ne,error:be}=await ie.functions.invoke("customer-portal",{headers:{Authorization:`Bearer ${U.session.access_token}`}});if(be||!(ne!=null&&ne.url)){console.error("Portal error:",be),ut({title:"Unable to open billing portal",description:"Please try again or contact support.",variant:"destructive"});return}window.open(ne.url,"_blank")}catch(U){console.error("Billing portal error:",U),ut({title:"Error",description:"Unable to open billing portal.",variant:"destructive"})}finally{R(!1)}},W=async()=>{R(!0);try{const{data:U}=await ie.auth.getSession();if(!U.session){ut({title:"Session expired",description:"Please log in again.",variant:"destructive"});return}const ne=await ie.functions.invoke("create-checkout-with-trial",{headers:{Authorization:`Bearer ${U.session.access_token}`}});console.log("Checkout response:",ne);const{data:be,error:re}=ne,Me=be==null?void 0:be.url;if(re){console.error("Checkout function error:",re),ut({title:"Unable to start checkout",description:re.message||"Please try again or contact support.",variant:"destructive"});return}if(!Me){console.error("No checkout URL in response:",be),ut({title:"Unable to start checkout",description:"No checkout URL received. Please try again.",variant:"destructive"});return}window.location.href=Me}catch(U){console.error("Checkout error:",U),ut({title:"Error",description:"Unable to start checkout.",variant:"destructive"})}finally{R(!1)}},$=U=>new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),Y=U=>{switch(U){case"starter":return"$49";case"growth":return"$99";case"pro":return"$199";case"business":return"$499";case"enterprise":return"Custom";default:return"$49"}};return i.jsx(Ht,{children:i.jsxs("div",{className:"p-6 max-w-5xl mx-auto space-y-6",children:[i.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Account"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your account, phone numbers, and preferences"})]}),i.jsxs(lq,{defaultValue:"account",className:"space-y-6",children:[i.jsxs(CA,{className:"grid w-full grid-cols-4 bg-muted/50",children:[i.jsxs(sc,{value:"account",className:"flex items-center gap-2",children:[i.jsx(Am,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Account"})]}),i.jsxs(sc,{value:"phones",className:"flex items-center gap-2",children:[i.jsx(ft,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Phone Numbers"})]}),i.jsxs(sc,{value:"notifications",className:"flex items-center gap-2",children:[i.jsx(w3,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Notifications"})]}),i.jsxs(sc,{value:"billing",className:"flex items-center gap-2",children:[i.jsx(Cv,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Billing"})]})]}),i.jsx(ac,{value:"account",children:i.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[i.jsxs(me,{children:[i.jsxs(Ye,{children:[i.jsx(Xe,{children:"Account Details"}),i.jsx(vt,{children:"Basic information about your business"})]}),i.jsxs(ge,{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"org-name",children:"Business Name"}),i.jsx(Ae,{id:"org-name",value:p.name,onChange:U=>x({...p,name:U.target.value}),placeholder:"Your Business Name"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"timezone",children:"Timezone"}),i.jsxs(vr,{value:p.timezone,onValueChange:U=>x({...p,timezone:U}),children:[i.jsx(sr,{children:i.jsx(xr,{placeholder:"Select timezone"})}),i.jsx(ar,{children:P.map(U=>i.jsx(lt,{value:U.value,children:U.label},U.value))})]})]})]}),i.jsx(vi,{}),i.jsx(sFe,{schedule:p.business_hours_schedule,onChange:U=>x({...p,business_hours_schedule:U})})]})]}),i.jsxs(me,{children:[i.jsxs(Ye,{children:[i.jsx(Xe,{children:"Business Phone Number"}),i.jsx(vt,{children:"The phone number you forward to your AI agent"})]}),i.jsx(ge,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"business-phone",children:"Business Phone Number"}),i.jsx(Ae,{id:"business-phone",type:"tel",value:p.business_phone,disabled:!0,className:"bg-muted"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"This is the number you forward to your AI agent. Set during account setup."})]})})]}),i.jsxs(me,{children:[i.jsxs(Ye,{children:[i.jsx(Xe,{children:"Notification Contacts"}),i.jsx(vt,{children:"Where to send alerts and notifications"})]}),i.jsx(ge,{className:"space-y-4",children:i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"notify-email",children:"Notification Email"}),i.jsx(Ae,{id:"notify-email",type:"email",value:p.notification_email,onChange:U=>x({...p,notification_email:U.target.value}),placeholder:"owner@example.com"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"notify-phone",children:"Notification Phone"}),i.jsx(Ae,{id:"notify-phone",type:"tel",value:p.notification_phone,onChange:U=>x({...p,notification_phone:U.target.value}),placeholder:"+15551234567"})]})]})})]}),i.jsxs(me,{children:[i.jsxs(Ye,{children:[i.jsx(Xe,{children:"Emergency Keywords"}),i.jsx(vt,{children:"When callers mention these words, the AI will detect an emergency and transfer to on-call contacts"})]}),i.jsxs(ge,{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ae,{value:j,onChange:U=>S(U.target.value),placeholder:"e.g., no heat, gas smell, flooding...",onKeyDown:U=>U.key==="Enter"&&A()}),i.jsx(G,{onClick:A,size:"icon",children:i.jsx(qn,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:p.emergency_keywords.map(U=>i.jsxs(It,{variant:"secondary",className:"flex items-center gap-1 px-3 py-1",children:[U,i.jsx("button",{onClick:()=>E(U),className:"ml-1 hover:text-destructive",children:i.jsx(Rr,{className:"h-3 w-3"})})]},U))})]})]}),i.jsxs(me,{children:[i.jsxs(Ye,{children:[i.jsx(Xe,{children:"Service Categories"}),i.jsx(vt,{children:"Categories of services you offer. The AI will classify incoming requests into these categories."})]}),i.jsxs(ge,{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ae,{value:N,onChange:U=>C(U.target.value),placeholder:"e.g., hvac, plumbing, electrical...",onKeyDown:U=>U.key==="Enter"&&I()}),i.jsx(G,{onClick:I,size:"icon",children:i.jsx(qn,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:p.service_categories.map(U=>i.jsxs(It,{variant:"outline",className:"flex items-center gap-1 px-3 py-1 capitalize",children:[U,i.jsx("button",{onClick:()=>D(U),className:"ml-1 hover:text-destructive",children:i.jsx(Rr,{className:"h-3 w-3"})})]},U))})]})]}),i.jsxs(me,{children:[i.jsxs(Ye,{children:[i.jsx(Xe,{children:"Callback Settings"}),i.jsx(vt,{children:"Configure how callback requests are handled for non-emergency calls"})]}),i.jsxs(ge,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(pe,{children:"Emergency Transfer"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Transfer emergency calls to escalation contacts"})]}),i.jsx(Ar,{checked:p.transfer_enabled,onCheckedChange:U=>x({...p,transfer_enabled:U})})]}),i.jsx(vi,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{children:"Callback Timeframe"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"How soon callers can expect a callback for non-emergency requests"}),i.jsxs(vr,{value:String(p.callback_hours_offset),onValueChange:U=>x({...p,callback_hours_offset:parseInt(U)}),children:[i.jsx(sr,{className:"w-48",children:i.jsx(xr,{})}),i.jsxs(ar,{children:[i.jsx(lt,{value:"1",children:"Within 1 hour"}),i.jsx(lt,{value:"2",children:"Within 2 hours"}),i.jsx(lt,{value:"4",children:"Within 4 hours"}),i.jsx(lt,{value:"8",children:"Within 8 hours"}),i.jsx(lt,{value:"24",children:"Within 24 hours"})]})]})]})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs(G,{onClick:k,disabled:w,children:[w?i.jsx(Oe,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(Ec,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})}),i.jsx(ac,{value:"phones",children:i.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[i.jsxs(me,{children:[i.jsxs(Ye,{children:[i.jsxs(Xe,{className:"flex items-center gap-2",children:[i.jsx(ft,{className:"h-5 w-5"}),"Your Phone Line"]}),i.jsx(vt,{children:"Your dedicated phone line for business calls"})]}),i.jsx(ge,{children:i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-muted/30",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(ft,{className:"h-6 w-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-lg",children:"Dedicated Phone Line"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"You have 1 dedicated phone line for your business"})]})]}),i.jsx(It,{variant:"default",className:"text-sm px-3 py-1",children:"Dedicated"})]})})]}),i.jsxs(me,{children:[i.jsxs(Ye,{className:"flex flex-row items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(Xe,{children:"Additional Phone Numbers"}),i.jsx(vt,{children:"Configure additional phone numbers for call handling"})]}),i.jsxs(ps,{open:d,onOpenChange:f,children:[i.jsx(n0,{asChild:!0,children:i.jsxs(G,{children:[i.jsx(qn,{className:"h-4 w-4 mr-2"}),"Add Number"]})}),i.jsxs(Xr,{children:[i.jsxs(Qr,{children:[i.jsx(Jr,{children:"Add Phone Number"}),i.jsx(gs,{children:"Add a new phone number for call handling."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"phone-number",children:"Phone Number"}),i.jsx(Ae,{id:"phone-number",placeholder:"+15551234567",value:h.phone_number,onChange:U=>m({...h,phone_number:U.target.value})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the phone number in E.164 format (e.g., +15551234567)"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"friendly-name",children:"Friendly Name"}),i.jsx(Ae,{id:"friendly-name",placeholder:"Main Line",value:h.friendly_name,onChange:U=>m({...h,friendly_name:U.target.value})})]})]}),i.jsxs(Zr,{children:[i.jsx(G,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),i.jsxs(G,{onClick:V,disabled:c,children:[c&&i.jsx(Oe,{className:"h-4 w-4 mr-2 animate-spin"}),"Add Number"]})]})]})]})]}),i.jsx(ge,{children:s?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading phone numbers..."}):r&&r.length>0?i.jsx("div",{className:"space-y-4",children:r.map(U=>i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(ft,{className:"h-5 w-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:U.friendly_name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:U.phone_number}),U.provisioned_at&&i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Provisioned: ",new Date(U.provisioned_at).toLocaleDateString()]})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[U.is_shared&&i.jsx(It,{variant:"outline",className:"text-xs",children:"Shared"}),i.jsx(It,{variant:U.is_active?"default":"secondary",children:U.is_active?"Active":"Inactive"})]}),!U.is_shared&&i.jsx(G,{variant:"ghost",size:"icon",onClick:()=>B(U.id),children:i.jsx(Rr,{className:"h-4 w-4 text-muted-foreground hover:text-destructive"})})]})]},U.id))}):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(ft,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No additional phone numbers configured"}),i.jsx("p",{className:"text-sm",children:'Click "Add Number" to add a phone number for call handling'})]})})]})]})}),i.jsx(ac,{value:"notifications",children:i.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[i.jsxs(me,{children:[i.jsxs(Ye,{children:[i.jsx(Xe,{children:"Email Notifications"}),i.jsx(vt,{children:"Configure which emails you receive"})]}),i.jsxs(ge,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(pe,{children:"New Calls"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive an email for every new after-hours call"})]}),i.jsx(Ar,{checked:b.email_new_calls,onCheckedChange:U=>_({...b,email_new_calls:U})})]}),i.jsx(vi,{}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(pe,{children:"Emergency Alerts"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Immediate email for emergency calls"})]}),i.jsx(Ar,{checked:b.email_emergencies,onCheckedChange:U=>_({...b,email_emergencies:U})})]}),i.jsx(vi,{}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(pe,{children:"Daily Summary"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive a daily digest of all calls"})]}),i.jsx(Ar,{checked:b.email_daily_summary,onCheckedChange:U=>_({...b,email_daily_summary:U})})]})]})]}),i.jsxs(me,{children:[i.jsxs(Ye,{children:[i.jsx(Xe,{children:"SMS Notifications"}),i.jsx(vt,{children:"Configure text message alerts"})]}),i.jsxs(ge,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(pe,{children:"Emergency Alerts"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Immediate SMS for emergency calls"})]}),i.jsx(Ar,{checked:b.sms_emergencies,onCheckedChange:U=>_({...b,sms_emergencies:U})})]}),i.jsx(vi,{}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(pe,{children:"Dispatch Confirmations"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"SMS when a technician is dispatched"})]}),i.jsx(Ar,{checked:b.sms_dispatches,onCheckedChange:U=>_({...b,sms_dispatches:U})})]})]})]}),i.jsxs(me,{children:[i.jsxs(Ye,{children:[i.jsx(Xe,{children:"Push Notifications"}),i.jsx(vt,{children:"Browser and mobile push notifications"})]}),i.jsxs(ge,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(pe,{children:"All Calls"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Push notification for every call"})]}),i.jsx(Ar,{checked:b.push_all_calls,onCheckedChange:U=>_({...b,push_all_calls:U})})]}),i.jsx(vi,{}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(pe,{children:"Emergencies Only"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Only push for emergency calls"})]}),i.jsx(Ar,{checked:b.push_emergencies,onCheckedChange:U=>_({...b,push_emergencies:U})})]})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs(G,{onClick:()=>ut({title:"Notification preferences saved"}),children:[i.jsx(Ec,{className:"h-4 w-4 mr-2"}),"Save Preferences"]})})]})}),i.jsx(ac,{value:"billing",children:i.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[i.jsxs(me,{children:[i.jsxs(Ye,{children:[i.jsx(Xe,{children:"Current Plan"}),i.jsx(vt,{children:"Your subscription details and usage"})]}),i.jsx(ge,{children:l?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading subscription..."}):o?i.jsxs("div",{className:"space-y-6",children:[o.status==="trialing"&&i.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-amber-500/10 border border-amber-500/30",children:[i.jsx(vs,{className:"h-5 w-5 text-amber-500"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-amber-600 dark:text-amber-400",children:"Free Trial Active"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your trial ends on ",$(o.current_period_end),". You'll be automatically upgraded to the paid plan after."]})]})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-primary/5 border border-primary/20",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"text-xl font-semibold capitalize",children:o.plan}),i.jsx(It,{variant:o.status==="trialing"?"secondary":"default",className:"flex items-center gap-1",children:o.status==="trialing"?i.jsxs(i.Fragment,{children:[i.jsx(vs,{className:"h-3 w-3"}),"Trial"]}):i.jsxs(i.Fragment,{children:[i.jsx(fn,{className:"h-3 w-3"}),o.status]})})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:o.status==="trialing"?`${Y(o.plan)}/month after trial`:`${Y(o.plan)}/month`})]}),i.jsx(G,{variant:"outline",onClick:O,disabled:F,children:F?i.jsxs(i.Fragment,{children:[i.jsx(Oe,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):i.jsxs(i.Fragment,{children:["Manage Subscription",i.jsx(C3,{className:"h-4 w-4 ml-2"})]})})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"p-4 rounded-lg border",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:o.status==="trialing"?"Trial Period":"Current Period"}),i.jsxs("p",{className:"font-medium mt-1",children:[$(o.current_period_start)," - ",$(o.current_period_end)]})]}),i.jsxs("div",{className:"p-4 rounded-lg border",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:o.status==="trialing"?"First Billing Date":"Next Billing Date"}),i.jsx("p",{className:"font-medium mt-1",children:o.cancel_at_period_end?"Canceling at period end":$(o.current_period_end)})]})]})]}):i.jsxs("div",{className:"text-center py-8 space-y-4",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-primary/10",children:i.jsx(Cv,{className:"h-6 w-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"No active subscription"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Start your 30-day free trial to unlock all features"})]}),i.jsx(G,{onClick:W,disabled:F,children:F?i.jsxs(i.Fragment,{children:[i.jsx(Oe,{className:"h-4 w-4 mr-2 animate-spin"}),"Starting..."]}):"Start Free Trial"})]})})]}),i.jsxs(me,{children:[i.jsxs(Ye,{children:[i.jsx(Xe,{children:"Plan Features"}),i.jsxs(vt,{children:["What's included in your ",(o==null?void 0:o.plan)||"plan"]})]}),i.jsx(ge,{children:i.jsx("div",{className:"grid gap-3",children:["Unlimited after-hours calls","AI-powered call handling","Real-time technician dispatch","Call recording & transcription","Appointment scheduling","Priority support"].map(U=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-5 w-5 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(fn,{className:"h-3 w-3 text-primary"})}),i.jsx("span",{className:"text-sm",children:U})]},U))})})]}),i.jsxs(me,{children:[i.jsxs(Ye,{children:[i.jsx(Xe,{children:"This Month's Usage"}),i.jsx(vt,{children:"Your usage for the current billing period"})]}),i.jsx(ge,{children:i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs("div",{className:"p-4 rounded-lg border text-center",children:[i.jsx("p",{className:"text-3xl font-bold text-primary",children:"47"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Total Calls"})]}),i.jsxs("div",{className:"p-4 rounded-lg border text-center",children:[i.jsx("p",{className:"text-3xl font-bold text-primary",children:"12"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Emergency Dispatches"})]}),i.jsxs("div",{className:"p-4 rounded-lg border text-center",children:[i.jsx("p",{className:"text-3xl font-bold text-primary",children:"4.2h"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Talk Time"})]})]})})]})]})})]})]})})}function uFe(){const{toast:e}=Gn(),{data:t,isLoading:n,refetch:r}=Mf(),[s,a]=v.useState(!1),[o,l]=v.useState(""),[c,u]=v.useState(!1),[d,f]=v.useState(!1),[h,m]=v.useState(null);v.useEffect(()=>{t&&(a(t.webhook_enabled||!1),l(t.webhook_secret||""))},[t]);const y="http://127.0.0.1:54321/functions/v1/webhook-inbound",p=()=>crypto.randomUUID(),x=async()=>{if(t!=null&&t.id){u(!0);try{let b=o;s&&!b&&(b=p(),l(b));const{error:_}=await ie.from("accounts").update({webhook_enabled:s,webhook_secret:b||null}).eq("id",t.id);if(_)throw _;e({title:"Webhook settings saved"}),r()}catch{e({title:"Failed to save settings",variant:"destructive"})}finally{u(!1)}}},w=async()=>{if(t!=null&&t.id){f(!0);try{const b=p(),{error:_}=await ie.from("accounts").update({webhook_secret:b}).eq("id",t.id);if(_)throw _;l(b),e({title:"Webhook secret regenerated"}),r()}catch{e({title:"Failed to regenerate secret",variant:"destructive"})}finally{f(!1)}}},g=async(b,_)=>{await navigator.clipboard.writeText(_),m(b),e({title:`${b==="url"?"Webhook URL":"Secret"} copied`}),setTimeout(()=>m(null),2e3)};return n?i.jsx(Ht,{children:i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(Oe,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):i.jsx(Ht,{children:i.jsxs("div",{className:"space-y-6 max-w-3xl",children:[i.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Integrations"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Connect third-party services to enhance your workflow"})]}),i.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:i.jsxs(me,{children:[i.jsx(Ye,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(Xe,{className:"flex items-center gap-2",children:[i.jsx(CX,{className:"w-5 h-5"}),"Webhook API"]}),i.jsx(vt,{children:"Receive data from external services like Zapier, Make, or custom apps"})]}),i.jsx(Ar,{checked:s,onCheckedChange:a})]})}),s&&i.jsxs(ge,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Webhook URL"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ae,{value:y,readOnly:!0,className:"font-mono text-sm bg-muted"}),i.jsx(G,{variant:"outline",size:"icon",onClick:()=>g("url",y),children:h==="url"?i.jsx(fn,{className:"w-4 h-4"}):i.jsx(Nv,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Webhook Secret"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ae,{value:o||"No secret generated yet",readOnly:!0,className:"font-mono text-sm bg-muted"}),i.jsx(G,{variant:"outline",size:"icon",onClick:()=>o&&g("secret",o),disabled:!o,children:h==="secret"?i.jsx(fn,{className:"w-4 h-4"}):i.jsx(Nv,{className:"w-4 h-4"})}),i.jsx(G,{variant:"outline",size:"icon",onClick:w,disabled:d,children:i.jsx(A0,{className:`w-4 h-4 ${d?"animate-spin":""}`})})]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Include this as ",i.jsx("code",{className:"bg-muted px-1 rounded",children:"X-Webhook-Secret"})," header in your requests"]})]}),i.jsxs("div",{className:"rounded-lg border bg-muted/50 p-4 space-y-3",children:[i.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[i.jsx(S3,{className:"w-4 h-4"}),"Available Actions"]}),i.jsxs("div",{className:"text-sm space-y-2",children:[i.jsxs("div",{children:[i.jsx("code",{className:"bg-muted px-1 rounded",children:"create_contact"}),i.jsx("span",{className:"text-muted-foreground ml-2",children:"Create a new contact"})]}),i.jsxs("div",{children:[i.jsx("code",{className:"bg-muted px-1 rounded",children:"update_contact"}),i.jsx("span",{className:"text-muted-foreground ml-2",children:"Update an existing contact"})]}),i.jsxs("div",{children:[i.jsx("code",{className:"bg-muted px-1 rounded",children:"trigger_call"}),i.jsx("span",{className:"text-muted-foreground ml-2",children:"Trigger an outbound call"})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("p",{className:"text-sm font-medium mb-2",children:"Example Request:"}),i.jsx("pre",{className:"text-xs bg-background p-3 rounded overflow-x-auto",children:`POST ${y}
X-Webhook-Secret: your-secret-here
Content-Type: application/json

{
  "action": "create_contact",
  "data": {
    "phone": "+15551234567",
    "name": "John Doe",
    "email": "john@example.com"
  }
}`})]})]})]})]})}),s&&i.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:i.jsxs(G,{onClick:x,disabled:c,children:[c?i.jsx(Oe,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(Ec,{className:"w-4 h-4 mr-2"}),"Save Settings"]})}),i.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:i.jsxs(me,{className:"border-dashed opacity-60",children:[i.jsxs(Ye,{children:[i.jsxs(Xe,{className:"flex items-center gap-2",children:[i.jsx(R3,{className:"h-5 w-5"}),"More Integrations Coming Soon"]}),i.jsx(vt,{children:"We're working on adding more integrations to help streamline your workflow"})]}),i.jsx(ge,{children:i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted/50",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-medium text-muted-foreground",children:"Zapier, Slack, QuickBooks, and more"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Stay tuned for upcoming integration options"})]}),i.jsx(It,{variant:"secondary",children:"Coming Soon"})]})})]})})]})})}const rC=()=>W0()==="local";function dFe(){var w;const{data:e,isLoading:t}=ig(),{data:n,isLoading:r}=og(),{purchasedCredits:s}=mV(),a=hV();Gn();const o=St(),[l,c]=V0(),u=((w=e==null?void 0:e.plan)==null?void 0:w.toLowerCase())||"starter",d=t||r;v.useEffect(()=>{const g=l.get("topup"),b=l.get("credits");g==="success"?(o.invalidateQueries({queryKey:["purchased-credits"]}),ct.success("Minutes added!",{description:`${b||"5"} minutes have been added to your account.`}),l.delete("topup"),l.delete("credits"),c(l,{replace:!0})):g==="cancelled"&&(ct.info("Top-up cancelled",{description:"Your credit purchase was cancelled."}),l.delete("topup"),c(l,{replace:!0}))},[l,c,o]);const f=async(g="basic")=>{const b=await a.mutateAsync(g);b!=null&&b.url&&(window.location.href=b.url)},h=g=>g<0?"Custom":Math.floor(g/100),m=g=>(n==null?void 0:n.findIndex(b=>b.plan_id===g))??-1,y=m(u),p=g=>g==="enterprise",x=g=>g==="business";return i.jsx(Ht,{children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center max-w-3xl mx-auto mb-10",children:[i.jsx("h1",{className:"font-display text-3xl sm:text-4xl font-bold mb-3",children:"Choose Your Plan"}),i.jsx("p",{className:"text-muted-foreground",children:"Plans that grow with your business. No hidden fees."})]}),d&&i.jsx("div",{className:"flex justify-center items-center py-20",children:i.jsx(Oe,{className:"w-8 h-8 animate-spin text-primary"})}),!d&&e&&(()=>{const g=e.total_credits||0,b=e.used_credits||0,_=g-b,j=_+s,S=g+s,N=S>0?b/S*100:0;return i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mb-8 p-5 rounded-xl bg-card border border-border max-w-md mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("span",{className:"text-sm text-muted-foreground capitalize",children:[e.plan," Plan"]}),i.jsx(G,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>f("basic"),disabled:a.isPending,children:a.isPending?i.jsx(Oe,{className:"w-3 h-3 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(qn,{className:"w-3 h-3 mr-1"}),"Top Up"]})})]}),i.jsxs("div",{className:"text-center mb-4",children:[i.jsx("div",{className:"text-4xl font-bold text-foreground",children:Math.round(j/60)}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"minutes available"})]}),i.jsx("div",{className:"h-2 rounded-full bg-muted overflow-hidden mb-3",children:i.jsx("div",{className:ee("h-full rounded-full transition-all",N>80?"bg-destructive":N>50?"bg-warning":"bg-success"),style:{width:`${100-Math.min(N,100)}%`}})}),i.jsxs("div",{className:"space-y-1.5 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Monthly plan"}),i.jsxs("span",{children:[i.jsx("span",{className:"font-medium",children:Math.round(_/60)}),i.jsxs("span",{className:"text-muted-foreground",children:[" / ",Math.round(g/60)," min"]})]})]}),s>0&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Bonus minutes"}),i.jsxs("span",{className:"font-medium text-success",children:["+",Math.round(s/60)]})]})]})]})})(),!d&&n&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:n.map((g,b)=>{const _=g.plan_id===u,j=m(g.plan_id)>y,S=m(g.plan_id)<y;return i.jsx(Z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:b*.08},className:"relative flex flex-col",children:i.jsxs("div",{className:ee("flex-1 flex flex-col rounded-xl p-4 transition-all",_?"bg-primary/10 border-2 border-primary":g.is_popular?"bg-primary text-primary-foreground ring-2 ring-primary shadow-lg":x(g.plan_id)?"bg-card border-2 border-accent":"bg-card border border-border"),children:[_&&i.jsx("div",{className:"absolute -top-2.5 left-1/2 -translate-x-1/2",children:i.jsx("span",{className:"inline-block px-3 py-0.5 rounded-full bg-primary text-primary-foreground text-xs font-semibold",children:"Current Plan"})}),g.is_popular&&!_&&i.jsx("div",{className:"absolute -top-2.5 left-1/2 -translate-x-1/2",children:i.jsx("span",{className:"inline-block px-3 py-0.5 rounded-full bg-accent text-accent-foreground text-xs font-semibold",children:"Most Popular"})}),x(g.plan_id)&&!_&&i.jsx("div",{className:"absolute -top-2.5 left-1/2 -translate-x-1/2",children:i.jsx("span",{className:"inline-block px-3 py-0.5 rounded-full bg-accent text-accent-foreground text-xs font-semibold whitespace-nowrap",children:"Best for High Volume"})}),i.jsxs("div",{className:"mb-3 mt-2",children:[i.jsx("h3",{className:ee("font-display font-semibold text-base mb-0.5",g.is_popular&&!_?"text-primary-foreground":"text-foreground"),children:g.name}),i.jsx("p",{className:ee("text-xs",g.is_popular&&!_?"text-primary-foreground/80":"text-muted-foreground"),children:g.description})]}),i.jsx("div",{className:"mb-4",children:p(g.plan_id)?i.jsx("div",{className:ee("font-display text-xl font-bold",g.is_popular&&!_?"text-primary-foreground":"text-foreground"),children:"Custom"}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-baseline gap-0.5",children:[i.jsxs("span",{className:ee("font-display text-2xl font-bold",g.is_popular&&!_?"text-primary-foreground":"text-foreground"),children:["$",h(g.price_cents)]}),i.jsx("span",{className:ee("text-xs",g.is_popular&&!_?"text-primary-foreground/70":"text-muted-foreground"),children:"/mo"})]}),i.jsx("p",{className:ee("text-xs",g.is_popular&&!_?"text-primary-foreground/70":"text-muted-foreground"),children:"billed monthly"})]})}),i.jsx("ul",{className:"space-y-2 mb-4 flex-1",children:g.features.map((N,C)=>i.jsxs("li",{className:"flex items-start gap-1.5",children:[i.jsx("div",{className:ee("w-3.5 h-3.5 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",g.is_popular&&!_?"bg-primary-foreground/20":"bg-success/10"),children:i.jsx(fn,{className:ee("w-2 h-2",g.is_popular&&!_?"text-primary-foreground":"text-success")})}),i.jsx("span",{className:ee("text-xs",g.is_popular&&!_?"text-primary-foreground/90":"text-foreground"),children:N})]},C))}),_?i.jsx(G,{variant:"outline",size:"sm",className:"w-full pointer-events-none opacity-70",disabled:!0,children:"Current Plan"}):i.jsx(G,{variant:g.is_popular?"secondary":p(g.plan_id)?"outline":"default",size:"sm",className:ee("w-full",g.is_popular&&"bg-primary-foreground text-primary hover:bg-primary-foreground/90"),asChild:!0,children:i.jsxs(tt,{to:p(g.plan_id)?Qm.salesEmail:"/dashboard/account",children:[p(g.plan_id)?"Contact Sales":j?"Upgrade":S?"Downgrade":"Select",i.jsx(Yr,{className:"w-3.5 h-3.5 ml-1"})]})})]})},g.plan_id)})}),i.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mt-10 text-center max-w-2xl mx-auto",children:i.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[i.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Need more capacity?"}),i.jsx("p",{className:"text-muted-foreground text-sm mb-5",children:"Top up anytime with minute packages. Minutes never expire and are used first."}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[i.jsxs("div",{className:"p-4 rounded-lg border border-border hover:border-primary/50 transition-colors",children:[i.jsx("div",{className:"text-lg font-bold text-foreground",children:"$5"}),i.jsx("div",{className:"text-sm text-foreground font-medium",children:"5 minutes"}),i.jsx("div",{className:"text-xs text-muted-foreground mb-3",children:"$1/min"}),i.jsx(G,{size:"sm",variant:"outline",onClick:()=>f("basic"),disabled:a.isPending,className:"w-full",children:a.isPending?i.jsx(Oe,{className:"w-3 h-3 animate-spin"}):"Buy"})]}),i.jsxs("div",{className:"p-4 rounded-lg border-2 border-primary bg-primary/5",children:[i.jsx("div",{className:"text-xs font-medium text-primary mb-1",children:"Best Value"}),i.jsx("div",{className:"text-lg font-bold text-foreground",children:"$15"}),i.jsx("div",{className:"text-sm text-foreground font-medium",children:"17 minutes"}),i.jsx("div",{className:"text-xs text-muted-foreground mb-3",children:"$0.88/min"}),i.jsx(G,{size:"sm",onClick:()=>f("value"),disabled:a.isPending,className:"w-full",children:a.isPending?i.jsx(Oe,{className:"w-3 h-3 animate-spin"}):"Buy"})]}),i.jsxs("div",{className:"p-4 rounded-lg border border-border hover:border-primary/50 transition-colors",children:[i.jsx("div",{className:"text-lg font-bold text-foreground",children:"$40"}),i.jsx("div",{className:"text-sm text-foreground font-medium",children:"50 minutes"}),i.jsx("div",{className:"text-xs text-muted-foreground mb-3",children:"$0.80/min"}),i.jsx(G,{size:"sm",variant:"outline",onClick:()=>f("bulk"),disabled:a.isPending,className:"w-full",children:a.isPending?i.jsx(Oe,{className:"w-3 h-3 animate-spin"}):"Buy"})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Overage auto-charges at $1.50/min if you run out of minutes."})]})}),!d&&n&&i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"mt-12",children:[i.jsx("h3",{className:"font-display text-xl font-semibold text-center mb-6",children:"Plan Comparison"}),i.jsx("div",{className:"rounded-xl border border-border overflow-hidden bg-card",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-border bg-muted/50",children:[i.jsx("th",{className:"text-left p-3 font-semibold",children:"Feature"}),n.map(g=>i.jsxs("th",{className:ee("text-center p-3 font-semibold min-w-[100px]",g.plan_id===u&&"bg-primary/10"),children:[g.name,g.plan_id===u&&i.jsx("span",{className:"block text-xs font-normal text-primary mt-0.5",children:"Current"})]},g.plan_id))]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{className:"border-b border-border",children:[i.jsx("td",{className:"p-3 font-medium",children:"Monthly Price"}),n.map(g=>i.jsx("td",{className:ee("text-center p-3",g.plan_id===u&&"bg-primary/5"),children:p(g.plan_id)?"Custom":`$${h(g.price_cents)}/mo`},g.plan_id))]}),i.jsxs("tr",{className:"border-b border-border",children:[i.jsx("td",{className:"p-3 font-medium",children:"Monthly Minutes"}),n.map(g=>i.jsx("td",{className:ee("text-center p-3",g.plan_id===u&&"bg-primary/5"),children:i.jsx("div",{children:g.credits<=0?"Custom":`${Math.round(g.credits/60)} min`})},g.plan_id))]}),i.jsxs("tr",{className:"border-b border-border",children:[i.jsx("td",{className:"p-3 font-medium",children:"Monthly SMS"}),n.map(g=>i.jsx("td",{className:ee("text-center p-3",g.plan_id===u&&"bg-primary/5"),children:(g.sms_limit??0)<0?"Unlimited":(g.sms_limit??0)===0?"":g.sms_limit},g.plan_id))]}),i.jsxs("tr",{className:"border-b border-border",children:[i.jsx("td",{className:"p-3 font-medium",children:"Phone Numbers"}),n.map(g=>i.jsx("td",{className:ee("text-center p-3",g.plan_id===u&&"bg-primary/5"),children:(g.phone_lines??1)<0?"Custom":g.phone_lines??1},g.plan_id))]}),i.jsx(co,{label:"Custom AI Agent",tiers:n,getValue:g=>g.has_custom_agent,currentPlan:u}),i.jsx(co,{label:"Outbound Reminders",tiers:n,getValue:g=>g.has_outbound_reminders,currentPlan:u}),i.jsx(co,{label:"Call Recordings",tiers:n,getValue:g=>g.has_call_recordings,currentPlan:u}),i.jsx(co,{label:"Priority Support",tiers:n,getValue:g=>g.has_priority_support,currentPlan:u}),i.jsx(co,{label:"API Access",tiers:n,getValue:g=>g.has_api_access,currentPlan:u}),i.jsx(co,{label:"Multilingual",tiers:n,getValue:g=>g.has_multi_language,currentPlan:u}),i.jsx(co,{label:"SLA Guarantee",tiers:n,getValue:g=>g.has_sla_guarantee,currentPlan:u}),i.jsx(co,{label:"HIPAA Compliance",tiers:n,getValue:g=>g.has_hipaa_compliance,currentPlan:u})]})]})})})]})]})})}function co({label:e,tiers:t,getValue:n,currentPlan:r}){return i.jsxs("tr",{className:"border-b border-border",children:[i.jsx("td",{className:"p-3 font-medium",children:e}),t.map(s=>i.jsx("td",{className:ee("text-center p-3",s.plan_id===r&&"bg-primary/5"),children:n(s)?i.jsx(fn,{className:"w-4 h-4 text-success mx-auto"}):i.jsx("span",{className:"text-muted-foreground",children:""})},s.plan_id))]})}var aw="Checkbox",[fFe,d6e]=Yn(aw),[hFe,PA]=fFe(aw);function mFe(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=Kn({prop:n,defaultProp:s??!1,onChange:c,caller:aw}),[y,p]=v.useState(null),[x,w]=v.useState(null),g=v.useRef(!1),b=y?!!o||!!y.closest("form"):!0,_={checked:h,disabled:a,setChecked:m,control:y,setControl:p,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:g,required:u,defaultChecked:Jo(s)?!1:s,isFormControl:b,bubbleInput:x,setBubbleInput:w};return i.jsx(hFe,{scope:t,..._,children:pFe(f)?f(_):r})}var cq="CheckboxTrigger",uq=v.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:y}=PA(cq,e),p=Ue(s,d),x=v.useRef(c);return v.useEffect(()=>{const w=a==null?void 0:a.form;if(w){const g=()=>f(x.current);return w.addEventListener("reset",g),()=>w.removeEventListener("reset",g)}},[a,f]),i.jsx(Ne.button,{type:"button",role:"checkbox","aria-checked":Jo(c)?"mixed":c,"aria-required":u,"data-state":pq(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:p,onKeyDown:ce(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:ce(n,w=>{f(g=>Jo(g)?!0:!g),y&&m&&(h.current=w.isPropagationStopped(),h.current||w.stopPropagation())})})});uq.displayName=cq;var kA=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return i.jsx(mFe,{__scopeCheckbox:n,checked:s,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>i.jsxs(i.Fragment,{children:[i.jsx(uq,{...f,ref:t,__scopeCheckbox:n}),h&&i.jsx(mq,{__scopeCheckbox:n})]})})});kA.displayName=aw;var dq="CheckboxIndicator",fq=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,a=PA(dq,n);return i.jsx(Bn,{present:r||Jo(a.checked)||a.checked===!0,children:i.jsx(Ne.span,{"data-state":pq(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});fq.displayName=dq;var hq="CheckboxBubbleInput",mq=v.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=PA(hq,e),y=Ue(n,m),p=jA(a),x=SP(r);v.useEffect(()=>{const g=h;if(!g)return;const b=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(b,"checked").set,S=!s.current;if(p!==a&&j){const N=new Event("click",{bubbles:S});g.indeterminate=Jo(a),j.call(g,Jo(a)?!1:a),g.dispatchEvent(N)}},[h,p,a,s]);const w=v.useRef(Jo(a)?!1:a);return i.jsx(Ne.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??w.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:y,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});mq.displayName=hq;function pFe(e){return typeof e=="function"}function Jo(e){return e==="indeterminate"}function pq(e){return Jo(e)?"indeterminate":e?"checked":"unchecked"}const iw=v.forwardRef(({className:e,...t},n)=>i.jsx(kA,{ref:n,className:ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(fq,{className:ee("flex items-center justify-center text-current"),children:i.jsx(fn,{className:"h-4 w-4"})})}));iw.displayName=kA.displayName;const Cy=100,Py=4e3,ky=3,XD=20;function gFe(){const{user:e}=ht(),t=es(),n=St(),{data:r}=ig(),s=v.useRef(null),[a,o]=v.useState(""),[l,c]=v.useState(""),[u,d]=v.useState(!1),[f,h]=v.useState(!1),[m,y]=v.useState(!1),[p,x]=v.useState(!1),[w,g]=v.useState(null),[b,_]=v.useState(ir()),[j,S]=v.useState(!ir()),{data:N}=jt({queryKey:["subscription-tier-agent",r==null?void 0:r.plan],queryFn:async()=>({has_custom_agent:!0,has_outbound_reminders:!0,has_custom_ai_training:!0}),enabled:!!(r!=null&&r.plan)||ir()}),C=(N==null?void 0:N.has_outbound_reminders)===!0,P=(N==null?void 0:N.has_custom_ai_training)===!0,{data:k=[],isLoading:A}=jt({queryKey:["knowledge-base-documents",e==null?void 0:e.account_id],queryFn:async()=>[{id:"kb-001",account_id:"demo-account-001",name:"Service Price List 2024.pdf",file_path:"knowledge/service-prices.pdf",file_size_bytes:245e3,elevenlabs_kb_id:"el-kb-001",created_at:new Date().toISOString()},{id:"kb-002",account_id:"demo-account-001",name:"HVAC Maintenance Guide.pdf",file_path:"knowledge/maintenance-guide.pdf",file_size_bytes:125e4,elevenlabs_kb_id:"el-kb-002",created_at:new Date().toISOString()}],enabled:!!(e!=null&&e.account_id)&&P||ir()});v.useEffect(()=>{(async()=>{{_(!0),S(!1);return}})()},[r==null?void 0:r.plan]),v.useEffect(()=>{(async()=>{{o("Hello! Thank you for calling Acme HVAC Services. How can I help you today?"),c(`About Acme HVAC Services:
We are a family-owned HVAC company serving the greater Boston area since 1995.

Services we offer:
- AC repair and installation
- Furnace maintenance and repair
- Duct cleaning and inspection
- Emergency 24/7 service

Call handling instructions:
- Always be friendly and professional
- For emergencies (no heat, gas smell, flooding), transfer to on-call technician
- Offer same-day appointments when available
- Collect caller's name, phone, and address`),d(!1);return}})()},[e==null?void 0:e.account_id]);const E=O=>O.trim().split(/\s+/).filter(Boolean).length,I=async(O,W,$)=>{if(!(e!=null&&e.account_id))return;const Y=JSON.stringify({greeting:O,content:W,hidePricesFromCustomers:u}),{data:U}=await ie.from("account_agents").select("id, elevenlabs_agent_id").eq("account_id",e.account_id).maybeSingle();if(U){const{error:ne}=await ie.from("account_agents").update({context:Y}).eq("account_id",e.account_id);if(ne)throw ne}else{const{error:ne}=await ie.from("account_agents").insert({account_id:e.account_id,context:Y});if(ne)throw ne}return U},D=async O=>{if(!(e!=null&&e.account_id))return;const{data:W}=await ie.from("account_agents").select("elevenlabs_agent_id").eq("account_id",e.account_id).maybeSingle();if(W!=null&&W.elevenlabs_agent_id){const{data:$}=await ie.auth.getSession();$.session&&await ie.functions.invoke("elevenlabs-agent",{body:{action:"update-agent",accountId:e.account_id,context:JSON.stringify({greeting:a,content:l,hidePricesFromCustomers:u})},headers:{Authorization:`Bearer ${$.session.access_token}`}})}},V=async()=>{if(!(e!=null&&e.account_id))return;const O=E(a);if(O>Cy){ut({title:"Greeting too long",description:`Greeting has ${O} words. Maximum is ${Cy} words.`,variant:"destructive"});return}h(!0);try{if(await I(a,l),a.trim()){const{data:W}=await ie.auth.getSession();if(W.session){const{error:$}=await ie.functions.invoke("generate-greeting-tts",{body:{greeting:a,accountId:e.account_id},headers:{Authorization:`Bearer ${W.session.access_token}`}});$?(console.error("TTS generation error:",$),ut({title:"Greeting saved",description:"Text saved but audio generation failed.",variant:"default"})):(await D(),ut({title:"Greeting saved",description:"Your greeting has been saved and audio generated."}))}}else await D(),ut({title:"Greeting saved",description:"Your custom greeting has been updated."})}catch(W){ut({title:"Error saving greeting",description:W.message,variant:"destructive"})}finally{h(!1)}},B=async()=>{if(!(e!=null&&e.account_id))return;const O=E(l);if(O>Py){ut({title:"Content too long",description:`Content has ${O} words. Maximum is ${Py} words.`,variant:"destructive"});return}y(!0);try{await I(a,l),await D(),ut({title:"Content saved",description:"Your agent content has been updated."})}catch(W){ut({title:"Error saving content",description:W.message,variant:"destructive"})}finally{y(!1)}},F=async O=>{var $;const W=($=O.target.files)==null?void 0:$[0];if(W){if(s.current&&(s.current.value=""),!W.name.toLowerCase().endsWith(".pdf")){ut({title:"Invalid file type",description:"Only PDF files are allowed.",variant:"destructive"});return}if(W.size>XD*1024*1024){ut({title:"File too large",description:`Maximum file size is ${XD}MB.`,variant:"destructive"});return}if(k.length>=ky){ut({title:"Document limit reached",description:`You can upload up to ${ky} documents. Please delete an existing document first.`,variant:"destructive"});return}x(!0);try{const Y=new FormData;Y.append("file",W);const{data:U}=await ie.auth.getSession();if(!U.session)throw new Error("Not authenticated");const ne=await fetch("http://127.0.0.1:54321/functions/v1/agent-upload-knowledge",{method:"POST",headers:{Authorization:`Bearer ${U.session.access_token}`},body:Y});if(!ne.ok){const be=await ne.json().catch(()=>({}));throw new Error(be.error||"Upload failed")}ut({title:"Document uploaded",description:`${W.name} has been added to your knowledge base.`}),n.invalidateQueries({queryKey:["knowledge-base-documents"]})}catch(Y){ut({title:"Upload failed",description:Y.message||"Failed to upload document.",variant:"destructive"})}finally{x(!1)}}},R=async O=>{g(O);try{const{data:W}=await ie.auth.getSession();if(!W.session)throw new Error("Not authenticated");const{error:$}=await ie.functions.invoke("agent-delete-knowledge",{body:{documentId:O},headers:{Authorization:`Bearer ${W.session.access_token}`}});if($)throw $;ut({title:"Document deleted",description:"The document has been removed from your knowledge base."}),n.invalidateQueries({queryKey:["knowledge-base-documents"]})}catch(W){ut({title:"Delete failed",description:W.message||"Failed to delete document.",variant:"destructive"})}finally{g(null)}},T=O=>O?O<1024?`${O} B`:O<1024*1024?`${(O/1024).toFixed(1)} KB`:`${(O/(1024*1024)).toFixed(1)} MB`:"Unknown size";return j?i.jsx(Ht,{children:i.jsx("div",{className:"p-6 flex items-center justify-center",children:i.jsx(Oe,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}):b?i.jsx(Ht,{children:i.jsxs("div",{className:"p-6 max-w-5xl mx-auto space-y-6",children:[i.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Voice & Behavior"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Customize how your AI agent engages and converts leads"})]}),i.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[i.jsxs(me,{children:[i.jsxs(Ye,{children:[i.jsxs(Xe,{className:"flex items-center gap-2",children:[i.jsx(yX,{className:"h-5 w-5"}),"Custom Greeting"]}),i.jsx(vt,{children:"The initial message your AI agent says when answering calls"})]}),i.jsxs(ge,{className:"space-y-4",children:[i.jsx(bs,{className:"min-h-[100px] resize-y",placeholder:"Example: Hello! Thank you for calling Smile Dental Care. How can I help you today?",value:a,onChange:O=>o(O.target.value)}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:`text-sm ${E(a)>Cy?"text-destructive":"text-muted-foreground"}`,children:[E(a)," / ",Cy," words"]}),i.jsxs(G,{onClick:V,disabled:f,children:[f?i.jsx(Oe,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(Ec,{className:"h-4 w-4 mr-2"}),"Save Greeting"]})]})]})]}),C?i.jsxs(me,{children:[i.jsxs(Ye,{children:[i.jsxs(Xe,{className:"flex items-center gap-2",children:[i.jsx(Yl,{className:"h-5 w-5"}),"Agent Knowledge & Instructions"]}),i.jsxs(vt,{children:["Provide additional business details and call handling instructions. Your agent already uses services defined in"," ",i.jsx(tt,{to:"/dashboard/services",className:"text-primary hover:underline",children:"My Services"})," ","to suggest appropriate options to customers."]})]}),i.jsxs(ge,{className:"space-y-4",children:[i.jsx(bs,{className:"min-h-[300px] resize-y",placeholder:`Example:
About the practice:
We are Smile Dental Care, serving the Dallas area since 1985.

How to handle calls:
- Always be friendly and professional
- Ask for caller's name and phone number
- For emergencies, offer same-day appointments

Additional notes:
- We offer a new patient special
- Saturday appointments available`,value:l,onChange:O=>c(O.target.value)}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(iw,{id:"hidePrices",checked:u,onCheckedChange:O=>d(O===!0)}),i.jsx(pe,{htmlFor:"hidePrices",className:"text-sm font-normal cursor-pointer",children:"Don't share pricing with customers (agent will ask them to inquire for quotes)"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:`text-sm ${E(l)>Py?"text-destructive":"text-muted-foreground"}`,children:[E(l)," / ",Py," words"]}),i.jsxs(G,{onClick:B,disabled:m,children:[m?i.jsx(Oe,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(Ec,{className:"h-4 w-4 mr-2"}),"Save Content"]})]})]})]}):i.jsxs(me,{className:"border-dashed",children:[i.jsxs(Ye,{children:[i.jsxs(Xe,{className:"flex items-center gap-2",children:[i.jsx(Yl,{className:"h-5 w-5"}),"Agent Knowledge & Instructions"]}),i.jsx(vt,{children:"Provide additional business details and call handling instructions"})]}),i.jsx(ge,{children:i.jsxs("div",{className:"text-center py-6",children:[i.jsx(Z2,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),i.jsx("h3",{className:"font-medium mb-1",children:"Define Custom Context"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4 max-w-md mx-auto",children:"Train your AI agent with custom business knowledge and call handling instructions. Control whether to share pricing with customers. Available on Pro plans and above."}),i.jsx(G,{variant:"outline",onClick:()=>t("/dashboard/subscriptions"),children:"Upgrade to Pro"})]})})]}),P?i.jsxs(me,{children:[i.jsxs(Ye,{children:[i.jsxs(Xe,{className:"flex items-center gap-2",children:[i.jsx(J2,{className:"h-5 w-5"}),"Knowledge Base"]}),i.jsx(vt,{children:"Upload PDFs to give your agent detailed reference material. Your agent will use these documents to provide more accurate and relevant information."})]}),i.jsxs(ge,{className:"space-y-4",children:[A?i.jsx("div",{className:"flex justify-center py-4",children:i.jsx(Oe,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):k.length>0?i.jsx("div",{className:"space-y-2",children:k.map(O=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/50",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[i.jsx(Yl,{className:"h-5 w-5 text-muted-foreground flex-shrink-0"}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:O.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:T(O.file_size_bytes)})]})]}),i.jsx(G,{variant:"ghost",size:"sm",onClick:()=>R(O.id),disabled:w===O.id,className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:w===O.id?i.jsx(Oe,{className:"h-4 w-4 animate-spin"}):i.jsx(Rr,{className:"h-4 w-4"})})]},O.id))}):i.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[i.jsx(Yl,{className:"h-10 w-10 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No documents uploaded yet"})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2",children:[i.jsxs("span",{className:"text-sm text-muted-foreground",children:[k.length,"/",ky," documents"]}),k.length<ky&&i.jsxs("div",{children:[i.jsx("input",{ref:s,type:"file",accept:".pdf",onChange:F,className:"hidden",id:"kb-file-upload"}),i.jsxs(G,{variant:"outline",onClick:()=>{var O;return(O=s.current)==null?void 0:O.click()},disabled:p,children:[p?i.jsx(Oe,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(mP,{className:"h-4 w-4 mr-2"}),"Upload PDF"]})]})]})]})]}):i.jsxs(me,{className:"border-dashed",children:[i.jsxs(Ye,{children:[i.jsxs(Xe,{className:"flex items-center gap-2",children:[i.jsx(J2,{className:"h-5 w-5"}),"Knowledge Base"]}),i.jsx(vt,{children:"Upload PDFs to give your agent detailed reference material"})]}),i.jsx(ge,{children:i.jsxs("div",{className:"text-center py-6",children:[i.jsx(Z2,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),i.jsx("h3",{className:"font-medium mb-1",children:"Upload Reference Documents"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4 max-w-md mx-auto",children:"Give your AI agent access to your PDFs, catalogs, or documentation for more accurate responses. Available on Pro plans and above."}),i.jsx(G,{variant:"outline",onClick:()=>t("/dashboard/subscriptions"),children:"Upgrade to Pro"})]})})]})]})]})}):i.jsx(Ht,{children:i.jsxs("div",{className:"p-6 max-w-5xl mx-auto space-y-6",children:[i.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Voice & Behavior"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Customize how your AI agent engages leads"})]}),i.jsx(me,{className:"border-dashed",children:i.jsxs(ge,{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(uP,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upgrade to Customize Your Agent"}),i.jsx("p",{className:"text-muted-foreground max-w-md mb-6",children:"Custom AI agent configuration is available on Growth plans and above. Upgrade to personalize how your agent greets callers and handles conversations."}),i.jsx(G,{asChild:!0,children:i.jsx("a",{href:"/dashboard/subscriptions",children:"View Plans"})})]})})]})})}function yFe(){const{data:e,isLoading:t}=w7(),n=m3e(),r=p3e(),s=g3e(),a=y3e(),[o,l]=v.useState(!1),[c,u]=v.useState(null),[d,f]=v.useState(null),[h,m]=v.useState({name:"",description:"",price_cents:0,duration_minutes:60,category:"routine",is_active:!0}),[y,p]=v.useState("0"),x=()=>{u(null),m({name:"",description:"",price_cents:0,duration_minutes:60,category:"routine",is_active:!0}),p("0"),l(!0)},w=k=>{u(k),m({name:k.name,description:k.description||"",price_cents:k.price_cents,duration_minutes:k.duration_minutes,category:k.category,is_active:k.is_active}),p((k.price_cents/100).toFixed(2)),l(!0)},g=()=>{l(!1),u(null)},b=k=>{const A=k.replace(/[^\d.]/g,""),E=A.split("."),I=E.length>2?`${E[0]}.${E.slice(1).join("")}`:A;p(I);const D=parseFloat(I)||0;m({...h,price_cents:Math.round(D*100)})},_=async()=>{c?await r.mutateAsync({id:c.id,...h}):await n.mutateAsync(h),g()},j=async()=>{d&&(await s.mutateAsync(d.id),f(null))},S=async k=>{await a.mutateAsync({id:k.id,is_active:!k.is_active})},N=(e==null?void 0:e.filter(k=>k.is_active))||[],C=(e==null?void 0:e.filter(k=>!k.is_active))||[],P=(e==null?void 0:e.reduce((k,A)=>{const E=A.category||"other";return k[E]||(k[E]=[]),k[E].push(A),k},{}))||{};return i.jsxs(Ht,{children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Services"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage the services your business offers"})]}),i.jsxs(G,{onClick:x,className:"gap-2",children:[i.jsx(qn,{className:"w-4 h-4"}),"Add Service"]})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[i.jsx(me,{children:i.jsx(ge,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:i.jsx(aj,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:t?"-":(e==null?void 0:e.length)||0}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Services"})]})]})})}),i.jsx(me,{children:i.jsx(ge,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/10 flex items-center justify-center",children:i.jsx(kc,{className:"w-5 h-5 text-emerald-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:t?"-":N.length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Active"})]})]})})}),i.jsx(me,{children:i.jsx(ge,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-500/10 flex items-center justify-center",children:i.jsx(hP,{className:"w-5 h-5 text-amber-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:t?"-":(e==null?void 0:e.filter(k=>k.category==="emergency").length)||0}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Emergency"})]})]})})}),i.jsx(me,{children:i.jsx(ge,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-500/10 flex items-center justify-center",children:i.jsx(Tm,{className:"w-5 h-5 text-slate-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:t?"-":C.length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Inactive"})]})]})})})]}),t?i.jsx("div",{className:"space-y-4",children:[1,2,3].map(k=>i.jsx(me,{children:i.jsx(ge,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx(Ot,{className:"h-10 w-10 rounded-lg"}),i.jsxs("div",{className:"space-y-2 flex-1",children:[i.jsx(Ot,{className:"h-4 w-48"}),i.jsx(Ot,{className:"h-3 w-32"})]})]})})},k))}):(e==null?void 0:e.length)===0?i.jsx(me,{children:i.jsx(ge,{className:"py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx(aj,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"font-medium text-lg mb-2",children:"No services yet"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your first service to start managing your offerings"}),i.jsxs(G,{onClick:x,children:[i.jsx(qn,{className:"w-4 h-4 mr-2"}),"Add Service"]})]})})}):i.jsx("div",{className:"space-y-6",children:Object.entries(P).map(([k,A])=>{const E=b3e(k);return i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(It,{className:E.color,children:E.label}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[A.length," service",A.length!==1?"s":""]})]}),i.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:i.jsx(Of,{children:A.map(I=>i.jsx(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},children:i.jsx(me,{className:I.is_active?"":"opacity-60",children:i.jsx(ge,{className:"pt-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-medium truncate",children:I.name}),!I.is_active&&i.jsx(It,{variant:"secondary",className:"text-xs shrink-0",children:"Inactive"})]}),I.description&&i.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:I.description}),i.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[i.jsx(ij,{className:"w-4 h-4 text-muted-foreground"}),i.jsx("span",{className:"font-medium",children:v3e(I.price_cents)})]}),i.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[i.jsx(vs,{className:"w-4 h-4"}),i.jsx("span",{children:x3e(I.duration_minutes)})]})]})]}),i.jsxs(Yc,{children:[i.jsx(Xc,{asChild:!0,children:i.jsx(G,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:i.jsx(Xp,{className:"w-4 h-4"})})}),i.jsxs(bl,{align:"end",children:[i.jsxs(At,{onClick:()=>w(I),children:[i.jsx(M3,{className:"w-4 h-4 mr-2"}),"Edit"]}),i.jsx(At,{onClick:()=>S(I),children:I.is_active?i.jsxs(i.Fragment,{children:[i.jsx(Tm,{className:"w-4 h-4 mr-2"}),"Deactivate"]}):i.jsxs(i.Fragment,{children:[i.jsx(kc,{className:"w-4 h-4 mr-2"}),"Activate"]})}),i.jsx(Za,{}),i.jsxs(At,{onClick:()=>f(I),className:"text-destructive",children:[i.jsx(Rr,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})})})},I.id))})})]},k)})})]}),i.jsx(ps,{open:o,onOpenChange:l,children:i.jsxs(Xr,{children:[i.jsxs(Qr,{children:[i.jsx(Jr,{children:c?"Edit Service":"Add Service"}),i.jsx(gs,{children:c?"Update service details":"Create a new service offering"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"name",children:"Name *"}),i.jsx(Ae,{id:"name",value:h.name,onChange:k=>m({...h,name:k.target.value}),placeholder:"Service name"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"description",children:"Description"}),i.jsx(bs,{id:"description",value:h.description,onChange:k=>m({...h,description:k.target.value}),placeholder:"Brief description of the service",rows:2})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"price",children:"Price ($)"}),i.jsxs("div",{className:"relative",children:[i.jsx(ij,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx(Ae,{id:"price",value:y,onChange:k=>b(k.target.value),placeholder:"0.00",className:"pl-9"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"duration",children:"Duration (min)"}),i.jsxs("div",{className:"relative",children:[i.jsx(vs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx(Ae,{id:"duration",type:"number",value:h.duration_minutes,onChange:k=>m({...h,duration_minutes:parseInt(k.target.value)||0}),placeholder:"60",className:"pl-9",min:1})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"category",children:"Category"}),i.jsxs(vr,{value:h.category,onValueChange:k=>m({...h,category:k}),children:[i.jsx(sr,{children:i.jsx(xr,{placeholder:"Select a category"})}),i.jsx(ar,{children:h3e.map(k=>i.jsx(lt,{value:k.value,children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{children:k.label}),i.jsx("span",{className:"text-xs text-muted-foreground",children:k.description})]})},k.value))})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(pe,{htmlFor:"is_active",children:"Active"}),i.jsx(Ar,{id:"is_active",checked:h.is_active,onCheckedChange:k=>m({...h,is_active:k})})]})]}),i.jsxs(Zr,{children:[i.jsx(G,{variant:"outline",onClick:g,children:"Cancel"}),i.jsxs(G,{onClick:_,disabled:!h.name||n.isPending||r.isPending,children:[(n.isPending||r.isPending)&&i.jsx(Oe,{className:"w-4 h-4 mr-2 animate-spin"}),c?"Save Changes":"Add Service"]})]})]})}),i.jsx(Cg,{open:!!d,onOpenChange:()=>f(null),children:i.jsxs(Yf,{children:[i.jsxs(Xf,{children:[i.jsx(Zf,{children:"Delete service?"}),i.jsxs(Jf,{children:['This will permanently delete "',d==null?void 0:d.name,'". This action cannot be undone.']})]}),i.jsxs(Qf,{children:[i.jsx(th,{children:"Cancel"}),i.jsxs(eh,{onClick:j,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[s.isPending&&i.jsx(Oe,{className:"w-4 h-4 mr-2 animate-spin"}),"Delete"]})]})]})})]})}function vFe(){const{user:e}=ht();return jt({queryKey:["provider-roles",e==null?void 0:e.account_id],queryFn:async()=>{const{data:t,error:n}=await ie.from("provider_roles").select("*").order("display_order");if(n)throw n;return t},enabled:!!(e!=null&&e.account_id)})}function gq(){const e=St(),{user:t}=ht();return Qt({mutationFn:async n=>{var c;if(!(t!=null&&t.account_id))throw new Error("No organization");const r=n.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),{data:s}=await ie.from("provider_roles").select("display_order").order("display_order",{ascending:!1}).limit(1),a=((c=s==null?void 0:s[0])==null?void 0:c.display_order)||0,{data:o,error:l}=await ie.from("provider_roles").insert({account_id:t.account_id,name:n.name.trim(),slug:r,is_default:!1,display_order:a+1}).select().single();if(l)throw l;return o},onSuccess:()=>{e.invalidateQueries({queryKey:["provider-roles"]}),ct.success("Role created")},onError:n=>{ct.error("Failed to create role",{description:n.message})}})}function xFe(){const e=St();return Qt({mutationFn:async t=>{const{error:n}=await ie.from("provider_roles").delete().eq("id",t);if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["provider-roles"]}),e.invalidateQueries({queryKey:["providers"]}),ct.success("Role deleted")},onError:t=>{ct.error("Failed to delete role",{description:t.message})}})}const QD=[{day_of_week:1,start_time:"09:00",end_time:"17:00",is_available:!0},{day_of_week:2,start_time:"09:00",end_time:"17:00",is_available:!0},{day_of_week:3,start_time:"09:00",end_time:"17:00",is_available:!0},{day_of_week:4,start_time:"09:00",end_time:"17:00",is_available:!0},{day_of_week:5,start_time:"09:00",end_time:"17:00",is_available:!0}];function bFe(){const{user:e}=ht(),{data:t,isLoading:n}=a3e(),{data:r=[]}=vFe(),s=i3e(),a=o3e(),o=l3e(),l=f3e(),{data:c}=jt({queryKey:["account-nexhealth",e==null?void 0:e.account_id],queryFn:async()=>{const{data:T}=await ie.from("accounts").select("nexhealth_enabled").eq("id",e==null?void 0:e.account_id).single();return T},enabled:!!(e!=null&&e.account_id)}),[u,d]=v.useState(!1),[f,h]=v.useState(null),[m,y]=v.useState(null),[p,x]=v.useState(null),[w,g]=v.useState(!1),[b,_]=v.useState({name:"",email:"",phone:"",role_id:"",color:wu[0],is_active:!0}),[j,S]=v.useState(!1),[N,C]=v.useState(""),P=gq(),k=()=>{h(null),_({name:"",email:"",phone:"",role_id:"",color:wu[(t==null?void 0:t.length)||0%wu.length],is_active:!0}),S(!1),C(""),r.length===0&&S(!0),d(!0)},A=T=>{h(T),_({name:T.name,email:T.email||"",phone:T.phone||"",role_id:T.role_id||"",color:T.color||wu[0],is_active:T.is_active}),d(!0)},E=()=>{d(!1),h(null),S(!1),C("")},I=async()=>{if(N.trim())try{const T=await P.mutateAsync({name:N.trim()});_({...b,role_id:T.id}),S(!1),C("")}catch{}},D=async()=>{f?await a.mutateAsync({id:f.id,...b}):await s.mutateAsync(b),E()},V=async()=>{p&&(await o.mutateAsync(p.id),x(null))},B=T=>{var O;if((O=T.role_data)!=null&&O.name)return T.role_data.name;if(T.role_id){const W=r.find($=>$.id===T.role_id);if(W)return W.name}return T.role||"No Role"},F=(t==null?void 0:t.filter(T=>T.is_active))||[],R=(t==null?void 0:t.filter(T=>!T.is_active))||[];return i.jsxs(Ht,{children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Team"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage your team members and their schedules"})]}),i.jsxs("div",{className:"flex gap-2",children:[(c==null?void 0:c.nexhealth_enabled)&&i.jsxs(G,{variant:"outline",onClick:()=>l.mutate(),disabled:l.isPending,className:"gap-2",children:[l.isPending?i.jsx(Oe,{className:"w-4 h-4 animate-spin"}):i.jsx(A0,{className:"w-4 h-4"}),"Sync from PMS"]}),i.jsxs(G,{variant:"outline",onClick:()=>g(!0),className:"gap-2",children:[i.jsx(eT,{className:"w-4 h-4"}),"Roles"]}),i.jsxs(G,{onClick:k,className:"gap-2",children:[i.jsx(uj,{className:"w-4 h-4"}),"Add Member"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[i.jsx(me,{children:i.jsx(ge,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:i.jsx(Sa,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:n?"-":(t==null?void 0:t.length)||0}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Members"})]})]})})}),i.jsx(me,{children:i.jsx(ge,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/10 flex items-center justify-center",children:i.jsx(fn,{className:"w-5 h-5 text-emerald-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:n?"-":F.length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Active"})]})]})})}),i.jsx(me,{children:i.jsx(ge,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-500/10 flex items-center justify-center",children:i.jsx(eT,{className:"w-5 h-5 text-amber-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:r.length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Roles"})]})]})})}),i.jsx(me,{children:i.jsx(ge,{className:"pt-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-500/10 flex items-center justify-center",children:i.jsx(Om,{className:"w-5 h-5 text-slate-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:n?"-":R.length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Inactive"})]})]})})})]}),n?i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(T=>i.jsx(me,{children:i.jsx(ge,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx(Ot,{className:"h-12 w-12 rounded-full"}),i.jsxs("div",{className:"space-y-2 flex-1",children:[i.jsx(Ot,{className:"h-4 w-32"}),i.jsx(Ot,{className:"h-3 w-24"}),i.jsx(Ot,{className:"h-3 w-40"})]})]})})},T))}):(t==null?void 0:t.length)===0?i.jsx(me,{children:i.jsx(ge,{className:"py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Sa,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"font-medium text-lg mb-2",children:"No team members yet"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your first team member to start managing schedules"}),i.jsxs(G,{onClick:k,children:[i.jsx(uj,{className:"w-4 h-4 mr-2"}),"Add Member"]})]})})}):i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:i.jsx(Of,{children:t==null?void 0:t.map((T,O)=>i.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{delay:O*.05},children:i.jsx(me,{className:T.is_active?"":"opacity-60",children:i.jsx(ge,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white font-medium text-lg",style:{backgroundColor:T.color||wu[0]},children:T.name.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-medium truncate",children:T.name}),!T.is_active&&i.jsx(It,{variant:"secondary",className:"text-xs",children:"Inactive"})]}),i.jsx(It,{variant:"outline",className:"mt-1 text-xs",children:B(T)}),T.email&&i.jsxs("div",{className:"flex items-center gap-1.5 mt-2 text-sm text-muted-foreground",children:[i.jsx(Fu,{className:"w-3.5 h-3.5"}),i.jsx("span",{className:"truncate",children:T.email})]}),T.phone&&i.jsxs("div",{className:"flex items-center gap-1.5 mt-1 text-sm text-muted-foreground",children:[i.jsx(ft,{className:"w-3.5 h-3.5"}),i.jsx("span",{children:T.phone})]})]}),i.jsxs(Yc,{children:[i.jsx(Xc,{asChild:!0,children:i.jsx(G,{variant:"ghost",size:"icon",className:"h-8 w-8",children:i.jsx(Xp,{className:"w-4 h-4"})})}),i.jsxs(bl,{align:"end",children:[i.jsxs(At,{onClick:()=>A(T),children:[i.jsx(M3,{className:"w-4 h-4 mr-2"}),"Edit"]}),i.jsxs(At,{onClick:()=>y(T),children:[i.jsx(Di,{className:"w-4 h-4 mr-2"}),"Schedule"]}),i.jsx(Za,{}),i.jsxs(At,{onClick:()=>x(T),className:"text-destructive",children:[i.jsx(Rr,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})})})},T.id))})})]}),i.jsx(ps,{open:u,onOpenChange:d,children:i.jsxs(Xr,{children:[i.jsxs(Qr,{children:[i.jsx(Jr,{children:f?"Edit Member":"Add Member"}),i.jsx(gs,{children:f?"Update team member details":"Add a new team member"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"name",children:"Name *"}),i.jsx(Ae,{id:"name",value:b.name,onChange:T=>_({...b,name:T.target.value}),placeholder:"Full name"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"role",children:"Role *"}),j?i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ae,{value:N,onChange:T=>C(T.target.value),placeholder:"Enter role name",onKeyDown:T=>{T.key==="Enter"&&(T.preventDefault(),I())}}),i.jsx(G,{type:"button",size:"icon",variant:"outline",onClick:I,disabled:!N.trim()||P.isPending,children:P.isPending?i.jsx(Oe,{className:"w-4 h-4 animate-spin"}):i.jsx(fn,{className:"w-4 h-4"})}),i.jsx(G,{type:"button",size:"icon",variant:"ghost",onClick:()=>{S(!1),C("")},children:i.jsx(Om,{className:"w-4 h-4"})})]}):i.jsxs(vr,{value:b.role_id,onValueChange:T=>{T==="__new__"?S(!0):_({...b,role_id:T})},children:[i.jsx(sr,{children:i.jsx(xr,{placeholder:"Select a role"})}),i.jsxs(ar,{children:[r.map(T=>i.jsx(lt,{value:T.id,children:T.name},T.id)),i.jsx(lt,{value:"__new__",className:"text-primary",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(qn,{className:"w-4 h-4"}),"Add new role..."]})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"email",children:"Email"}),i.jsx(Ae,{id:"email",type:"email",value:b.email,onChange:T=>_({...b,email:T.target.value}),placeholder:"email@example.com"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"phone",children:"Phone"}),i.jsx(Ae,{id:"phone",value:b.phone,onChange:T=>_({...b,phone:T.target.value}),placeholder:"(555) 123-4567"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{children:"Color"}),i.jsx("div",{className:"flex gap-2",children:wu.map(T=>i.jsx("button",{type:"button",className:`w-8 h-8 rounded-full border-2 transition-all ${b.color===T?"border-foreground scale-110":"border-transparent"}`,style:{backgroundColor:T},onClick:()=>_({...b,color:T})},T))})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(pe,{htmlFor:"is_active",children:"Active"}),i.jsx(Ar,{id:"is_active",checked:b.is_active,onCheckedChange:T=>_({...b,is_active:T})})]})]}),i.jsxs(Zr,{children:[i.jsx(G,{variant:"outline",onClick:E,children:"Cancel"}),i.jsxs(G,{onClick:D,disabled:!b.name||!b.role_id||s.isPending||a.isPending,children:[(s.isPending||a.isPending)&&i.jsx(Oe,{className:"w-4 h-4 mr-2 animate-spin"}),f?"Save Changes":"Add Member"]})]})]})}),i.jsx(wFe,{provider:m,onClose:()=>y(null)}),i.jsx(_Fe,{open:w,onClose:()=>g(!1),roles:r}),i.jsx(Cg,{open:!!p,onOpenChange:()=>x(null),children:i.jsxs(Yf,{children:[i.jsxs(Xf,{children:[i.jsx(Zf,{children:"Delete team member?"}),i.jsxs(Jf,{children:["This will permanently delete ",p==null?void 0:p.name," and their schedule. This action cannot be undone."]})]}),i.jsxs(Qf,{children:[i.jsx(th,{children:"Cancel"}),i.jsxs(eh,{onClick:V,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[o.isPending&&i.jsx(Oe,{className:"w-4 h-4 mr-2 animate-spin"}),"Delete"]})]})]})})]})}function wFe({provider:e,onClose:t}){const{data:n}=c3e(e==null?void 0:e.id),r=u3e(),[s,a]=v.useState([]);v.useState(()=>{n&&n.length>0?a(n.map(d=>({day_of_week:d.day_of_week,start_time:d.start_time,end_time:d.end_time,is_available:d.is_available}))):e&&a(QD)}),n&&n.length>0&&s.length===0?a(n.map(d=>({day_of_week:d.day_of_week,start_time:d.start_time,end_time:d.end_time,is_available:d.is_available}))):(n==null?void 0:n.length)===0&&s.length===0&&e&&a(QD);const o=async()=>{e&&(await r.mutateAsync({providerId:e.id,schedules:s.filter(d=>d.is_available)}),t())},l=(d,f,h)=>{a(m=>m.map(y=>y.day_of_week===d?{...y,[f]:h}:y))},c=d=>{const f=s.find(h=>h.day_of_week===d);f?l(d,"is_available",!f.is_available):a(h=>[...h,{day_of_week:d,start_time:"09:00",end_time:"17:00",is_available:!0}])},u=[0,1,2,3,4,5,6];return i.jsx(ps,{open:!!e,onOpenChange:()=>t(),children:i.jsxs(Xr,{className:"max-w-md",children:[i.jsxs(Qr,{children:[i.jsxs(Jr,{children:["Schedule - ",e==null?void 0:e.name]}),i.jsx(gs,{children:"Set availability for each day of the week"})]}),i.jsx("div",{className:"space-y-3 py-4",children:u.map(d=>{const f=s.find(m=>m.day_of_week===d),h=(f==null?void 0:f.is_available)??!1;return i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-20",children:i.jsx("span",{className:"text-sm font-medium",children:d3e(d)})}),i.jsx(Ar,{checked:h,onCheckedChange:()=>c(d)}),h&&f&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ae,{type:"time",value:f.start_time,onChange:m=>l(d,"start_time",m.target.value),className:"w-28 h-8"}),i.jsx("span",{className:"text-muted-foreground",children:"to"}),i.jsx(Ae,{type:"time",value:f.end_time,onChange:m=>l(d,"end_time",m.target.value),className:"w-28 h-8"})]}),!h&&i.jsx("span",{className:"text-sm text-muted-foreground",children:"Off"})]},d)})}),i.jsxs(Zr,{children:[i.jsx(G,{variant:"outline",onClick:t,children:"Cancel"}),i.jsxs(G,{onClick:o,disabled:r.isPending,children:[r.isPending&&i.jsx(Oe,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Schedule"]})]})]})})}function _Fe({open:e,onClose:t,roles:n}){const r=gq(),s=xFe(),[a,o]=v.useState(""),[l,c]=v.useState(null),u=async()=>{a.trim()&&(await r.mutateAsync({name:a.trim()}),o(""))},d=async()=>{l&&(await s.mutateAsync(l.id),c(null))};return i.jsxs(i.Fragment,{children:[i.jsx(ps,{open:e,onOpenChange:t,children:i.jsxs(Xr,{children:[i.jsxs(Qr,{children:[i.jsx(Jr,{children:"Manage Roles"}),i.jsx(gs,{children:"Create and manage roles for your team members"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ae,{placeholder:"New role name",value:a,onChange:f=>o(f.target.value),onKeyDown:f=>f.key==="Enter"&&u()}),i.jsx(G,{onClick:u,disabled:!a.trim()||r.isPending,children:r.isPending?i.jsx(Oe,{className:"w-4 h-4 animate-spin"}):i.jsx(qn,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"space-y-2",children:[n.map(f=>i.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg border",children:[i.jsx("span",{className:"font-medium",children:f.name}),!f.is_default&&i.jsx(G,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>c(f),children:i.jsx(Rr,{className:"w-4 h-4"})})]},f.id)),n.length===0&&i.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No roles yet. Add your first role above."})]})]}),i.jsx(Zr,{children:i.jsx(G,{onClick:t,children:"Done"})})]})}),i.jsx(Cg,{open:!!l,onOpenChange:()=>c(null),children:i.jsxs(Yf,{children:[i.jsxs(Xf,{children:[i.jsx(Zf,{children:"Delete role?"}),i.jsxs(Jf,{children:['This will remove the "',l==null?void 0:l.name,'" role. Team members with this role will need to be reassigned.']})]}),i.jsxs(Qf,{children:[i.jsx(th,{children:"Cancel"}),i.jsx(eh,{onClick:d,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}const ra=e=>{const t=new Date;return t.setDate(t.getDate()-e),t.toISOString()},jFe=e=>{const t=new Date;return t.setDate(t.getDate()+e),t.toISOString()},SFe=[{id:"campaign-001",account_id:wt,name:"Appointment Reminder Campaign",description:"Automated appointment reminders for scheduled services",status:"active",campaign_type:"reminder",agent_prompt:"Remind customers about their upcoming appointment and confirm attendance.",first_message:"Hi, this is Acme HVAC calling to remind you about your scheduled service appointment.",max_attempts:3,retry_delay_hours:24,start_date:ra(14),end_date:null,calling_hours_start:"09:00",calling_hours_end:"18:00",calling_days:["monday","tuesday","wednesday","thursday","friday"],timezone:"America/New_York",total_contacts:48,contacts_called:42,contacts_connected:38,contacts_completed:35,created_at:ra(14),updated_at:ra(1)},{id:"campaign-002",account_id:wt,name:"Seasonal Maintenance Outreach",description:"Reach out to past customers about seasonal HVAC maintenance",status:"active",campaign_type:"outreach",agent_prompt:"Offer seasonal HVAC maintenance services to past customers.",first_message:"Hi, this is Acme HVAC. We wanted to check in about scheduling your seasonal maintenance.",max_attempts:2,retry_delay_hours:48,start_date:ra(7),end_date:jFe(14),calling_hours_start:"10:00",calling_hours_end:"17:00",calling_days:["monday","tuesday","wednesday","thursday","friday"],timezone:"America/New_York",total_contacts:125,contacts_called:67,contacts_connected:52,contacts_completed:45,created_at:ra(7),updated_at:ra(1)},{id:"campaign-003",account_id:wt,name:"Service Follow-Up",description:"Follow up with customers after service completion",status:"paused",campaign_type:"follow_up",agent_prompt:"Thank customers for their business and ask about their satisfaction.",first_message:"Hi, this is Acme HVAC following up on your recent service.",max_attempts:2,retry_delay_hours:72,start_date:ra(21),end_date:null,calling_hours_start:"11:00",calling_hours_end:"16:00",calling_days:["tuesday","wednesday","thursday"],timezone:"America/New_York",total_contacts:35,contacts_called:35,contacts_connected:28,contacts_completed:28,created_at:ra(21),updated_at:ra(5)},{id:"campaign-004",account_id:wt,name:"New Customer Welcome",description:"Welcome new customers and introduce services",status:"draft",campaign_type:"welcome",agent_prompt:"Welcome new customers and explain available services.",first_message:"Hi, this is Acme HVAC. Thank you for choosing us!",max_attempts:2,retry_delay_hours:24,start_date:null,end_date:null,calling_hours_start:"09:00",calling_hours_end:"17:00",calling_days:["monday","tuesday","wednesday","thursday","friday"],timezone:"America/New_York",total_contacts:0,contacts_called:0,contacts_connected:0,contacts_completed:0,created_at:ra(2),updated_at:ra(2)}];function NFe(){const{user:e}=ht();return jt({queryKey:["campaigns",e==null?void 0:e.account_id],queryFn:async()=>SFe,enabled:!!(e!=null&&e.account_id)||ir()})}function CFe(e){const{user:t}=ht();return jt({queryKey:["campaign",e],queryFn:async()=>{if(!e||!(t!=null&&t.account_id))return null;const{data:n,error:r}=await ie.from("campaigns").select("*").eq("id",e).eq("account_id",t.account_id).single();if(r)throw r;return n},enabled:!!e&&!!(t!=null&&t.account_id)})}function PFe(){const e=St(),{user:t}=ht();return Qt({mutationFn:async n=>{if(!(t!=null&&t.account_id))throw new Error("No account");const{contact_ids:r,...s}=n,{data:a,error:o}=await ie.from("campaigns").insert({account_id:t.account_id,...s}).select().single();if(o)throw o;if(r&&r.length>0){const l=r.map(u=>({campaign_id:a.id,contact_id:u})),{error:c}=await ie.from("campaign_contacts").insert(l);if(c)throw c}return a},onSuccess:()=>{e.invalidateQueries({queryKey:["campaigns"]})}})}function yq(){const e=St();return Qt({mutationFn:async t=>{const{error:n}=await ie.from("campaigns").delete().eq("id",t);if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["campaigns"]})}})}function vq(){const e=St();return Qt({mutationFn:async({id:t,status:n})=>{const r={status:n,updated_at:new Date().toISOString()};if(n==="active"){const{data:o}=await ie.from("campaigns").select("start_date").eq("id",t).single();o!=null&&o.start_date||(r.start_date=new Date().toISOString())}n==="completed"&&(r.end_date=new Date().toISOString());const{data:s,error:a}=await ie.from("campaigns").update(r).eq("id",t).select().single();if(a)throw a;return s},onSuccess:t=>{e.invalidateQueries({queryKey:["campaigns"]}),e.invalidateQueries({queryKey:["campaign",t.id]})}})}const kFe=[{value:"mon",label:"Mon"},{value:"tue",label:"Tue"},{value:"wed",label:"Wed"},{value:"thu",label:"Thu"},{value:"fri",label:"Fri"},{value:"sat",label:"Sat"},{value:"sun",label:"Sun"}];function EFe({open:e,onOpenChange:t}){const n=es(),{toast:r}=Gn(),s=PFe(),{data:a}=Wk({},1,100),[o,l]=v.useState(1),[c,u]=v.useState({name:"",description:"",agent_prompt:"",first_message:"",calling_hours_start:"09:00",calling_hours_end:"17:00",calling_days:["mon","tue","wed","thu","fri"],max_attempts:3}),[d,f]=v.useState([]),h=(a==null?void 0:a.contacts)||[],m=()=>{l(1),u({name:"",description:"",agent_prompt:"",first_message:"",calling_hours_start:"09:00",calling_hours_end:"17:00",calling_days:["mon","tue","wed","thu","fri"],max_attempts:3}),f([]),t(!1)},y=async()=>{if(!c.name.trim()){r({title:"Campaign name is required",variant:"destructive"});return}try{const g=await s.mutateAsync({...c,contact_ids:d});r({title:"Campaign created successfully"}),m(),n(`/dashboard/campaigns/${g.id}`)}catch{r({title:"Failed to create campaign",variant:"destructive"})}},p=g=>{f(b=>b.includes(g)?b.filter(_=>_!==g):[...b,g])},x=()=>{d.length===h.length?f([]):f(h.map(g=>g.id))},w=g=>{u(b=>({...b,calling_days:b.calling_days.includes(g)?b.calling_days.filter(_=>_!==g):[...b.calling_days,g]}))};return i.jsx(ps,{open:e,onOpenChange:m,children:i.jsxs(Xr,{className:"max-w-2xl",children:[i.jsxs(Qr,{children:[i.jsx(Jr,{children:"Create Campaign"}),i.jsxs(gs,{children:["Step ",o," of 3: ",o===1?"Basic Info":o===2?"Select Contacts":"Schedule"]})]}),i.jsx("div",{className:"flex items-center gap-2 mb-4",children:[1,2,3].map(g=>i.jsx("div",{className:`flex-1 h-1 rounded-full transition-colors ${g<=o?"bg-primary":"bg-muted"}`},g))}),o===1&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"name",children:"Campaign Name *"}),i.jsx(Ae,{id:"name",placeholder:"e.g., Follow-up Calls - January",value:c.name,onChange:g=>u({...c,name:g.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"description",children:"Description"}),i.jsx(Ae,{id:"description",placeholder:"Brief description of this campaign",value:c.description,onChange:g=>u({...c,description:g.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"first_message",children:"First Message"}),i.jsx(bs,{id:"first_message",placeholder:"Hi, this is [Business Name] calling to follow up...",value:c.first_message,onChange:g=>u({...c,first_message:g.target.value}),rows:3}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"The initial message the AI will say when the call connects."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"agent_prompt",children:"Additional Instructions (optional)"}),i.jsx(bs,{id:"agent_prompt",placeholder:"Specific instructions for how the AI should handle these calls...",value:c.agent_prompt,onChange:g=>u({...c,agent_prompt:g.target.value}),rows:3})]})]}),o===2&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.length," of ",h.length," contacts selected"]}),i.jsx(G,{variant:"outline",size:"sm",onClick:x,children:d.length===h.length?"Deselect All":"Select All"})]}),h.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Sa,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"No contacts available"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Add contacts first or import from CSV"})]}):i.jsx("div",{className:"border rounded-lg max-h-64 overflow-y-auto",children:h.map(g=>i.jsxs("label",{className:"flex items-center gap-3 p-3 hover:bg-muted/50 cursor-pointer border-b last:border-b-0",children:[i.jsx(iw,{checked:d.includes(g.id),onCheckedChange:()=>p(g.id)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:g.name||"Unknown"}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:g.phone})]})]},g.id))}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"You can add more contacts after creating the campaign."})]}),o===3&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{children:"Calling Hours"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ae,{type:"time",value:c.calling_hours_start,onChange:g=>u({...c,calling_hours_start:g.target.value}),className:"w-32"}),i.jsx("span",{className:"text-muted-foreground",children:"to"}),i.jsx(Ae,{type:"time",value:c.calling_hours_end,onChange:g=>u({...c,calling_hours_end:g.target.value}),className:"w-32"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{children:"Calling Days"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:kFe.map(g=>i.jsx(G,{variant:c.calling_days.includes(g.value)?"default":"outline",size:"sm",onClick:()=>w(g.value),children:g.label},g.value))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"max_attempts",children:"Maximum Call Attempts"}),i.jsx(Ae,{id:"max_attempts",type:"number",min:1,max:10,value:c.max_attempts,onChange:g=>u({...c,max_attempts:parseInt(g.target.value)||3}),className:"w-24"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Number of times to attempt calling each contact if they don't answer."})]}),i.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 space-y-2",children:[i.jsx("h4",{className:"font-medium",children:"Campaign Summary"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.jsx("strong",{children:c.name||"Unnamed campaign"})," with"," ",i.jsxs("strong",{children:[d.length," contacts"]})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Calls will be made ",c.calling_days.join(", ")," between"," ",c.calling_hours_start," and ",c.calling_hours_end]})]})]}),i.jsxs(Zr,{className:"gap-2",children:[o>1&&i.jsxs(G,{variant:"outline",onClick:()=>l(g=>g-1),children:[i.jsx(Yp,{className:"w-4 h-4 mr-1"}),"Back"]}),o<3?i.jsxs(G,{onClick:()=>l(g=>g+1),children:["Next",i.jsx(ml,{className:"w-4 h-4 ml-1"})]}):i.jsxs(G,{onClick:y,disabled:s.isPending,children:[s.isPending&&i.jsx(Oe,{className:"w-4 h-4 mr-2 animate-spin"}),"Create Campaign"]})]})]})})}const ZD={draft:{label:"Draft",variant:"secondary"},active:{label:"Active",variant:"default"},paused:{label:"Paused",variant:"outline"},completed:{label:"Completed",variant:"secondary"}};function i_({campaign:e}){const{toast:t}=Gn(),n=vq(),r=yq(),s=async c=>{try{await n.mutateAsync({id:e.id,status:c}),t({title:"Campaign updated",description:`Campaign is now ${c}`})}catch{t({title:"Failed to update campaign",variant:"destructive"})}},a=async()=>{if(confirm("Are you sure you want to delete this campaign?"))try{await r.mutateAsync(e.id),t({title:"Campaign deleted"})}catch{t({title:"Failed to delete campaign",variant:"destructive"})}},o=e.total_contacts>0?Math.round(e.contacts_completed/e.total_contacts*100):0,l=e.contacts_called>0?Math.round(e.contacts_connected/e.contacts_called*100):0;return i.jsxs(me,{className:"hover:border-primary/50 transition-colors",children:[i.jsx(Ye,{className:"pb-3",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(Xe,{className:"text-lg",children:e.name}),e.description&&i.jsx(vt,{className:"line-clamp-2",children:e.description})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(It,{variant:ZD[e.status].variant,children:ZD[e.status].label}),i.jsxs(Yc,{children:[i.jsx(Xc,{asChild:!0,children:i.jsx(G,{variant:"ghost",size:"sm",children:i.jsx(Xp,{className:"w-4 h-4"})})}),i.jsxs(bl,{align:"end",children:[i.jsx(At,{asChild:!0,children:i.jsxs(tt,{to:`/dashboard/campaigns/${e.id}`,children:[i.jsx(Zh,{className:"w-4 h-4 mr-2"}),"View Details"]})}),i.jsx(Za,{}),e.status==="draft"&&i.jsxs(At,{onClick:()=>s("active"),children:[i.jsx(Pv,{className:"w-4 h-4 mr-2"}),"Start Campaign"]}),e.status==="active"&&i.jsxs(At,{onClick:()=>s("paused"),children:[i.jsx(O3,{className:"w-4 h-4 mr-2"}),"Pause Campaign"]}),e.status==="paused"&&i.jsxs(i.Fragment,{children:[i.jsxs(At,{onClick:()=>s("active"),children:[i.jsx(Pv,{className:"w-4 h-4 mr-2"}),"Resume Campaign"]}),i.jsxs(At,{onClick:()=>s("completed"),children:[i.jsx(kc,{className:"w-4 h-4 mr-2"}),"Mark Complete"]})]}),i.jsx(Za,{}),i.jsxs(At,{className:"text-destructive",onClick:a,children:[i.jsx(Rr,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})]})}),i.jsxs(ge,{children:[i.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-4",children:[i.jsxs("div",{className:"text-center p-2 rounded-lg bg-muted/50",children:[i.jsx(Sa,{className:"w-4 h-4 mx-auto text-muted-foreground mb-1"}),i.jsx("p",{className:"text-lg font-semibold",children:e.total_contacts}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Contacts"})]}),i.jsxs("div",{className:"text-center p-2 rounded-lg bg-muted/50",children:[i.jsx(ft,{className:"w-4 h-4 mx-auto text-muted-foreground mb-1"}),i.jsx("p",{className:"text-lg font-semibold",children:e.contacts_called}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Called"})]}),i.jsxs("div",{className:"text-center p-2 rounded-lg bg-muted/50",children:[i.jsx(E0,{className:"w-4 h-4 mx-auto text-muted-foreground mb-1"}),i.jsx("p",{className:"text-lg font-semibold",children:e.contacts_connected}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Connected"})]}),i.jsxs("div",{className:"text-center p-2 rounded-lg bg-muted/50",children:[i.jsx(I3,{className:"w-4 h-4 mx-auto text-muted-foreground mb-1"}),i.jsx("p",{className:"text-lg font-semibold",children:e.contacts_completed}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed"})]})]}),e.total_contacts>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Progress"}),i.jsxs("span",{className:"font-medium",children:[o,"%"]})]}),i.jsx("div",{className:"h-2 rounded-full bg-muted overflow-hidden",children:i.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${o}%`}})}),l>0&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[l,"% connection rate"]})]}),i.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t text-sm text-muted-foreground",children:[i.jsxs("span",{children:["Created ",Zc(new Date(e.created_at),{addSuffix:!0})]}),i.jsx(G,{variant:"ghost",size:"sm",asChild:!0,children:i.jsx(tt,{to:`/dashboard/campaigns/${e.id}`,children:"View Details"})})]})]})]})}function AFe(){const[e,t]=v.useState(!1),{data:n,isLoading:r}=NFe(),s=(n==null?void 0:n.filter(l=>l.status==="active"))||[],a=(n==null?void 0:n.filter(l=>l.status==="draft"))||[],o=(n==null?void 0:n.filter(l=>l.status==="completed"||l.status==="paused"))||[];return i.jsxs(Ht,{children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Campaigns"}),i.jsx("p",{className:"text-muted-foreground",children:"Create and manage outbound calling campaigns"})]}),i.jsxs(G,{onClick:()=>t(!0),children:[i.jsx(qn,{className:"w-4 h-4 mr-2"}),"New Campaign"]})]}),r&&i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[...Array(3)].map((l,c)=>i.jsx(Ot,{className:"h-64"},c))}),!r&&(!n||n.length===0)&&i.jsx(me,{className:"border-dashed",children:i.jsxs(ge,{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(E3,{className:"w-12 h-12 text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No campaigns yet"}),i.jsx("p",{className:"text-muted-foreground max-w-md mb-6",children:"Create your first outbound campaign to start reaching out to contacts automatically."}),i.jsxs(G,{onClick:()=>t(!0),children:[i.jsx(qn,{className:"w-4 h-4 mr-2"}),"Create Campaign"]})]})}),s.length>0&&i.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[i.jsxs("h2",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-success animate-pulse"}),"Active Campaigns"]}),i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.map(l=>i.jsx(i_,{campaign:l},l.id))})]}),a.length>0&&i.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:[i.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Drafts"}),i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.map(l=>i.jsx(i_,{campaign:l},l.id))})]}),o.length>0&&i.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:[i.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Completed & Paused"}),i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:o.map(l=>i.jsx(i_,{campaign:l},l.id))})]})]}),i.jsx(EFe,{open:e,onOpenChange:t})]})}function TFe(e){return jt({queryKey:["campaign-contacts",e],queryFn:async()=>{if(!e)return[];const{data:t,error:n}=await ie.from("campaign_contacts").select(`
          *,
          contact:contacts(id, name, phone, email)
        `).eq("campaign_id",e).order("created_at",{ascending:!0});if(n)throw n;return t},enabled:!!e})}function OFe(){const e=St();return Qt({mutationFn:async({campaignId:t,contactIds:n})=>{const r=n.map(o=>({campaign_id:t,contact_id:o})),{data:s,error:a}=await ie.from("campaign_contacts").upsert(r,{onConflict:"campaign_id,contact_id"}).select();if(a)throw a;return s},onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["campaign-contacts",n.campaignId]}),e.invalidateQueries({queryKey:["campaign",n.campaignId]}),e.invalidateQueries({queryKey:["campaigns"]})}})}function MFe(){const e=St();return Qt({mutationFn:async({campaignId:t,contactId:n})=>{const{error:r}=await ie.from("campaign_contacts").delete().eq("campaign_id",t).eq("contact_id",n);if(r)throw r},onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["campaign-contacts",n.campaignId]}),e.invalidateQueries({queryKey:["campaign",n.campaignId]}),e.invalidateQueries({queryKey:["campaigns"]})}})}const JD={draft:{label:"Draft",variant:"secondary"},active:{label:"Active",variant:"default"},paused:{label:"Paused",variant:"outline"},completed:{label:"Completed",variant:"secondary"}},e4={pending:{label:"Pending",color:"text-muted-foreground"},calling:{label:"Calling",color:"text-warning"},connected:{label:"Connected",color:"text-success"},completed:{label:"Completed",color:"text-success"},failed:{label:"Failed",color:"text-destructive"},skipped:{label:"Skipped",color:"text-muted-foreground"}};function RFe(){const{id:e}=zF(),t=es(),{toast:n}=Gn(),{data:r,isLoading:s}=CFe(e),{data:a,isLoading:o}=TFe(e),{data:l}=Wk({},1,100),c=vq(),u=yq(),d=OFe(),f=MFe(),[h,m]=v.useState(!1),[y,p]=v.useState([]),x=(l==null?void 0:l.contacts)||[],w=(a==null?void 0:a.map(C=>C.contact_id))||[],g=x.filter(C=>!w.includes(C.id)),b=async C=>{if(e)try{await c.mutateAsync({id:e,status:C}),n({title:"Campaign updated",description:`Campaign is now ${C}`})}catch{n({title:"Failed to update campaign",variant:"destructive"})}},_=async()=>{if(!(!e||!confirm("Are you sure you want to delete this campaign?")))try{await u.mutateAsync(e),n({title:"Campaign deleted"}),t("/dashboard/campaigns")}catch{n({title:"Failed to delete campaign",variant:"destructive"})}},j=async()=>{if(!(!e||y.length===0))try{await d.mutateAsync({campaignId:e,contactIds:y}),n({title:`Added ${y.length} contacts`}),p([]),m(!1)}catch{n({title:"Failed to add contacts",variant:"destructive"})}},S=async C=>{if(!(!e||!confirm("Remove this contact from the campaign?")))try{await f.mutateAsync({campaignId:e,contactId:C}),n({title:"Contact removed"})}catch{n({title:"Failed to remove contact",variant:"destructive"})}};if(s)return i.jsx(Ht,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsx(Ot,{className:"h-8 w-64"}),i.jsx(Ot,{className:"h-32"}),i.jsx(Ot,{className:"h-64"})]})});if(!r)return i.jsx(Ht,{children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Campaign not found"}),i.jsx(G,{asChild:!0,children:i.jsx(tt,{to:"/dashboard/campaigns",children:"Back to Campaigns"})})]})});const N=r.total_contacts>0?Math.round(r.contacts_completed/r.total_contacts*100):0;return i.jsxs(Ht,{children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"space-y-4",children:[i.jsx(G,{variant:"ghost",size:"sm",asChild:!0,className:"-ml-2",children:i.jsxs(tt,{to:"/dashboard/campaigns",children:[i.jsx(Td,{className:"w-4 h-4 mr-1"}),"Back to Campaigns"]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:r.name}),i.jsx(It,{variant:JD[r.status].variant,children:JD[r.status].label})]}),r.description&&i.jsx("p",{className:"text-muted-foreground",children:r.description})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[r.status==="draft"&&i.jsxs(G,{onClick:()=>b("active"),children:[i.jsx(Pv,{className:"w-4 h-4 mr-2"}),"Start Campaign"]}),r.status==="active"&&i.jsxs(G,{variant:"outline",onClick:()=>b("paused"),children:[i.jsx(O3,{className:"w-4 h-4 mr-2"}),"Pause"]}),r.status==="paused"&&i.jsxs(i.Fragment,{children:[i.jsxs(G,{onClick:()=>b("active"),children:[i.jsx(Pv,{className:"w-4 h-4 mr-2"}),"Resume"]}),i.jsxs(G,{variant:"outline",onClick:()=>b("completed"),children:[i.jsx(kc,{className:"w-4 h-4 mr-2"}),"Complete"]})]}),i.jsx(G,{variant:"destructive",size:"icon",onClick:_,children:i.jsx(Rr,{className:"w-4 h-4"})})]})]})]}),i.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid gap-4 md:grid-cols-4",children:[i.jsx(me,{children:i.jsx(ge,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-muted",children:i.jsx(Sa,{className:"w-5 h-5 text-muted-foreground"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:r.total_contacts}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Contacts"})]})]})})}),i.jsx(me,{children:i.jsx(ge,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-muted",children:i.jsx(ft,{className:"w-5 h-5 text-muted-foreground"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:r.contacts_called}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Called"})]})]})})}),i.jsx(me,{children:i.jsx(ge,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-muted",children:i.jsx(E0,{className:"w-5 h-5 text-muted-foreground"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:r.contacts_connected}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Connected"})]})]})})}),i.jsx(me,{children:i.jsx(ge,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-muted",children:i.jsx(I3,{className:"w-5 h-5 text-muted-foreground"})}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-2xl font-bold",children:[N,"%"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Completion"})]})]})})})]}),i.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},children:i.jsxs(me,{children:[i.jsx(Ye,{className:"pb-3",children:i.jsxs(Xe,{className:"text-lg flex items-center gap-2",children:[i.jsx(T0,{className:"w-5 h-5"}),"Campaign Settings"]})}),i.jsxs(ge,{children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(vs,{className:"w-4 h-4 text-muted-foreground"}),i.jsxs("span",{className:"text-sm",children:[r.calling_hours_start," - ",r.calling_hours_end]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Di,{className:"w-4 h-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm",children:r.calling_days.map(C=>C.charAt(0).toUpperCase()+C.slice(1)).join(", ")})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Max ",r.max_attempts," attempts per contact"]})]}),r.first_message&&i.jsxs("div",{className:"mt-4 p-3 rounded-lg bg-muted/50",children:[i.jsx("p",{className:"text-sm font-medium mb-1",children:"First Message:"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:r.first_message})]})]})]})}),i.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:i.jsxs(me,{children:[i.jsx(Ye,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Xe,{className:"text-lg",children:"Campaign Contacts"}),i.jsxs(G,{size:"sm",onClick:()=>m(!0),children:[i.jsx(qn,{className:"w-4 h-4 mr-2"}),"Add Contacts"]})]})}),i.jsx(ge,{children:o?i.jsx("div",{className:"space-y-2",children:[...Array(3)].map((C,P)=>i.jsx(Ot,{className:"h-12"},P))}):!a||a.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Sa,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"No contacts in this campaign"}),i.jsxs(G,{onClick:()=>m(!0),children:[i.jsx(qn,{className:"w-4 h-4 mr-2"}),"Add Contacts"]})]}):i.jsxs(ew,{children:[i.jsx(tw,{children:i.jsxs(Zo,{children:[i.jsx($n,{children:"Contact"}),i.jsx($n,{children:"Phone"}),i.jsx($n,{children:"Status"}),i.jsx($n,{children:"Attempts"}),i.jsx($n,{children:"Last Attempt"}),i.jsx($n,{className:"w-12"})]})}),i.jsx(nw,{children:a.map(C=>{var P,k,A,E;return i.jsxs(Zo,{children:[i.jsx(Pn,{className:"font-medium",children:((P=C.contact)==null?void 0:P.name)||"Unknown"}),i.jsx(Pn,{children:(k=C.contact)!=null&&k.phone?Ti(C.contact.phone):"-"}),i.jsxs(Pn,{children:[i.jsx("span",{className:((A=e4[C.status])==null?void 0:A.color)||"",children:((E=e4[C.status])==null?void 0:E.label)||C.status}),C.outcome&&i.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",C.outcome,")"]})]}),i.jsx(Pn,{children:C.attempts}),i.jsx(Pn,{children:C.last_attempt_at?Zc(new Date(C.last_attempt_at),{addSuffix:!0}):"-"}),i.jsx(Pn,{children:i.jsx(G,{variant:"ghost",size:"sm",onClick:()=>S(C.contact_id),children:i.jsx(Rr,{className:"w-4 h-4 text-muted-foreground"})})})]},C.id)})})]})})]})})]}),i.jsx(ps,{open:h,onOpenChange:m,children:i.jsxs(Xr,{children:[i.jsxs(Qr,{children:[i.jsx(Jr,{children:"Add Contacts"}),i.jsx(gs,{children:"Select contacts to add to this campaign."})]}),i.jsx("div",{className:"py-4",children:g.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Sa,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"All contacts are already in this campaign"})]}):i.jsx("div",{className:"border rounded-lg max-h-64 overflow-y-auto",children:g.map(C=>i.jsxs("label",{className:"flex items-center gap-3 p-3 hover:bg-muted/50 cursor-pointer border-b last:border-b-0",children:[i.jsx(iw,{checked:y.includes(C.id),onCheckedChange:()=>{p(P=>P.includes(C.id)?P.filter(k=>k!==C.id):[...P,C.id])}}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:C.name||"Unknown"}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:C.phone})]})]},C.id))})}),i.jsxs(Zr,{children:[i.jsx(G,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),i.jsxs(G,{onClick:j,disabled:y.length===0||d.isPending,children:[d.isPending&&i.jsx(Oe,{className:"w-4 h-4 mr-2 animate-spin"}),"Add ",y.length," Contact",y.length!==1?"s":""]})]})]})})]})}const t4={position:"bottom-right",primaryColor:"#6366f1",buttonText:"Talk to us",greeting:"Hi! How can I help you today?"};function IFe(){const{toast:e}=Gn(),{data:t,isLoading:n,refetch:r}=Mf(),[s,a]=v.useState(!1),[o,l]=v.useState(t4),[c,u]=v.useState(!1),[d,f]=v.useState(!1);v.useEffect(()=>{t&&(a(t.widget_enabled||!1),t.widget_config&&l({...t4,...t.widget_config}))},[t]);const h=async()=>{if(t!=null&&t.id){u(!0);try{const{error:p}=await ie.from("accounts").update({widget_enabled:s,widget_config:o}).eq("id",t.id);if(p)throw p;e({title:"Widget settings saved"}),r()}catch{e({title:"Failed to save settings",variant:"destructive"})}finally{u(!1)}}},m=t!=null&&t.id?`<script src="${window.location.origin}/widget.js"><\/script>
<script>
  AnswerAfter.init({
    accountId: '${t.id}',
    position: '${o.position}',
    primaryColor: '${o.primaryColor}'
  });
<\/script>`:"",y=async()=>{await navigator.clipboard.writeText(m),f(!0),e({title:"Embed code copied to clipboard"}),setTimeout(()=>f(!1),2e3)};return n?i.jsx(Ht,{children:i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(Oe,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):i.jsx(Ht,{children:i.jsxs("div",{className:"space-y-6 max-w-3xl",children:[i.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[i.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Website Widget"}),i.jsx("p",{className:"text-muted-foreground",children:"Add a voice widget to your website for instant customer support"})]}),i.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:i.jsx(me,{children:i.jsx(Ye,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(Xe,{className:"flex items-center gap-2",children:[i.jsx(P3,{className:"w-5 h-5"}),"Enable Widget"]}),i.jsx(vt,{children:"Allow visitors to start voice conversations from your website"})]}),i.jsx(Ar,{checked:s,onCheckedChange:a})]})})})}),s&&i.jsxs(i.Fragment,{children:[i.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:i.jsxs(me,{children:[i.jsxs(Ye,{children:[i.jsxs(Xe,{className:"flex items-center gap-2",children:[i.jsx(T3,{className:"w-5 h-5"}),"Appearance"]}),i.jsx(vt,{children:"Customize how the widget looks on your website"})]}),i.jsxs(ge,{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{children:"Position"}),i.jsxs(vr,{value:o.position,onValueChange:p=>l({...o,position:p}),children:[i.jsx(sr,{children:i.jsx(xr,{})}),i.jsxs(ar,{children:[i.jsx(lt,{value:"bottom-right",children:"Bottom Right"}),i.jsx(lt,{value:"bottom-left",children:"Bottom Left"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{children:"Primary Color"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ae,{type:"color",value:o.primaryColor,onChange:p=>l({...o,primaryColor:p.target.value}),className:"w-12 h-10 p-1 cursor-pointer"}),i.jsx(Ae,{value:o.primaryColor,onChange:p=>l({...o,primaryColor:p.target.value}),placeholder:"#6366f1",className:"flex-1"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{children:"Button Text"}),i.jsx(Ae,{value:o.buttonText,onChange:p=>l({...o,buttonText:p.target.value}),placeholder:"Talk to us"})]})]})]})}),i.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:i.jsxs(me,{children:[i.jsxs(Ye,{children:[i.jsxs(Xe,{className:"flex items-center gap-2",children:[i.jsx(Ds,{className:"w-5 h-5"}),"Greeting Message"]}),i.jsx(vt,{children:"The initial message shown when visitors open the widget"})]}),i.jsx(ge,{children:i.jsx(bs,{value:o.greeting,onChange:p=>l({...o,greeting:p.target.value}),placeholder:"Hi! How can I help you today?",rows:3})})]})}),i.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},children:i.jsxs(me,{children:[i.jsxs(Ye,{children:[i.jsxs(Xe,{className:"flex items-center gap-2",children:[i.jsx(S3,{className:"w-5 h-5"}),"Embed Code"]}),i.jsx(vt,{children:"Add this code to your website before the closing </body> tag"})]}),i.jsxs(ge,{children:[i.jsxs("div",{className:"relative",children:[i.jsx("pre",{className:"p-4 rounded-lg bg-muted text-sm overflow-x-auto",children:i.jsx("code",{children:m})}),i.jsx(G,{variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:y,children:d?i.jsxs(i.Fragment,{children:[i.jsx(fn,{className:"w-4 h-4 mr-1"}),"Copied"]}):i.jsxs(i.Fragment,{children:[i.jsx(Nv,{className:"w-4 h-4 mr-1"}),"Copy"]})})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-3",children:"Note: The widget script will be available after saving your settings."})]})]})})]}),i.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},children:i.jsxs(G,{onClick:h,disabled:c,children:[c?i.jsx(Oe,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(Ec,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})]})})}const n4=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Ee(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},xq=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?n4(r.ref,n,e):r.refs&&r.refs.forEach(s=>n4(s,n,e))}},$Fe=(e,t)=>{t.shouldUseNativeValidation&&xq(e,t);const n={};for(const r in e){const s=Ee(t.fields,r),a=Object.assign(e[r]||{},{ref:s&&s.ref});if(DFe(t.names||Object.keys(e),r)){const o=Object.assign({},Ee(n,r));Rt(o,"root",a),Rt(n,r,o)}else Rt(n,r,a)}return n},DFe=(e,t)=>e.some(n=>n.startsWith(t+"."));var LFe=function(e,t){for(var n={};e.length;){var r=e[0],s=r.code,a=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=n[o].types,u=c&&c[r.code];n[o]=iH(o,t,n,s,u?[].concat(u,r.message):r.message)}e.shift()}return n},r4=function(e,t,n){return n===void 0&&(n={}),function(r,s,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return a.shouldUseNativeValidation&&xq({},a),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:$Fe(LFe(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},pt;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},e.find=(s,a)=>{for(const o of s)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(pt||(pt={}));var s4;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(s4||(s4={}));const Te=pt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),vo=e=>{switch(typeof e){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return Number.isNaN(e)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(e)?Te.array:e===null?Te.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Te.promise:typeof Map<"u"&&e instanceof Map?Te.map:typeof Set<"u"&&e instanceof Set?Te.set:typeof Date<"u"&&e instanceof Date?Te.date:Te.object;default:return Te.unknown}},he=pt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ki extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},r={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),r}static assert(t){if(!(t instanceof Ki))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,pt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];n[a]=n[a]||[],n[a].push(t(s))}else r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ki.create=e=>new Ki(e);const sC=(e,t)=>{let n;switch(e.code){case he.invalid_type:e.received===Te.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case he.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,pt.jsonStringifyReplacer)}`;break;case he.unrecognized_keys:n=`Unrecognized key(s) in object: ${pt.joinValues(e.keys,", ")}`;break;case he.invalid_union:n="Invalid input";break;case he.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${pt.joinValues(e.options)}`;break;case he.invalid_enum_value:n=`Invalid enum value. Expected ${pt.joinValues(e.options)}, received '${e.received}'`;break;case he.invalid_arguments:n="Invalid function arguments";break;case he.invalid_return_type:n="Invalid function return type";break;case he.invalid_date:n="Invalid date";break;case he.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:pt.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case he.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case he.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case he.custom:n="Invalid input";break;case he.invalid_intersection_types:n="Intersection results could not be merged";break;case he.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case he.not_finite:n="Number must be finite";break;default:n=t.defaultError,pt.assertNever(e)}return{message:n}};let FFe=sC;function BFe(){return FFe}const VFe=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,a=[...n,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:a,message:l}};function _e(e,t){const n=BFe(),r=VFe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===sC?void 0:sC].filter(s=>!!s)});e.common.issues.push(r)}class ws{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return He;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const a=await s.key,o=await s.value;r.push({key:a,value:o})}return ws.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return He;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[a.value]=o.value)}return{status:t.value,value:r}}}const He=Object.freeze({status:"aborted"}),Vh=e=>({status:"dirty",value:e}),Gs=e=>({status:"valid",value:e}),a4=e=>e.status==="aborted",i4=e=>e.status==="dirty",ff=e=>e.status==="valid",s0=e=>typeof Promise<"u"&&e instanceof Promise;var Re;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Re||(Re={}));class cl{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const o4=(e,t)=>{if(ff(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ki(e.common.issues);return this._error=n,this._error}}};function et(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:s}}class mt{get description(){return this._def.description}_getType(t){return vo(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:vo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ws,ctx:{common:t.parent.common,data:t.data,parsedType:vo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(s0(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:vo(t)},s=this._parseSync({data:t,path:r.path,parent:r});return o4(r,s)}"~validate"(t){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:vo(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:n});return ff(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(s=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(a=>ff(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:vo(t)},s=this._parse({data:t,path:r.path,parent:r}),a=await(s0(s)?s:Promise.resolve(s));return o4(r,a)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const o=t(s),l=()=>a.addIssue({code:he.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new mf({schema:this,typeName:qe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return el.create(this,this._def)}nullable(){return pf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ti.create(this)}promise(){return l0.create(this,this._def)}or(t){return i0.create([this,t],this._def)}and(t){return o0.create(this,t,this._def)}transform(t){return new mf({...et(this._def),schema:this,typeName:qe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new iC({...et(this._def),innerType:this,defaultValue:n,typeName:qe.ZodDefault})}brand(){return new uBe({typeName:qe.ZodBranded,type:this,...et(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new oC({...et(this._def),innerType:this,catchValue:n,typeName:qe.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return EA.create(this,t)}readonly(){return lC.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const UFe=/^c[^\s-]{8,}$/i,zFe=/^[0-9a-z]+$/,WFe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,HFe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,qFe=/^[a-z0-9_-]{21}$/i,KFe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,GFe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,YFe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,XFe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let o_;const QFe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ZFe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,JFe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,eBe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tBe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nBe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,bq="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",rBe=new RegExp(`^${bq}$`);function wq(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function sBe(e){return new RegExp(`^${wq(e)}$`)}function aBe(e){let t=`${bq}T${wq(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function iBe(e,t){return!!((t==="v4"||!t)&&QFe.test(e)||(t==="v6"||!t)&&JFe.test(e))}function oBe(e,t){if(!KFe.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function lBe(e,t){return!!((t==="v4"||!t)&&ZFe.test(e)||(t==="v6"||!t)&&eBe.test(e))}class Fo extends mt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Te.string){const a=this._getOrReturnCtx(t);return _e(a,{code:he.invalid_type,expected:Te.string,received:a.parsedType}),He}const r=new ws;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),_e(s,{code:he.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),_e(s,{code:he.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?_e(s,{code:he.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&_e(s,{code:he.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")YFe.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"email",code:he.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")o_||(o_=new RegExp(XFe,"u")),o_.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"emoji",code:he.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")HFe.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"uuid",code:he.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")qFe.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"nanoid",code:he.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")UFe.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"cuid",code:he.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")zFe.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"cuid2",code:he.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")WFe.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"ulid",code:he.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),_e(s,{validation:"url",code:he.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"regex",code:he.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),_e(s,{code:he.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),_e(s,{code:he.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),_e(s,{code:he.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?aBe(a).test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{code:he.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?rBe.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{code:he.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?sBe(a).test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{code:he.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?GFe.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"duration",code:he.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?iBe(t.data,a.version)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"ip",code:he.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?oBe(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"jwt",code:he.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?lBe(t.data,a.version)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"cidr",code:he.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?tBe.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"base64",code:he.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?nBe.test(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{validation:"base64url",code:he.invalid_string,message:a.message}),r.dirty()):pt.assertNever(a);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:he.invalid_string,...Re.errToObj(r)})}_addCheck(t){return new Fo({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Re.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Re.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Re.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Re.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Re.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Re.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Re.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Re.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Re.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Re.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Re.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Re.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Re.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Re.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Re.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Re.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Re.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Re.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Re.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Re.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Re.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Re.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Re.errToObj(n)})}nonempty(t){return this.min(1,Re.errToObj(t))}trim(){return new Fo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Fo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Fo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Fo.create=e=>new Fo({checks:[],typeName:qe.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...et(e)});function cBe(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,a=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return a%o/10**s}class Ip extends mt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Te.number){const a=this._getOrReturnCtx(t);return _e(a,{code:he.invalid_type,expected:Te.number,received:a.parsedType}),He}let r;const s=new ws;for(const a of this._def.checks)a.kind==="int"?pt.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),_e(r,{code:he.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),_e(r,{code:he.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),_e(r,{code:he.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?cBe(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),_e(r,{code:he.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),_e(r,{code:he.not_finite,message:a.message}),s.dirty()):pt.assertNever(a);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Re.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Re.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Re.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Re.toString(n))}setLimit(t,n,r,s){return new Ip({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Re.toString(s)}]})}_addCheck(t){return new Ip({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Re.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Re.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Re.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Re.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Re.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Re.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Re.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Re.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Re.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&pt.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Ip.create=e=>new Ip({checks:[],typeName:qe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...et(e)});class $p extends mt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Te.bigint)return this._getInvalidInput(t);let r;const s=new ws;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),_e(r,{code:he.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),_e(r,{code:he.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),_e(r,{code:he.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):pt.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return _e(n,{code:he.invalid_type,expected:Te.bigint,received:n.parsedType}),He}gte(t,n){return this.setLimit("min",t,!0,Re.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Re.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Re.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Re.toString(n))}setLimit(t,n,r,s){return new $p({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Re.toString(s)}]})}_addCheck(t){return new $p({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Re.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Re.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Re.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Re.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Re.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}$p.create=e=>new $p({checks:[],typeName:qe.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...et(e)});class l4 extends mt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Te.boolean){const r=this._getOrReturnCtx(t);return _e(r,{code:he.invalid_type,expected:Te.boolean,received:r.parsedType}),He}return Gs(t.data)}}l4.create=e=>new l4({typeName:qe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...et(e)});class a0 extends mt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Te.date){const a=this._getOrReturnCtx(t);return _e(a,{code:he.invalid_type,expected:Te.date,received:a.parsedType}),He}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return _e(a,{code:he.invalid_date}),He}const r=new ws;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),_e(s,{code:he.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),_e(s,{code:he.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):pt.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new a0({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Re.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Re.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}a0.create=e=>new a0({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:qe.ZodDate,...et(e)});class c4 extends mt{_parse(t){if(this._getType(t)!==Te.symbol){const r=this._getOrReturnCtx(t);return _e(r,{code:he.invalid_type,expected:Te.symbol,received:r.parsedType}),He}return Gs(t.data)}}c4.create=e=>new c4({typeName:qe.ZodSymbol,...et(e)});class u4 extends mt{_parse(t){if(this._getType(t)!==Te.undefined){const r=this._getOrReturnCtx(t);return _e(r,{code:he.invalid_type,expected:Te.undefined,received:r.parsedType}),He}return Gs(t.data)}}u4.create=e=>new u4({typeName:qe.ZodUndefined,...et(e)});class d4 extends mt{_parse(t){if(this._getType(t)!==Te.null){const r=this._getOrReturnCtx(t);return _e(r,{code:he.invalid_type,expected:Te.null,received:r.parsedType}),He}return Gs(t.data)}}d4.create=e=>new d4({typeName:qe.ZodNull,...et(e)});class f4 extends mt{constructor(){super(...arguments),this._any=!0}_parse(t){return Gs(t.data)}}f4.create=e=>new f4({typeName:qe.ZodAny,...et(e)});class h4 extends mt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Gs(t.data)}}h4.create=e=>new h4({typeName:qe.ZodUnknown,...et(e)});class ul extends mt{_parse(t){const n=this._getOrReturnCtx(t);return _e(n,{code:he.invalid_type,expected:Te.never,received:n.parsedType}),He}}ul.create=e=>new ul({typeName:qe.ZodNever,...et(e)});class m4 extends mt{_parse(t){if(this._getType(t)!==Te.undefined){const r=this._getOrReturnCtx(t);return _e(r,{code:he.invalid_type,expected:Te.void,received:r.parsedType}),He}return Gs(t.data)}}m4.create=e=>new m4({typeName:qe.ZodVoid,...et(e)});class ti extends mt{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==Te.array)return _e(n,{code:he.invalid_type,expected:Te.array,received:n.parsedType}),He;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(o||l)&&(_e(n,{code:o?he.too_big:he.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(_e(n,{code:he.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(_e(n,{code:he.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>s.type._parseAsync(new cl(n,o,n.path,l)))).then(o=>ws.mergeArray(r,o));const a=[...n.data].map((o,l)=>s.type._parseSync(new cl(n,o,n.path,l)));return ws.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new ti({...this._def,minLength:{value:t,message:Re.toString(n)}})}max(t,n){return new ti({...this._def,maxLength:{value:t,message:Re.toString(n)}})}length(t,n){return new ti({...this._def,exactLength:{value:t,message:Re.toString(n)}})}nonempty(t){return this.min(1,t)}}ti.create=(e,t)=>new ti({type:e,minLength:null,maxLength:null,exactLength:null,typeName:qe.ZodArray,...et(t)});function Cu(e){if(e instanceof ln){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=el.create(Cu(r))}return new ln({...e._def,shape:()=>t})}else return e instanceof ti?new ti({...e._def,type:Cu(e.element)}):e instanceof el?el.create(Cu(e.unwrap())):e instanceof pf?pf.create(Cu(e.unwrap())):e instanceof Vc?Vc.create(e.items.map(t=>Cu(t))):e}class ln extends mt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=pt.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==Te.object){const u=this._getOrReturnCtx(t);return _e(u,{code:he.invalid_type,expected:Te.object,received:u.parsedType}),He}const{status:r,ctx:s}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ul&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=a[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new cl(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ul){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(_e(s,{code:he.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new cl(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>ws.mergeObjectSync(r,u)):ws.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return Re.errToObj,new ln({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,o;const s=((o=(a=this._def).errorMap)==null?void 0:o.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Re.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new ln({...this._def,unknownKeys:"strip"})}passthrough(){return new ln({...this._def,unknownKeys:"passthrough"})}extend(t){return new ln({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ln({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:qe.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new ln({...this._def,catchall:t})}pick(t){const n={};for(const r of pt.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new ln({...this._def,shape:()=>n})}omit(t){const n={};for(const r of pt.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new ln({...this._def,shape:()=>n})}deepPartial(){return Cu(this)}partial(t){const n={};for(const r of pt.objectKeys(this.shape)){const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}return new ln({...this._def,shape:()=>n})}required(t){const n={};for(const r of pt.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof el;)a=a._def.innerType;n[r]=a}return new ln({...this._def,shape:()=>n})}keyof(){return _q(pt.objectKeys(this.shape))}}ln.create=(e,t)=>new ln({shape:()=>e,unknownKeys:"strip",catchall:ul.create(),typeName:qe.ZodObject,...et(t)});ln.strictCreate=(e,t)=>new ln({shape:()=>e,unknownKeys:"strict",catchall:ul.create(),typeName:qe.ZodObject,...et(t)});ln.lazycreate=(e,t)=>new ln({shape:e,unknownKeys:"strip",catchall:ul.create(),typeName:qe.ZodObject,...et(t)});class i0 extends mt{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Ki(l.ctx.common.issues));return _e(n,{code:he.invalid_union,unionErrors:o}),He}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Ki(c));return _e(n,{code:he.invalid_union,unionErrors:l}),He}}get options(){return this._def.options}}i0.create=(e,t)=>new i0({options:e,typeName:qe.ZodUnion,...et(t)});function aC(e,t){const n=vo(e),r=vo(t);if(e===t)return{valid:!0,data:e};if(n===Te.object&&r===Te.object){const s=pt.objectKeys(t),a=pt.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=aC(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Te.array&&r===Te.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=aC(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===Te.date&&r===Te.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class o0 extends mt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(a,o)=>{if(a4(a)||a4(o))return He;const l=aC(a.value,o.value);return l.valid?((i4(a)||i4(o))&&n.dirty(),{status:n.value,value:l.data}):(_e(r,{code:he.invalid_intersection_types}),He)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}o0.create=(e,t,n)=>new o0({left:e,right:t,typeName:qe.ZodIntersection,...et(n)});class Vc extends mt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Te.array)return _e(r,{code:he.invalid_type,expected:Te.array,received:r.parsedType}),He;if(r.data.length<this._def.items.length)return _e(r,{code:he.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),He;!this._def.rest&&r.data.length>this._def.items.length&&(_e(r,{code:he.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new cl(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>ws.mergeArray(n,o)):ws.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new Vc({...this._def,rest:t})}}Vc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Vc({items:e,typeName:qe.ZodTuple,rest:null,...et(t)})};class p4 extends mt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Te.map)return _e(r,{code:he.invalid_type,expected:Te.map,received:r.parsedType}),He;const s=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new cl(r,l,r.path,[u,"key"])),value:a._parse(new cl(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return He;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return He;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}p4.create=(e,t,n)=>new p4({valueType:t,keyType:e,typeName:qe.ZodMap,...et(n)});class Dp extends mt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Te.set)return _e(r,{code:he.invalid_type,expected:Te.set,received:r.parsedType}),He;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(_e(r,{code:he.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(_e(r,{code:he.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return He;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>a._parse(new cl(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new Dp({...this._def,minSize:{value:t,message:Re.toString(n)}})}max(t,n){return new Dp({...this._def,maxSize:{value:t,message:Re.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Dp.create=(e,t)=>new Dp({valueType:e,minSize:null,maxSize:null,typeName:qe.ZodSet,...et(t)});class g4 extends mt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}g4.create=(e,t)=>new g4({getter:e,typeName:qe.ZodLazy,...et(t)});class y4 extends mt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return _e(n,{received:n.data,code:he.invalid_literal,expected:this._def.value}),He}return{status:"valid",value:t.data}}get value(){return this._def.value}}y4.create=(e,t)=>new y4({value:e,typeName:qe.ZodLiteral,...et(t)});function _q(e,t){return new hf({values:e,typeName:qe.ZodEnum,...et(t)})}class hf extends mt{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return _e(n,{expected:pt.joinValues(r),received:n.parsedType,code:he.invalid_type}),He}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return _e(n,{received:n.data,code:he.invalid_enum_value,options:r}),He}return Gs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return hf.create(t,{...this._def,...n})}exclude(t,n=this._def){return hf.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}hf.create=_q;class v4 extends mt{_parse(t){const n=pt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Te.string&&r.parsedType!==Te.number){const s=pt.objectValues(n);return _e(r,{expected:pt.joinValues(s),received:r.parsedType,code:he.invalid_type}),He}if(this._cache||(this._cache=new Set(pt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=pt.objectValues(n);return _e(r,{received:r.data,code:he.invalid_enum_value,options:s}),He}return Gs(t.data)}get enum(){return this._def.values}}v4.create=(e,t)=>new v4({values:e,typeName:qe.ZodNativeEnum,...et(t)});class l0 extends mt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.promise&&n.common.async===!1)return _e(n,{code:he.invalid_type,expected:Te.promise,received:n.parsedType}),He;const r=n.parsedType===Te.promise?n.data:Promise.resolve(n.data);return Gs(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}l0.create=(e,t)=>new l0({type:e,typeName:qe.ZodPromise,...et(t)});class mf extends mt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:o=>{_e(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return He;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?He:c.status==="dirty"||n.value==="dirty"?Vh(c.value):c});{if(n.value==="aborted")return He;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?He:l.status==="dirty"||n.value==="dirty"?Vh(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?He:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?He:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ff(o))return He;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>ff(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:n.value,value:l})):He);pt.assertNever(s)}}mf.create=(e,t,n)=>new mf({schema:e,typeName:qe.ZodEffects,effect:t,...et(n)});mf.createWithPreprocess=(e,t,n)=>new mf({schema:t,effect:{type:"preprocess",transform:e},typeName:qe.ZodEffects,...et(n)});class el extends mt{_parse(t){return this._getType(t)===Te.undefined?Gs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}el.create=(e,t)=>new el({innerType:e,typeName:qe.ZodOptional,...et(t)});class pf extends mt{_parse(t){return this._getType(t)===Te.null?Gs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}pf.create=(e,t)=>new pf({innerType:e,typeName:qe.ZodNullable,...et(t)});class iC extends mt{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Te.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}iC.create=(e,t)=>new iC({innerType:e,typeName:qe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...et(t)});class oC extends mt{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return s0(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ki(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ki(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}oC.create=(e,t)=>new oC({innerType:e,typeName:qe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...et(t)});class x4 extends mt{_parse(t){if(this._getType(t)!==Te.nan){const r=this._getOrReturnCtx(t);return _e(r,{code:he.invalid_type,expected:Te.nan,received:r.parsedType}),He}return{status:"valid",value:t.data}}}x4.create=e=>new x4({typeName:qe.ZodNaN,...et(e)});class uBe extends mt{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class EA extends mt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?He:a.status==="dirty"?(n.dirty(),Vh(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?He:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new EA({in:t,out:n,typeName:qe.ZodPipeline})}}class lC extends mt{_parse(t){const n=this._def.innerType._parse(t),r=s=>(ff(s)&&(s.value=Object.freeze(s.value)),s);return s0(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}lC.create=(e,t)=>new lC({innerType:e,typeName:qe.ZodReadonly,...et(t)});ln.lazycreate;var qe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(qe||(qe={}));const xo=Fo.create;ul.create;ti.create;const jq=ln.create;ln.strictCreate;i0.create;o0.create;Vc.create;hf.create;l0.create;el.create;pf.create;var dBe=Object.defineProperty,fBe=Object.defineProperties,hBe=Object.getOwnPropertyDescriptors,c0=Object.getOwnPropertySymbols,Sq=Object.prototype.hasOwnProperty,Nq=Object.prototype.propertyIsEnumerable,b4=(e,t,n)=>t in e?dBe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mBe=(e,t)=>{for(var n in t||(t={}))Sq.call(t,n)&&b4(e,n,t[n]);if(c0)for(var n of c0(t))Nq.call(t,n)&&b4(e,n,t[n]);return e},pBe=(e,t)=>fBe(e,hBe(t)),gBe=(e,t)=>{var n={};for(var r in e)Sq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&c0)for(var r of c0(e))t.indexOf(r)<0&&Nq.call(e,r)&&(n[r]=e[r]);return n};function yBe(e){let t=setTimeout(e,0),n=setTimeout(e,10),r=setTimeout(e,50);return[t,n,r]}function vBe(e){let t=v.useRef();return v.useEffect(()=>{t.current=e}),t.current}var xBe=18,Cq=40,bBe=`${Cq}px`,wBe=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function _Be({containerRef:e,inputRef:t,pushPasswordManagerStrategy:n,isFocused:r}){let[s,a]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(!1),d=v.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&s&&o,[s,o,n]),f=v.useCallback(()=>{let h=e.current,m=t.current;if(!h||!m||c||n==="none")return;let y=h,p=y.getBoundingClientRect().left+y.offsetWidth,x=y.getBoundingClientRect().top+y.offsetHeight/2,w=p-xBe,g=x;document.querySelectorAll(wBe).length===0&&document.elementFromPoint(w,g)===h||(a(!0),u(!0))},[e,t,c,n]);return v.useEffect(()=>{let h=e.current;if(!h||n==="none")return;function m(){let p=window.innerWidth-h.getBoundingClientRect().right;l(p>=Cq)}m();let y=setInterval(m,1e3);return()=>{clearInterval(y)}},[e,n]),v.useEffect(()=>{let h=r||document.activeElement===t.current;if(n==="none"||!h)return;let m=setTimeout(f,0),y=setTimeout(f,2e3),p=setTimeout(f,5e3),x=setTimeout(()=>{u(!0)},6e3);return()=>{clearTimeout(m),clearTimeout(y),clearTimeout(p),clearTimeout(x)}},[t,r,n,f]),{hasPWMBadge:s,willPushPWMBadge:d,PWM_BADGE_SPACE_WIDTH:bBe}}var Pq=v.createContext({}),kq=v.forwardRef((e,t)=>{var n=e,{value:r,onChange:s,maxLength:a,textAlign:o="left",pattern:l,placeholder:c,inputMode:u="numeric",onComplete:d,pushPasswordManagerStrategy:f="increase-width",pasteTransformer:h,containerClassName:m,noScriptCSSFallback:y=jBe,render:p,children:x}=n,w=gBe(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),g,b,_,j,S;let[N,C]=v.useState(typeof w.defaultValue=="string"?w.defaultValue:""),P=r??N,k=vBe(P),A=v.useCallback(q=>{s==null||s(q),C(q)},[s]),E=v.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),I=v.useRef(null),D=v.useRef(null),V=v.useRef({value:P,onChange:A,isIOS:typeof window<"u"&&((b=(g=window==null?void 0:window.CSS)==null?void 0:g.supports)==null?void 0:b.call(g,"-webkit-touch-callout","none"))}),B=v.useRef({prev:[(_=I.current)==null?void 0:_.selectionStart,(j=I.current)==null?void 0:j.selectionEnd,(S=I.current)==null?void 0:S.selectionDirection]});v.useImperativeHandle(t,()=>I.current,[]),v.useEffect(()=>{let q=I.current,se=D.current;if(!q||!se)return;V.current.value!==q.value&&V.current.onChange(q.value),B.current.prev=[q.selectionStart,q.selectionEnd,q.selectionDirection];function ve(){if(document.activeElement!==q){$(null),U(null);return}let $e=q.selectionStart,L=q.selectionEnd,H=q.selectionDirection,X=q.maxLength,fe=q.value,de=B.current.prev,oe=-1,xe=-1,We;if(fe.length!==0&&$e!==null&&L!==null){let Ss=$e===L,ru=$e===fe.length&&fe.length<X;if(Ss&&!ru){let Sr=$e;if(Sr===0)oe=0,xe=1,We="forward";else if(Sr===X)oe=Sr-1,xe=Sr,We="backward";else if(X>1&&fe.length>1){let Dr=0;if(de[0]!==null&&de[1]!==null){We=Sr<de[1]?"backward":"forward";let su=de[0]===de[1]&&de[0]<X;We==="backward"&&!su&&(Dr=-1)}oe=Dr+Sr,xe=Dr+Sr+1}}oe!==-1&&xe!==-1&&oe!==xe&&I.current.setSelectionRange(oe,xe,We)}let yt=oe!==-1?oe:$e,Qn=xe!==-1?xe:L,Ys=We??H;$(yt),U(Qn),B.current.prev=[yt,Qn,Ys]}if(document.addEventListener("selectionchange",ve,{capture:!0}),ve(),document.activeElement===q&&O(!0),!document.getElementById("input-otp-style")){let $e=document.createElement("style");if($e.id="input-otp-style",document.head.appendChild($e),$e.sheet){let L="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Eh($e.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Eh($e.sheet,`[data-input-otp]:autofill { ${L} }`),Eh($e.sheet,`[data-input-otp]:-webkit-autofill { ${L} }`),Eh($e.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Eh($e.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let ke=()=>{se&&se.style.setProperty("--root-height",`${q.clientHeight}px`)};ke();let ze=new ResizeObserver(ke);return ze.observe(q),()=>{document.removeEventListener("selectionchange",ve,{capture:!0}),ze.disconnect()}},[]);let[F,R]=v.useState(!1),[T,O]=v.useState(!1),[W,$]=v.useState(null),[Y,U]=v.useState(null);v.useEffect(()=>{yBe(()=>{var q,se,ve,ke;(q=I.current)==null||q.dispatchEvent(new Event("input"));let ze=(se=I.current)==null?void 0:se.selectionStart,$e=(ve=I.current)==null?void 0:ve.selectionEnd,L=(ke=I.current)==null?void 0:ke.selectionDirection;ze!==null&&$e!==null&&($(ze),U($e),B.current.prev=[ze,$e,L])})},[P,T]),v.useEffect(()=>{k!==void 0&&P!==k&&k.length<a&&P.length===a&&(d==null||d(P))},[a,d,k,P]);let ne=_Be({containerRef:D,inputRef:I,pushPasswordManagerStrategy:f,isFocused:T}),be=v.useCallback(q=>{let se=q.currentTarget.value.slice(0,a);if(se.length>0&&E&&!E.test(se)){q.preventDefault();return}typeof k=="string"&&se.length<k.length&&document.dispatchEvent(new Event("selectionchange")),A(se)},[a,A,k,E]),re=v.useCallback(()=>{var q;if(I.current){let se=Math.min(I.current.value.length,a-1),ve=I.current.value.length;(q=I.current)==null||q.setSelectionRange(se,ve),$(se),U(ve)}O(!0)},[a]),Me=v.useCallback(q=>{var se,ve;let ke=I.current;if(!h&&(!V.current.isIOS||!q.clipboardData||!ke))return;let ze=q.clipboardData.getData("text/plain"),$e=h?h(ze):ze;q.preventDefault();let L=(se=I.current)==null?void 0:se.selectionStart,H=(ve=I.current)==null?void 0:ve.selectionEnd,X=(L!==H?P.slice(0,L)+$e+P.slice(H):P.slice(0,L)+$e+P.slice(L)).slice(0,a);if(X.length>0&&E&&!E.test(X))return;ke.value=X,A(X);let fe=Math.min(X.length,a-1),de=X.length;ke.setSelectionRange(fe,de),$(fe),U(de)},[a,A,E,P]),te=v.useMemo(()=>({position:"relative",cursor:w.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[w.disabled]),J=v.useMemo(()=>({position:"absolute",inset:0,width:ne.willPushPWMBadge?`calc(100% + ${ne.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:ne.willPushPWMBadge?`inset(0 ${ne.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[ne.PWM_BADGE_SPACE_WIDTH,ne.willPushPWMBadge,o]),ae=v.useMemo(()=>v.createElement("input",pBe(mBe({autoComplete:w.autoComplete||"one-time-code"},w),{"data-input-otp":!0,"data-input-otp-placeholder-shown":P.length===0||void 0,"data-input-otp-mss":W,"data-input-otp-mse":Y,inputMode:u,pattern:E==null?void 0:E.source,"aria-placeholder":c,style:J,maxLength:a,value:P,ref:I,onPaste:q=>{var se;Me(q),(se=w.onPaste)==null||se.call(w,q)},onChange:be,onMouseOver:q=>{var se;R(!0),(se=w.onMouseOver)==null||se.call(w,q)},onMouseLeave:q=>{var se;R(!1),(se=w.onMouseLeave)==null||se.call(w,q)},onFocus:q=>{var se;re(),(se=w.onFocus)==null||se.call(w,q)},onBlur:q=>{var se;O(!1),(se=w.onBlur)==null||se.call(w,q)}})),[be,re,Me,u,J,a,Y,W,w,E==null?void 0:E.source,P]),K=v.useMemo(()=>({slots:Array.from({length:a}).map((q,se)=>{var ve;let ke=T&&W!==null&&Y!==null&&(W===Y&&se===W||se>=W&&se<Y),ze=P[se]!==void 0?P[se]:null,$e=P[0]!==void 0?null:(ve=c==null?void 0:c[se])!=null?ve:null;return{char:ze,placeholderChar:$e,isActive:ke,hasFakeCaret:ke&&ze===null}}),isFocused:T,isHovering:!w.disabled&&F}),[T,F,a,Y,W,w.disabled,P]),Se=v.useMemo(()=>p?p(K):v.createElement(Pq.Provider,{value:K},x),[x,K,p]);return v.createElement(v.Fragment,null,y!==null&&v.createElement("noscript",null,v.createElement("style",null,y)),v.createElement("div",{ref:D,"data-input-otp-container":!0,style:te,className:m},Se,v.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},ae)))});kq.displayName="Input";function Eh(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var jBe=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const Eq=v.forwardRef(({className:e,containerClassName:t,...n},r)=>i.jsx(kq,{ref:r,containerClassName:ee("flex items-center gap-2 has-[:disabled]:opacity-50",t),className:ee("disabled:cursor-not-allowed",e),...n}));Eq.displayName="InputOTP";const Aq=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:ee("flex items-center",e),...t}));Aq.displayName="InputOTPGroup";const Ul=v.forwardRef(({index:e,className:t,...n},r)=>{const s=v.useContext(Pq),{char:a,hasFakeCaret:o,isActive:l}=s.slots[e];return i.jsxs("div",{ref:r,className:ee("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",l&&"z-10 ring-2 ring-ring ring-offset-background",t),...n,children:[a,o&&i.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"animate-caret-blink h-4 w-px bg-foreground duration-1000"})})]})});Ul.displayName="InputOTPSlot";const SBe=v.forwardRef(({...e},t)=>i.jsx("div",{ref:t,role:"separator",...e,children:i.jsx(dX,{})}));SBe.displayName="InputOTPSeparator";const NBe=jq({email:xo().trim().min(1,{message:"Email is required"}).email({message:"Please enter a valid email address"}).max(255,{message:"Email must be less than 255 characters"}),password:xo().min(1,{message:"Password is required"}).min(8,{message:"Password must be at least 8 characters"}).max(128,{message:"Password must be less than 128 characters"})}),CBe=jq({name:xo().trim().min(1,{message:"Name is required"}).max(100,{message:"Name must be less than 100 characters"}),accountName:xo().trim().min(1,{message:"Account name is required"}).max(100,{message:"Account name must be less than 100 characters"}),email:xo().trim().min(1,{message:"Email is required"}).email({message:"Please enter a valid email address"}).max(255,{message:"Email must be less than 255 characters"}),phone:xo().trim().min(1,{message:"Phone number is required"}).refine(e=>Hl(e),{message:"Please enter a valid 10-digit phone number"}),password:xo().min(1,{message:"Password is required"}).min(8,{message:"Password must be at least 8 characters"}).max(128,{message:"Password must be less than 128 characters"}).regex(/[A-Z]/,{message:"Password must contain at least one uppercase letter"}).regex(/[a-z]/,{message:"Password must contain at least one lowercase letter"}).regex(/[0-9]/,{message:"Password must contain at least one number"}),confirmPassword:xo().min(1,{message:"Please confirm your password"})}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),w4=()=>{var Me,te;const e=es(),t=ka(),{toast:n}=Gn(),{login:r,signup:s,isAuthenticated:a}=ht(),l=new URLSearchParams(t.search).get("signup")==="true",[c,u]=v.useState(!l),[d,f]=v.useState(!1),[h,m]=v.useState(!1),[y,p]=v.useState(!1),[x,w]=v.useState(!1),[g,b]=v.useState("form"),[_,j]=v.useState(null),[S,N]=v.useState(""),[C,P]=v.useState(!1),[k,A]=v.useState(!1),[E,I]=v.useState(0),[D,V]=v.useState(!1),B=((te=(Me=t.state)==null?void 0:Me.from)==null?void 0:te.pathname)||"/dashboard";v.useEffect(()=>{a&&e(B,{replace:!0})},[a,e,B]),v.useEffect(()=>{if(E>0){const J=setTimeout(()=>I(E-1),1e3);return()=>clearTimeout(J)}},[E]);const F=XN({resolver:r4(NBe),defaultValues:{email:"",password:""}}),R=XN({resolver:r4(CBe),defaultValues:{name:"",accountName:"",email:"",phone:"",password:"",confirmPassword:""}}),T=async J=>{p(!0);try{const ae=await r(J.email,J.password);ae.error?n({title:"Login failed",description:ae.error,variant:"destructive"}):(n({title:"Welcome back!",description:"You have successfully logged in."}),e(B,{replace:!0}))}catch{n({title:"Login failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{p(!1)}},O=async()=>{const J=F.getValues("email");if(!J||!J.includes("@")){n({title:"Email required",description:"Please enter your email address first.",variant:"destructive"});return}w(!0);try{const{error:ae}=await ie.auth.resetPasswordForEmail(J,{redirectTo:`${window.location.origin}/auth?reset=true`});n(ae?{title:"Reset failed",description:ae.message,variant:"destructive"}:{title:"Check your email",description:"We've sent you a password reset link."})}catch{n({title:"Reset failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{w(!1)}},W=async(J,ae)=>{A(!0);try{const{data:K,error:Se}=await ie.functions.invoke("send-verification",{body:{type:J,[J]:ae}});if(Se||!(K!=null&&K.success))throw new Error((K==null?void 0:K.error)||(Se==null?void 0:Se.message)||"Failed to send code");K!=null&&K.devMode&&(K!=null&&K.code)?n({title:" Dev Mode - Verification Code",description:`Your code is: ${K.code}`,duration:1e4}):n({title:"Code sent!",description:`We've sent a verification code to your ${J==="email"?"email":"phone"}.`}),I(60)}catch(K){n({title:"Failed to send code",description:K.message||"Please try again.",variant:"destructive"})}finally{A(!1)}},$=async(J,ae,K)=>{P(!0);try{const{data:Se,error:q}=await ie.functions.invoke("verify-code",{body:{type:J,code:ae,[J]:K}});return q||!(Se!=null&&Se.success)?(n({title:"Invalid code",description:(Se==null?void 0:Se.error)||"Please check the code and try again.",variant:"destructive"}),!1):!0}catch(Se){return n({title:"Verification failed",description:Se.message||"Please try again.",variant:"destructive"}),!1}finally{P(!1)}},Y=async J=>{j(J),await W("email",J.email),b("verify-email")},U=async()=>{if(!_||S.length!==6)return;await $("email",S,_.email)&&await ne()},ne=async()=>{if(_){p(!0);try{const J=await s(_.email,_.password,_.name,_.accountName);if(J.error){n({title:"Signup failed",description:J.error,variant:"destructive"}),b("form"),p(!1);return}n({title:"Account created!",description:"Welcome to the dashboard!"});const{data:ae}=await ie.auth.getSession();if(ae.session){const{data:K,error:Se}=await ie.functions.invoke("provision-account",{headers:{Authorization:`Bearer ${ae.session.access_token}`},body:{accountName:_.accountName,notificationPhone:GD(_.phone),businessPhone:GD(_.phone),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}});if(Se){console.error("Provisioning error:",Se),n({title:"Setup issue",description:"There was an issue setting up your account. Please contact support.",variant:"destructive"}),e(B,{replace:!0});return}console.log("Account provisioned:",K),n({title:"Account ready!",description:"Let's choose your plan..."}),e("/onboarding/select-plan",{replace:!0})}else e(B,{replace:!0})}catch(J){console.error("Signup error:",J),n({title:"Signup failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"}),b("form")}finally{p(!1)}}},be=async()=>{if(!rC())return;V(!0);const J=`dev-${Date.now()}@test.local`,ae="TestPassword123!",K="Dev Tester",Se="Dev Test Clinic",q="+15551234567";try{n({title:"Setting up dev environment...",description:"Creating test account..."});const{data:se,error:ve}=await ie.auth.signUp({email:J,password:ae,options:{data:{full_name:K,account_name:Se}}});if(ve)throw ve;const{data:ke}=await ie.auth.getSession();if(!ke.session)throw new Error("Failed to get session after signup");n({title:"Setting up dev environment...",description:"Provisioning account..."});const{error:ze}=await ie.functions.invoke("provision-account",{headers:{Authorization:`Bearer ${ke.session.access_token}`},body:{accountName:Se,notificationPhone:q,businessPhone:q,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}});if(ze)throw ze;n({title:"Setting up dev environment...",description:"Creating phone, agent & sample data..."});const $e=await fetch("http://127.0.0.1:54321/functions/v1/dev-quick-setup",{method:"POST",headers:{Authorization:`Bearer ${ke.session.access_token}`,"Content-Type":"application/json"}}),L=await $e.json();if(!$e.ok)throw new Error(L.error||"Dev setup failed");n({title:"Dev Setup Complete!",description:`Created: ${L.data.samplesCreated.services} services, ${L.data.samplesCreated.contacts} contacts. Phone: ${L.data.phoneNumber}`}),e("/dashboard",{replace:!0})}catch(se){console.error("Dev setup failed:",se),n({title:"Dev Setup Failed",description:se instanceof Error?se.message:"Unknown error",variant:"destructive"})}finally{V(!1)}},re=(J,ae,K,Se,q)=>i.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-6",children:[i.jsxs("button",{type:"button",onClick:()=>b("form"),className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground",children:[i.jsx(Td,{className:"w-4 h-4"}),"Back"]}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(Fu,{className:"w-8 h-8 text-primary"})}),i.jsxs("h2",{className:"text-xl font-semibold",children:["Verify your ","email"]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["We sent a 6-digit code to"," ",i.jsx("span",{className:"font-medium text-foreground",children:q})]})]}),i.jsx("div",{className:"flex justify-center",onKeyDown:se=>{se.key==="Enter"&&ae.length===6&&!C&&(se.preventDefault(),Se())},children:i.jsx(Eq,{maxLength:6,value:ae,onChange:K,autoFocus:!0,children:i.jsxs(Aq,{children:[i.jsx(Ul,{index:0}),i.jsx(Ul,{index:1}),i.jsx(Ul,{index:2}),i.jsx(Ul,{index:3}),i.jsx(Ul,{index:4}),i.jsx(Ul,{index:5})]})})}),i.jsx(G,{type:"button",variant:"hero",size:"lg",className:"w-full",disabled:ae.length!==6||C,onClick:Se,children:C?i.jsxs(i.Fragment,{children:[i.jsx(Oe,{className:"w-5 h-5 animate-spin"}),"Verifying..."]}):i.jsxs(i.Fragment,{children:["Verify & Continue",i.jsx(Yr,{className:"w-5 h-5"})]})}),i.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Didn't receive the code?"," ",E>0?i.jsxs("span",{children:["Resend in ",E,"s"]}):i.jsx("button",{type:"button",onClick:()=>W(J,q),disabled:k,className:"text-primary hover:underline font-medium",children:k?"Sending...":"Resend"})]})]},`verify-${J}`);return i.jsxs("div",{className:"min-h-screen flex",children:[i.jsx("div",{className:"flex-1 flex items-center justify-center p-8 lg:p-16",children:i.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"w-full max-w-md",children:[i.jsxs(tt,{to:"/",className:"flex items-center gap-2 mb-8",children:[i.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-hero shadow-glow",children:i.jsx(ft,{className:"w-5 h-5 text-primary-foreground"})}),i.jsxs("span",{className:"font-display font-bold text-xl text-foreground",children:["Answer",i.jsx("span",{className:"text-gradient",children:"After"})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"font-display text-3xl font-bold mb-2",children:c?"Welcome back":g==="form"?"Create your account":g==="verify-email"?"Verify your email":"Almost done!"}),i.jsx("p",{className:"text-muted-foreground",children:c?"Enter your credentials to access your dashboard":g==="form"?"Start capturing every after-hours opportunity":"Enter the verification code to continue"})]}),g==="form"&&i.jsxs("div",{className:"flex bg-muted rounded-lg p-1 mb-8",children:[i.jsx("button",{onClick:()=>u(!0),className:`flex-1 py-2.5 px-4 rounded-md text-sm font-medium transition-all ${c?"bg-card text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Log In"}),i.jsx("button",{onClick:()=>u(!1),className:`flex-1 py-2.5 px-4 rounded-md text-sm font-medium transition-all ${c?"text-muted-foreground hover:text-foreground":"bg-card text-foreground shadow-sm"}`,children:"Sign Up"})]}),!c&&g!=="form"&&i.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[i.jsx("div",{className:`flex-1 h-1 rounded-full ${g==="verify-email"||g==="complete"?"bg-primary":"bg-muted"}`}),i.jsx("div",{className:`flex-1 h-1 rounded-full ${g==="complete"?"bg-primary":"bg-muted"}`})]}),i.jsx(Of,{mode:"wait",children:c?i.jsxs(Z.form,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},onSubmit:F.handleSubmit(T),className:"space-y-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"login-email",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(Fu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),i.jsx(Ae,{id:"login-email",type:"email",placeholder:"you@company.com",className:"pl-10 h-12",...F.register("email")})]}),F.formState.errors.email&&i.jsx("p",{className:"text-sm text-destructive",children:F.formState.errors.email.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(pe,{htmlFor:"login-password",children:"Password"}),i.jsx("button",{type:"button",onClick:O,disabled:x,className:"text-sm text-primary hover:underline disabled:opacity-50",children:x?"Sending...":"Forgot password?"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Bw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),i.jsx(Ae,{id:"login-password",type:d?"text":"password",placeholder:"",className:"pl-10 pr-10 h-12",...F.register("password")}),i.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:d?i.jsx(Fw,{className:"w-5 h-5"}):i.jsx(Zh,{className:"w-5 h-5"})})]}),F.formState.errors.password&&i.jsx("p",{className:"text-sm text-destructive",children:F.formState.errors.password.message})]}),i.jsx(G,{type:"submit",variant:"hero",size:"lg",className:"w-full",disabled:y,children:y?i.jsxs(i.Fragment,{children:[i.jsx(Oe,{className:"w-5 h-5 animate-spin"}),"Signing in..."]}):i.jsxs(i.Fragment,{children:["Sign In",i.jsx(Yr,{className:"w-5 h-5"})]})})]},"login"):g==="form"?i.jsxs(Z.form,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},onSubmit:R.handleSubmit(Y),className:"space-y-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"signup-name",children:"Full Name"}),i.jsxs("div",{className:"relative",children:[i.jsx(pP,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),i.jsx(Ae,{id:"signup-name",type:"text",placeholder:"John Smith",className:"pl-10 h-12",...R.register("name")})]}),R.formState.errors.name&&i.jsx("p",{className:"text-sm text-destructive",children:R.formState.errors.name.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"signup-org",children:"Account Name"}),i.jsxs("div",{className:"relative",children:[i.jsx(Am,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),i.jsx(Ae,{id:"signup-org",type:"text",placeholder:"Smile Dental Care",className:"pl-10 h-12",...R.register("accountName")})]}),R.formState.errors.accountName&&i.jsx("p",{className:"text-sm text-destructive",children:R.formState.errors.accountName.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"signup-email",children:"Work Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(Fu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),i.jsx(Ae,{id:"signup-email",type:"email",placeholder:"you@company.com",className:"pl-10 h-12",...R.register("email")})]}),R.formState.errors.email&&i.jsx("p",{className:"text-sm text-destructive",children:R.formState.errors.email.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(pe,{htmlFor:"signup-phone",children:"Business Phone Number"}),i.jsx(kP,{delayDuration:0,children:i.jsxs(_F,{children:[i.jsx(jF,{asChild:!0,children:i.jsx("button",{type:"button",className:"inline-flex",children:i.jsx(k3,{className:"w-4 h-4 text-muted-foreground hover:text-foreground transition-colors"})})}),i.jsx(EP,{side:"top",className:"max-w-[280px]",children:i.jsx("p",{className:"text-sm",children:"This is the number you would likely forward to the agent. We'll use it to find an AI phone number in your area code."})})]})})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),i.jsx(Ae,{id:"signup-phone",type:"tel",placeholder:"+1 (555) 123-4567",className:`pl-10 h-12 ${R.watch("phone")&&!Hl(R.watch("phone"))?"border-destructive focus-visible:ring-destructive":""}`,value:R.watch("phone"),onChange:J=>R.setValue("phone",U7(J.target.value),{shouldValidate:!0})})]}),R.formState.errors.phone&&i.jsx("p",{className:"text-sm text-destructive",children:R.formState.errors.phone.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"signup-password",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Bw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),i.jsx(Ae,{id:"signup-password",type:d?"text":"password",placeholder:"",className:"pl-10 pr-10 h-12",...R.register("password")}),i.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:d?i.jsx(Fw,{className:"w-5 h-5"}):i.jsx(Zh,{className:"w-5 h-5"})})]}),R.formState.errors.password&&i.jsx("p",{className:"text-sm text-destructive",children:R.formState.errors.password.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"signup-confirm-password",children:"Confirm Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Bw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),i.jsx(Ae,{id:"signup-confirm-password",type:h?"text":"password",placeholder:"",className:"pl-10 pr-10 h-12",...R.register("confirmPassword")}),i.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:h?i.jsx(Fw,{className:"w-5 h-5"}):i.jsx(Zh,{className:"w-5 h-5"})})]}),R.formState.errors.confirmPassword&&i.jsx("p",{className:"text-sm text-destructive",children:R.formState.errors.confirmPassword.message})]}),i.jsxs("div",{className:"bg-accent/10 border border-accent/20 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm font-semibold text-accent mb-1",children:" $1 First Month"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Start with your first month for just $1. Cancel anytime."})]}),rC()&&i.jsxs("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/30",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx($3,{className:"w-4 h-4 text-amber-600"}),i.jsx("span",{className:"text-sm font-medium text-amber-700 dark:text-amber-400",children:"Dev Mode"})]}),i.jsx(G,{type:"button",variant:"outline",size:"sm",onClick:be,disabled:D,className:"border-amber-500/50 text-amber-700 dark:text-amber-400 hover:bg-amber-500/20",children:D?i.jsxs(i.Fragment,{children:[i.jsx(Oe,{className:"w-3 h-3 mr-1.5 animate-spin"}),"Setting up..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Mm,{className:"w-3 h-3 mr-1.5"}),"Quick Setup"]})})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Skip signup & create test account with phone, agent, and sample data"})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["By signing up, you agree to our"," ",i.jsx(tt,{to:"/terms",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",i.jsx(tt,{to:"/privacy",className:"text-primary hover:underline",children:"Privacy Policy"}),"."]}),i.jsx(G,{type:"submit",variant:"hero",size:"lg",className:"w-full",disabled:y||k,children:k?i.jsxs(i.Fragment,{children:[i.jsx(Oe,{className:"w-5 h-5 animate-spin"}),"Sending verification..."]}):i.jsxs(i.Fragment,{children:["Continue",i.jsx(Yr,{className:"w-5 h-5"})]})})]},"signup"):g==="verify-email"&&_?re("email",S,N,U,_.email):null}),g==="form"&&i.jsxs("p",{className:"mt-8 text-center text-sm text-muted-foreground",children:[c?"Don't have an account? ":"Already have an account? ",i.jsx("button",{onClick:()=>u(!c),className:"text-primary font-medium hover:underline",children:c?"Sign up":"Log in"})]})]})}),i.jsxs("div",{className:"hidden lg:flex flex-1 bg-gradient-hero relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23fff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),i.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-center p-16 text-center",children:[i.jsx(Z.div,{animate:{y:[0,-10,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/4 right-20",children:i.jsx("div",{className:"p-4 rounded-2xl bg-primary-foreground/10 backdrop-blur-sm",children:i.jsx(ft,{className:"w-8 h-8 text-primary-foreground"})})}),i.jsx(Z.div,{animate:{y:[0,10,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-1/4 left-20",children:i.jsx("div",{className:"p-4 rounded-2xl bg-primary-foreground/10 backdrop-blur-sm",children:i.jsx(Fu,{className:"w-8 h-8 text-primary-foreground"})})}),i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[i.jsx("div",{className:"w-20 h-20 rounded-2xl bg-primary-foreground/10 backdrop-blur-sm flex items-center justify-center mx-auto mb-8",children:i.jsx(ft,{className:"w-10 h-10 text-primary-foreground"})}),i.jsx("h2",{className:"font-display text-3xl font-bold text-primary-foreground mb-4",children:"Never Miss a Call Again"}),i.jsx("p",{className:"text-primary-foreground/80 max-w-sm mx-auto mb-8",children:"85% of missed calls never call back. Stop losing leads to slow follow-ups and convert more of your marketing spend."}),i.jsx("div",{className:"grid grid-cols-3 gap-6 max-w-md mx-auto",children:[{value:"< 5s",label:"Response"},{value:"10x",label:"Conversions"},{value:"24/7",label:"Coverage"}].map(J=>i.jsxs("div",{className:"p-4 rounded-xl bg-primary-foreground/10 backdrop-blur-sm",children:[i.jsx("p",{className:"font-display text-2xl font-bold text-primary-foreground",children:J.value}),i.jsx("p",{className:"text-sm text-primary-foreground/70",children:J.label})]},J.label))})]})]})]})]})},PBe=()=>{const e=ka();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),i.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),i.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})};function kBe(){const{data:e,isLoading:t}=og(),[n,r]=v.useState(null),[s,a]=v.useState(!1),[o,l]=v.useState(!1),c=es(),{toast:u}=Gn(),{session:d}=ht(),f=rC(),h="stripe listen --forward-to localhost:54321/functions/v1/stripe-webhook",m=async()=>{await navigator.clipboard.writeText(h),l(!0),setTimeout(()=>l(!1),2e3)},y=g=>g<0?"Custom":Math.floor(g/100),p=g=>g==="enterprise",x=async g=>{if(p(g)){window.location.href=Qm.salesEmail;return}if(!d){u({title:"Session expired",description:"Please log in again.",variant:"destructive"}),c("/auth");return}if(r(g),a(!0),g==="business"){try{const{data:b,error:_}=await ie.functions.invoke("create-checkout-with-trial",{headers:{Authorization:`Bearer ${d.access_token}`},body:{planId:g}});if(_||!(b!=null&&b.url))throw new Error((_==null?void 0:_.message)||"Failed to create checkout session");window.location.href=b.url}catch(b){console.error("Checkout error:",b),u({title:"Checkout failed",description:b.message||"Please try again.",variant:"destructive"}),r(null),a(!1)}return}c(`/onboarding/upgrade?plan=${g}`)},w=(e==null?void 0:e.filter(g=>!p(g.plan_id)))||[];return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"border-b bg-card/50",children:i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary flex items-center justify-center",children:i.jsx(Ga,{className:"w-5 h-5 text-primary-foreground"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"font-display font-semibold text-lg",children:qc.nameCamelCase}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Step 1 of 5  Choose your plan"})]})]})})}),i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[i.jsx("h2",{className:"font-display text-2xl sm:text-3xl font-bold mb-3",children:"Choose your plan"}),i.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto",children:"All plans include AI call answering, appointment booking, and SMS. Upgrade or downgrade anytime."}),i.jsx("div",{className:"mt-4 inline-flex items-center gap-2 px-4 py-2 rounded-full bg-accent/10 border border-accent/20 text-accent font-semibold text-sm",children:" Your first month is only $1 on any plan"})]}),f&&i.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-lg bg-amber-500/10 border border-amber-500/30 text-amber-700 dark:text-amber-400",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx($3,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("p",{className:"font-semibold text-sm",children:"Local Development: Stripe Webhook Required"}),i.jsx("p",{className:"text-xs opacity-80",children:"Run this command in a separate terminal before checkout:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("code",{className:"flex-1 text-xs bg-black/10 dark:bg-white/10 px-3 py-2 rounded font-mono overflow-x-auto",children:h}),i.jsx(G,{variant:"ghost",size:"sm",className:"h-8 px-2 text-amber-700 dark:text-amber-400 hover:bg-amber-500/20",onClick:m,children:o?i.jsx(fP,{className:"w-4 h-4"}):i.jsx(Nv,{className:"w-4 h-4"})})]}),i.jsxs("p",{className:"text-xs opacity-80",children:["Then update ",i.jsx("code",{className:"bg-black/10 dark:bg-white/10 px-1 rounded",children:"supabase/functions/.env"})," with the webhook secret and restart Supabase."]})]})]})}),t&&i.jsx("div",{className:"flex justify-center items-center py-20",children:i.jsx(Oe,{className:"w-8 h-8 animate-spin text-primary"})}),!t&&w.length>0&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:w.map((g,b)=>i.jsx(Z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.4,delay:b*.08},className:"relative flex flex-col",children:i.jsxs("div",{className:`flex-1 flex flex-col rounded-2xl p-5 transition-all cursor-pointer ${g.is_popular?"bg-primary text-primary-foreground ring-2 ring-primary shadow-lg":"bg-card border border-border hover:border-primary/50"} ${n===g.plan_id?"ring-2 ring-accent":""}`,onClick:()=>!s&&x(g.plan_id),children:[g.is_popular&&i.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:i.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-accent text-accent-foreground text-xs font-semibold",children:"Most Popular"})}),i.jsxs("div",{className:"mb-4 mt-2",children:[i.jsx("h3",{className:`font-display font-semibold text-lg mb-1 ${g.is_popular?"text-primary-foreground":"text-foreground"}`,children:g.name}),i.jsx("p",{className:`text-sm ${g.is_popular?"text-primary-foreground/80":"text-muted-foreground"}`,children:g.description})]}),i.jsxs("div",{className:"mb-5",children:[i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsxs("span",{className:`font-display text-3xl font-bold ${g.is_popular?"text-primary-foreground":"text-foreground"}`,children:["$",y(g.price_cents)]}),i.jsx("span",{className:`text-sm ${g.is_popular?"text-primary-foreground/70":"text-muted-foreground"}`,children:"/mo"})]}),i.jsx("p",{className:`text-xs mt-1 ${g.is_popular?"text-primary-foreground/70":"text-muted-foreground"}`,children:"billed monthly"})]}),i.jsxs("div",{className:`mb-4 p-3 rounded-lg ${g.is_popular?"bg-primary-foreground/10":"bg-muted"}`,children:[i.jsxs("div",{className:`text-lg font-semibold ${g.is_popular?"text-primary-foreground":"text-foreground"}`,children:[Math.round(g.credits/60)," minutes/mo"]}),i.jsxs("div",{className:`text-xs ${g.is_popular?"text-primary-foreground/70":"text-muted-foreground"}`,children:["~",Math.round(g.credits/180)," calls per month"]})]}),i.jsx("ul",{className:"space-y-2 mb-5 flex-1",children:g.features.slice(0,4).map((_,j)=>i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 ${g.is_popular?"bg-primary-foreground/20":"bg-success/10"}`,children:i.jsx(fn,{className:`w-2.5 h-2.5 ${g.is_popular?"text-primary-foreground":"text-success"}`})}),i.jsx("span",{className:`text-sm ${g.is_popular?"text-primary-foreground/90":"text-foreground"}`,children:_})]},j))}),i.jsx(G,{variant:g.is_popular?"secondary":"default",size:"sm",className:`w-full ${g.is_popular?"bg-primary-foreground text-primary hover:bg-primary-foreground/90":""}`,disabled:s,children:s&&n===g.plan_id?i.jsxs(i.Fragment,{children:[i.jsx(Oe,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):i.jsxs(i.Fragment,{children:["Select ",g.name,i.jsx(Yr,{className:"w-4 h-4 ml-1"})]})})]})},g.plan_id))}),i.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 text-center",children:i.jsxs("p",{className:"text-muted-foreground text-sm",children:["Need more? ",i.jsx("a",{href:Qm.salesEmail,className:"text-primary hover:underline",children:"Contact sales"})," for enterprise pricing with custom limits and dedicated support."]})})]})]})}const _4=zP("UpgradePrompt"),l_=["core","growth","pro","business"];function EBe(){const e=es(),[t]=V0(),{session:n}=ht(),{toast:r}=Gn(),{data:s,isLoading:a}=og(),[o,l]=v.useState(!1),[c,u]=v.useState(null),d=t.get("plan")||"core";_4.debug("Selected plan from URL:",d);const f=v.useMemo(()=>s==null?void 0:s.find(g=>g.plan_id===d),[s,d]),h=v.useMemo(()=>{if(!s)return[];if(d==="core")return s.filter(j=>j.plan_id==="growth"||j.plan_id==="pro").sort((j,S)=>(j.price_cents||0)-(S.price_cents||0));const g=l_.indexOf(d),b=g>=0&&g<l_.length-1?l_[g+1]:null,_=b?s.find(j=>j.plan_id===b):null;return _?[_]:[]},[d,s]);_4.debug("Plan state:",{selectedPlanId:d,upgradePlans:h.map(g=>g.plan_id)});const m=async g=>{if(!n){r({title:"Session expired",description:"Please log in again.",variant:"destructive"}),e("/auth");return}l(!0),u(g);try{const{data:b,error:_}=await ie.functions.invoke("create-checkout-with-trial",{headers:{Authorization:`Bearer ${n.access_token}`},body:{planId:g}});if(_||!(b!=null&&b.url))throw new Error((_==null?void 0:_.message)||"Failed to create checkout session");window.location.href=b.url}catch(b){console.error("Checkout error:",b),r({title:"Checkout failed",description:b.message||"Please try again.",variant:"destructive"}),l(!1),u(null)}},y=g=>{if(!f||!g)return[];const b=new Set(f.features);return(g.features||[]).filter(_=>!b.has(_))};if(a||!f||h.length===0)return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:i.jsx(Oe,{className:"w-8 h-8 animate-spin text-primary"})});const p=g=>Math.floor(g/100),w=1+h.length===2?"md:grid-cols-2":"md:grid-cols-3";return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"border-b bg-card/50",children:i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary flex items-center justify-center",children:i.jsx(Ga,{className:"w-5 h-5 text-primary-foreground"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"font-display font-semibold text-lg",children:qc.nameCamelCase}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Step 2 of 5  Upgrade your plan"})]})]})})}),i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-5xl",children:[i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center mx-auto mb-4",children:i.jsx(Mm,{className:"w-8 h-8 text-white"})}),i.jsx("h2",{className:"font-display text-2xl sm:text-3xl font-bold mb-3",children:"Get More from Your AI Agent"}),i.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto",children:"Unlock advanced features and handle more calls with an upgraded plan. Upgrade now or continue with your selected plan."})]}),i.jsxs("div",{className:`grid ${w} gap-6 mb-8`,children:[i.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-card border rounded-xl p-6",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"font-display text-xl font-bold mb-1",children:f.name}),i.jsxs("div",{className:"flex items-baseline gap-2",children:[i.jsxs("span",{className:"text-3xl font-bold",children:["$",p(f.price_cents)]}),i.jsx("span",{className:"text-muted-foreground text-sm",children:"/month"})]})]}),i.jsxs("ul",{className:"space-y-3",children:[i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(fn,{className:"w-5 h-5 text-success flex-shrink-0 mt-0.5"}),i.jsxs("span",{className:"text-sm",children:[Math.round(f.credits/60)," minutes/month (~",Math.floor(f.credits/180)," calls)"]})]}),f.features&&f.features.map((g,b)=>i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(fn,{className:"w-5 h-5 text-success flex-shrink-0 mt-0.5"}),i.jsx("span",{className:"text-sm",children:g})]},b))]}),i.jsx(G,{variant:"outline",size:"lg",className:"w-full mt-6",onClick:()=>m(d),disabled:o,children:o&&c===d?i.jsxs(i.Fragment,{children:[i.jsx(Oe,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):i.jsxs(i.Fragment,{children:["Continue with ",f.name,i.jsx(Yr,{className:"w-4 h-4 ml-2"})]})})]}),h.map((g,b)=>{const _=y(g),j=b===0;return i.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2+b*.1},className:`${j?"bg-gradient-to-br from-primary/10 to-accent/10 border-2 border-primary":"bg-card border"} rounded-xl p-6 relative`,children:[j&&i.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:i.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-primary text-primary-foreground text-xs font-semibold",children:"Recommended"})}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"font-display text-xl font-bold mb-1",children:g.name}),i.jsxs("div",{className:"flex items-baseline gap-2",children:[i.jsxs("span",{className:"text-3xl font-bold",children:["$",p(g.price_cents)]}),i.jsx("span",{className:"text-muted-foreground text-sm",children:"/month"})]}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["$",p(g.price_cents-f.price_cents)," more than ",f.name]})]}),i.jsxs("ul",{className:"space-y-3",children:[i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(fn,{className:`w-5 h-5 ${j?"text-primary":"text-success"} flex-shrink-0 mt-0.5`}),i.jsxs("span",{className:"text-sm font-medium",children:[Math.round(g.credits/60)," minutes/month (~",Math.floor(g.credits/180)," calls)"]})]}),i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(Ga,{className:`w-5 h-5 ${j?"text-primary":"text-success"} flex-shrink-0 mt-0.5`}),i.jsxs("span",{className:"text-sm font-medium",children:["+",Math.round((g.credits-f.credits)/60)," more minutes"]})]}),_.map((S,N)=>i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(Ga,{className:`w-5 h-5 ${j?"text-primary":"text-success"} flex-shrink-0 mt-0.5`}),i.jsx("span",{className:"text-sm font-medium",children:S})]},N))]}),i.jsx(G,{size:"lg",className:`w-full mt-6 ${j?"bg-primary hover:bg-primary/90":""}`,variant:j?"default":"outline",onClick:()=>m(g.plan_id),disabled:o,children:o&&c===g.plan_id?i.jsxs(i.Fragment,{children:[i.jsx(Oe,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Mm,{className:"w-4 h-4 mr-2"}),"Upgrade to ",g.name]})})]},g.plan_id)})]}),i.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-info/10 border border-info/20 rounded-lg p-4 text-center",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"You can upgrade or downgrade your plan anytime from your dashboard settings. No commitments required."})})]})]})}function ABe(){const[e,t]=v.useState(""),[n,r]=v.useState(!1),[s,a]=v.useState(null),o=es(),{toast:l}=Gn(),{session:c,user:u,isLoading:d}=ht(),{data:f}=jt({queryKey:["existing-phone",u==null?void 0:u.account_id],queryFn:async()=>{if(!(u!=null&&u.account_id))return null;const{data:y}=await ie.from("phone_numbers").select("phone_number").eq("account_id",u.account_id).eq("is_active",!0).maybeSingle();return y},enabled:!!(u!=null&&u.account_id)}),h=y=>{const p=U7(y);t(p),a(null)},m=async()=>{if(d){l({title:"Loading",description:"Please wait while we verify your session..."});return}if(!(c!=null&&c.access_token)){l({title:"Authentication required",description:"Please log in to continue.",variant:"destructive"}),o("/auth");return}if(!(u!=null&&u.account_id)){l({title:"Setup incomplete",description:"Account not found. Please try logging in again.",variant:"destructive"}),o("/auth");return}if(!Hl(e)){l({title:"Invalid phone number",description:"Please enter a valid 10-digit US phone number.",variant:"destructive"});return}const y=nC(e);if(!y){l({title:"Invalid area code",description:"Could not extract area code from phone number.",variant:"destructive"});return}r(!0);try{console.log("[PhoneSetup] Calling purchase-phone-number with:",{businessPhoneNumber:e,areaCode:y});const{data:p,error:x}=await ie.functions.invoke("purchase-phone-number",{headers:{Authorization:`Bearer ${c.access_token}`},body:{businessPhoneNumber:e,areaCode:y}});if(console.log("[PhoneSetup] Response:",{data:p,error:x}),x)throw console.error("[PhoneSetup] Edge function error:",x),new Error(x.message||"Failed to call phone setup function");if(!(p!=null&&p.success))throw console.error("[PhoneSetup] Setup failed:",p),new Error((p==null?void 0:p.error)||"Failed to set up phone number");console.log("[PhoneSetup] Phone number set up successfully:",p.phoneNumber),a(p.phoneNumber),l({title:"Phone number activated!",description:`Your new number ${Ti(p.phoneNumber)} is ready.`}),setTimeout(()=>{o("/onboarding/setup")},1500)}catch(p){console.error("Purchase error:",p),l({title:"Setup failed",description:p.message||"Please try again.",variant:"destructive"})}finally{r(!1)}};return f?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center max-w-md mx-auto px-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-4",children:i.jsx(ba,{className:"w-8 h-8 text-success"})}),i.jsx("h2",{className:"font-display text-2xl font-bold mb-2",children:"Phone Already Set Up"}),i.jsxs("p",{className:"text-muted-foreground mb-4",children:["Your number ",Ti(f.phone_number)," is ready."]}),i.jsxs(G,{onClick:()=>o("/onboarding/setup"),children:["Continue",i.jsx(Yr,{className:"w-4 h-4 ml-2"})]})]})}):i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"border-b bg-card/50",children:i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary flex items-center justify-center",children:i.jsx(Ga,{className:"w-5 h-5 text-primary-foreground"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"font-display font-semibold text-lg",children:qc.nameCamelCase}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Step 3 of 6  Enter your business phone"})]})]})})}),i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:[i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:i.jsx(ft,{className:"w-8 h-8 text-primary"})}),i.jsx("h2",{className:"font-display text-2xl sm:text-3xl font-bold mb-3",children:"Enter Your Business Phone Number"}),i.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto",children:"We'll set you up with a dedicated business line in the same area code  so you never miss a lead again."})]}),i.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-card border rounded-xl p-6 mb-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(pe,{htmlFor:"business-phone",className:"text-base font-medium",children:"Your Current Business Phone Number"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1 mb-3",children:"Enter your existing business phone number (US only)"}),i.jsx(Ae,{id:"business-phone",type:"tel",placeholder:"+1 (555) 123-4567",value:e,onChange:y=>h(y.target.value),onKeyDown:y=>{y.key==="Enter"&&Hl(e)&&!n&&!s&&!d&&(y.preventDefault(),m())},className:"text-lg h-12",disabled:n})]}),e&&Hl(e)&&i.jsx(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-success/10 border border-success/20 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(ba,{className:"w-5 h-5 text-success flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-success text-sm",children:"Valid phone number"}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["We'll find a number with area code ",nC(e)]})]})]})}),e&&!Hl(e)&&e.replace(/\D/g,"").length>=10&&i.jsx(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-destructive/10 border border-destructive/20 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Od,{className:"w-5 h-5 text-destructive flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-destructive text-sm",children:"Invalid phone number"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Please enter a valid 10-digit US phone number"})]})]})})]})}),i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-info/10 border border-info/20 rounded-lg p-4 mb-6",children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"How it works"}),i.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-info mt-0.5",children:""}),i.jsx("span",{children:"We'll get you a new phone number in your area code"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-info mt-0.5",children:""}),i.jsx("span",{children:"Your AI agent will answer calls to this new number 24/7"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-info mt-0.5",children:""}),i.jsx("span",{children:"Keep your existing number - just forward calls when you're unavailable"})]})]})]}),s&&i.jsxs(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-success/10 border-2 border-success rounded-xl p-6 mb-6 text-center",children:[i.jsx(ba,{className:"w-12 h-12 text-success mx-auto mb-3"}),i.jsx("h3",{className:"font-display text-xl font-bold mb-2",children:"Number Activated!"}),i.jsx("p",{className:"text-muted-foreground mb-1",children:"Your new lead capture number:"}),i.jsx("p",{className:"text-2xl font-bold text-success",children:Ti(s)})]}),i.jsx(G,{size:"lg",className:"w-full",onClick:m,disabled:!Hl(e)||n||!!s||d,children:n?i.jsxs(i.Fragment,{children:[i.jsx(Oe,{className:"w-5 h-5 mr-2 animate-spin"}),"Setting up your number..."]}):s?i.jsxs(i.Fragment,{children:[i.jsx(ba,{className:"w-5 h-5 mr-2"}),"Redirecting..."]}):i.jsxs(i.Fragment,{children:["Continue",i.jsx(Yr,{className:"w-5 h-5 ml-2"})]})})]})]})}const ns=zP("SetupServices"),Ey=3,j4=20;function TBe(){const[e,t]=v.useState(""),[n,r]=v.useState([{id:"1",name:"",price:"",duration:""}]),[s,a]=v.useState(""),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[d,f]=v.useState(!1),[h,m]=v.useState(null),[y,p]=v.useState(!1),[x,w]=v.useState(null),g=v.useRef(!1),b=v.useRef(null),_=es(),{toast:j}=Gn(),{session:S,user:N}=ht();St();const{currentPlanId:C,currentTier:P,features:k,isLoading:A}=q6();ns.debug("Current plan from database:",C,"Tier:",P==null?void 0:P.name);const{data:E,isLoading:I,refetch:D}=jt({queryKey:["existing-phone",N==null?void 0:N.account_id],queryFn:async()=>{if(!(N!=null&&N.account_id))return null;const{data:q}=await ie.from("phone_numbers").select("phone_number").eq("account_id",N.account_id).eq("is_active",!0).maybeSingle();return q},enabled:!!(N!=null&&N.account_id)}),{data:V,isLoading:B}=jt({queryKey:["org-business-phone",N==null?void 0:N.account_id],queryFn:async()=>{if(!(N!=null&&N.account_id))return null;const{data:q}=await ie.from("accounts").select("business_phone_number").eq("id",N.account_id).single();return q},enabled:!!(N!=null&&N.account_id)}),F=k.hasCustomAgent,R=k.hasCustomAgent,T=k.hasCustomAiTraining,{data:O=[],isLoading:W,refetch:$}=jt({queryKey:["knowledge-base-documents-onboarding",N==null?void 0:N.account_id],queryFn:async()=>{if(!(N!=null&&N.account_id))return[];const{data:q}=await ie.from("knowledge_base_documents").select("*").eq("account_id",N.account_id).order("created_at",{ascending:!1});return q||[]},enabled:!!(N!=null&&N.account_id)&&T});v.useEffect(()=>{!A&&!k.hasCustomAgent&&(N!=null&&N.account_id)&&S&&(ns.debug("Plan without custom agent detected, auto-creating default agent"),U())},[A,k.hasCustomAgent,N==null?void 0:N.account_id,S]),v.useEffect(()=>{k.hasCustomAgent&&Y()},[N==null?void 0:N.account_id,k.hasCustomAgent]),v.useEffect(()=>{(async()=>{if(E||I||B||y||g.current||!(V!=null&&V.business_phone_number)||!S)return;g.current=!0;const se=V.business_phone_number,ve=nC(se);if(!ve){w("Could not extract area code from your business phone number.");return}p(!0),w(null);try{ns.debug("Auto-purchasing phone number with area code:",ve);const{data:ke,error:ze}=await ie.functions.invoke("purchase-phone-number",{headers:{Authorization:`Bearer ${S.access_token}`},body:{businessPhoneNumber:se,areaCode:ve}});if(ze||!(ke!=null&&ke.success))throw new Error((ke==null?void 0:ke.error)||(ze==null?void 0:ze.message)||"Failed to purchase phone number");ns.debug("Phone number purchased successfully:",ke.phoneNumber),j({title:"Phone number activated!",description:`Your new number ${Ti(ke.phoneNumber)} is ready.`}),D()}catch(ke){ns.error("Phone purchase error:",ke),w(ke.message||"Failed to set up phone number. Please try again.")}finally{p(!1)}})()},[E,I,B,V,S]);const Y=async()=>{if(N!=null&&N.account_id)try{const{data:q}=await ie.from("services").select("*").eq("account_id",N.account_id);q&&q.length>0&&r(q.map(ve=>({id:ve.id,name:ve.name,price:ve.price_cents?String(ve.price_cents/100):"",duration:ve.duration_minutes?String(ve.duration_minutes):""})));const{data:se}=await ie.from("account_agents").select("context").eq("account_id",N.account_id).maybeSingle();if(se!=null&&se.context)try{const ve=JSON.parse(se.context);t(ve.greeting||""),a(ve.customInstructions||"")}catch{}}catch(q){ns.error("Error loading data:",q)}},U=async()=>{if(!(!S||!(N!=null&&N.account_id))){u(!0);try{const{data:q,error:se}=await ie.functions.invoke("elevenlabs-agent",{headers:{Authorization:`Bearer ${S.access_token}`},body:{action:"create-agent",accountId:N.account_id}});if(se)throw ns.error("Error creating agent:",se),se;ns.debug("Default agent created for Core plan"),j({title:"Agent ready!",description:"Your AI agent is set up and ready to capture leads."}),setTimeout(()=>{_("/onboarding/test-call")},1e3)}catch(q){ns.error("Auto-setup error:",q),j({title:"Setup issue",description:"We'll continue with default settings. You can customize later."}),setTimeout(()=>{_("/onboarding/test-call")},1500)}finally{u(!1)}}},ne=()=>{r([...n,{id:Date.now().toString(),name:"",price:"",duration:""}])},be=q=>{if(n.length===1){r([{id:"1",name:"",price:"",duration:""}]);return}r(n.filter(se=>se.id!==q))},re=(q,se,ve)=>{r(n.map(ke=>ke.id===q?{...ke,[se]:ve}:ke))},Me=async q=>{var ve;const se=(ve=q.target.files)==null?void 0:ve[0];if(se){if(b.current&&(b.current.value=""),!se.name.toLowerCase().endsWith(".pdf")){j({title:"Invalid file type",description:"Only PDF files are allowed.",variant:"destructive"});return}if(se.size>j4*1024*1024){j({title:"File too large",description:`Maximum file size is ${j4}MB.`,variant:"destructive"});return}if(O.length>=Ey){j({title:"Document limit reached",description:`You can upload up to ${Ey} documents.`,variant:"destructive"});return}f(!0);try{const ke=new FormData;ke.append("file",se);const ze=await fetch("http://127.0.0.1:54321/functions/v1/agent-upload-knowledge",{method:"POST",headers:{Authorization:`Bearer ${S==null?void 0:S.access_token}`},body:ke});if(!ze.ok){const $e=await ze.json().catch(()=>({}));throw new Error($e.error||"Upload failed")}j({title:"Document uploaded",description:`${se.name} has been added to your knowledge base.`}),$()}catch(ke){j({title:"Upload failed",description:ke.message||"Failed to upload document.",variant:"destructive"})}finally{f(!1)}}},te=async q=>{m(q);try{const{error:se}=await ie.functions.invoke("agent-delete-knowledge",{body:{documentId:q},headers:{Authorization:`Bearer ${S==null?void 0:S.access_token}`}});if(se)throw se;j({title:"Document deleted",description:"The document has been removed."}),$()}catch(se){j({title:"Delete failed",description:se.message||"Failed to delete document.",variant:"destructive"})}finally{m(null)}},J=q=>q?q<1024?`${q} B`:q<1024*1024?`${(q/1024).toFixed(1)} KB`:`${(q/(1024*1024)).toFixed(1)} MB`:"",ae=async()=>{if(!S||!(N!=null&&N.account_id)){j({title:"Error",description:"Session expired. Please log in again.",variant:"destructive"}),_("/auth");return}l(!0);try{if(R){const ze=n.filter($e=>$e.name.trim()!=="");if(ze.length>0){await ie.from("services").delete().eq("account_id",N.account_id);const $e=ze.map(H=>({account_id:N.account_id,name:H.name.trim(),price_cents:H.price?Math.round(parseFloat(H.price)*100):0,duration_minutes:H.duration?parseInt(H.duration):60,is_active:!0})),{error:L}=await ie.from("services").insert($e);L&&ns.error("Error saving services:",L)}}const q={};if(F&&e.trim()&&(q.greeting=e.trim()),R){const ze=n.filter($e=>$e.name.trim()!=="");ze.length>0&&(q.services=ze.map($e=>({name:$e.name,price:$e.price?`$${$e.price}`:"Quote on request",duration:$e.duration?`${$e.duration} minutes`:"Varies"})))}T&&s.trim()&&(q.customInstructions=s.trim());const{data:se}=await ie.from("account_agents").select("id, elevenlabs_agent_id").eq("account_id",N.account_id).maybeSingle();se&&await ie.from("account_agents").update({context:JSON.stringify(q),updated_at:new Date().toISOString()}).eq("account_id",N.account_id);const ve=se!=null&&se.elevenlabs_agent_id?"update-agent":"create-agent";ns.debug(`${ve} for plan:`,C);const{error:ke}=await ie.functions.invoke("elevenlabs-agent",{headers:{Authorization:`Bearer ${S.access_token}`},body:{action:ve,accountId:N.account_id,context:JSON.stringify(q),greeting:q.greeting}});ke&&ns.error("Agent creation/update error:",ke),j({title:"Settings saved!",description:"Your AI agent has been configured."}),_("/onboarding/test-call")}catch(q){ns.error("Save error:",q),j({title:"Save failed",description:q.message||"Please try again.",variant:"destructive"})}finally{l(!1)}};return A||I||B?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsx(Oe,{className:"w-8 h-8 animate-spin text-primary"})}):y?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center max-w-md mx-auto px-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:i.jsx(ft,{className:"w-8 h-8 text-primary"})}),i.jsx("h2",{className:"font-display text-2xl font-bold mb-2",children:"Setting Up Your Phone Number"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"We're activating your dedicated business line. This only takes a moment."}),i.jsx(Oe,{className:"w-6 h-6 animate-spin text-primary mx-auto"})]})}):x?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center max-w-md mx-auto px-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center mx-auto mb-4",children:i.jsx(Od,{className:"w-8 h-8 text-destructive"})}),i.jsx("h2",{className:"font-display text-2xl font-bold mb-2",children:"Phone Setup Issue"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:x}),i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx(G,{onClick:()=>{g.current=!1,w(null)},children:"Try Again"}),i.jsx(G,{variant:"outline",onClick:()=>w(null),children:"Continue Without Phone"})]})]})}):k.hasCustomAgent?i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"border-b bg-card/50",children:i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary flex items-center justify-center",children:i.jsx(Ga,{className:"w-5 h-5 text-primary-foreground"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"font-display font-semibold text-lg",children:qc.nameCamelCase}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Step ","3"," of ","5","  Configure your AI agent"]})]})]})})}),i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-3xl",children:[i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:i.jsx(PX,{className:"w-8 h-8 text-primary"})}),i.jsx("h2",{className:"font-display text-2xl sm:text-3xl font-bold mb-3",children:"Customize Your AI Agent"}),i.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto",children:T?"Personalize how your AI agent greets callers, describe your services, and add custom instructions.":"Set up your greeting and add the services you offer."})]}),F&&i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-card border rounded-xl p-6 mb-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx(pe,{htmlFor:"greeting",className:"text-base font-semibold",children:"Custom Greeting"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"How should your AI agent greet callers? Leave blank for a default greeting."})]}),i.jsx(bs,{id:"greeting",placeholder:"e.g., Hi! Thanks for calling Smile Dental Care. This is Sarah, how can I help you today?",value:e,onChange:q=>t(q.target.value),className:"min-h-[80px]"})]}),R&&i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-card border rounded-xl p-6 mb-6",children:[i.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Your Services"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Add the services you offer so your AI can accurately assist customers."}),i.jsx("div",{className:"space-y-4",children:n.map((q,se)=>i.jsxs(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border rounded-lg p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:["Service ",se+1]}),i.jsx(G,{variant:"ghost",size:"sm",onClick:()=>be(q.id),className:"text-destructive hover:text-destructive",children:i.jsx(Rr,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[i.jsxs("div",{className:"md:col-span-1",children:[i.jsx(pe,{htmlFor:`service-name-${q.id}`,children:"Service Name"}),i.jsx(Ae,{id:`service-name-${q.id}`,placeholder:"e.g., Dental Checkup",value:q.name,onChange:ve=>re(q.id,"name",ve.target.value)})]}),i.jsxs("div",{children:[i.jsx(pe,{htmlFor:`service-price-${q.id}`,children:"Price (optional)"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),i.jsx(Ae,{id:`service-price-${q.id}`,type:"number",placeholder:"99",value:q.price,onChange:ve=>re(q.id,"price",ve.target.value),className:"pl-6"})]})]}),i.jsxs("div",{children:[i.jsx(pe,{htmlFor:`service-duration-${q.id}`,children:"Duration (min)"}),i.jsx(Ae,{id:`service-duration-${q.id}`,type:"number",placeholder:"60",value:q.duration,onChange:ve=>re(q.id,"duration",ve.target.value)})]})]})]},q.id))}),i.jsxs(G,{variant:"outline",size:"sm",onClick:ne,className:"mt-4 w-full",children:[i.jsx(qn,{className:"w-4 h-4 mr-2"}),"Add Another Service"]})]}),T&&i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card border rounded-xl p-6 mb-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx(pe,{htmlFor:"context",className:"text-base font-semibold",children:"Custom Instructions"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Tell your AI agent about your business, special policies, or how to handle specific situations."})]}),i.jsx(bs,{id:"context",placeholder:"e.g., We're a family-owned dental practice serving the greater Portland area. We offer same-day emergency appointments. Always mention our new patient special and flexible financing options.",value:s,onChange:q=>a(q.target.value),className:"min-h-[120px]"})]}),T&&i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"bg-card border rounded-xl p-6 mb-6",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx(pe,{className:"text-base font-semibold",children:"Knowledge Base (Optional)"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Upload PDFs to give your agent detailed reference material like catalogs, policies, or documentation."})]}),W?i.jsx("div",{className:"flex justify-center py-4",children:i.jsx(Oe,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):O.length>0?i.jsx("div",{className:"space-y-2 mb-4",children:O.map(q=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/50",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[i.jsx(Yl,{className:"h-5 w-5 text-muted-foreground flex-shrink-0"}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"font-medium truncate text-sm",children:q.name}),q.file_size_bytes&&i.jsx("p",{className:"text-xs text-muted-foreground",children:J(q.file_size_bytes)})]})]}),i.jsx(G,{variant:"ghost",size:"sm",onClick:()=>te(q.id),disabled:h===q.id,className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:h===q.id?i.jsx(Oe,{className:"h-4 w-4 animate-spin"}):i.jsx(Rr,{className:"h-4 w-4"})})]},q.id))}):null,i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-sm text-muted-foreground",children:[O.length,"/",Ey," documents"]}),O.length<Ey&&i.jsxs("div",{children:[i.jsx("input",{ref:b,type:"file",accept:".pdf",onChange:Me,className:"hidden",id:"kb-file-upload-onboarding"}),i.jsxs(G,{variant:"outline",size:"sm",onClick:()=>{var q;return(q=b.current)==null?void 0:q.click()},disabled:d,children:[d?i.jsx(Oe,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(mP,{className:"h-4 w-4 mr-2"}),"Upload PDF"]})]})]})]}),i.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"bg-info/10 border border-info/20 rounded-lg p-4 mb-6",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",i.jsx("strong",{children:"Tip:"}),' You can update these settings anytime from the "My Agent" page in your dashboard.']})}),i.jsx(G,{size:"lg",className:"w-full",onClick:ae,disabled:o,children:o?i.jsxs(i.Fragment,{children:[i.jsx(Oe,{className:"w-5 h-5 mr-2 animate-spin"}),"Saving..."]}):i.jsxs(i.Fragment,{children:["Continue",i.jsx(Yr,{className:"w-5 h-5 ml-2"})]})})]})]}):i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center max-w-md mx-auto px-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:i.jsx(Mm,{className:"w-8 h-8 text-primary"})}),i.jsx("h2",{className:"font-display text-2xl font-bold mb-2",children:"Setting Up Your Agent"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"We're configuring your AI agent with smart defaults so you never miss a lead. This only takes a moment."}),c&&i.jsx(Oe,{className:"w-6 h-6 animate-spin text-primary mx-auto"}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-4",children:["Want more customization? ",i.jsx("a",{href:"/dashboard/subscriptions",className:"text-primary hover:underline",children:"Upgrade your plan"})]})]})})}const di=zP("TestCall");function OBe(){const[e,t]=v.useState(null),[n,r]=v.useState(!1),[s,a]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(null),[d,f]=v.useState([]),[h,m]=v.useState(!1),y=v.useRef(null);es();const{toast:p}=Gn(),{user:x}=ht(),w=St();v.useEffect(()=>{g()},[x==null?void 0:x.account_id]),v.useEffect(()=>{var C;(C=y.current)==null||C.scrollIntoView({behavior:"smooth"})},[d]),v.useEffect(()=>{if(!n||!(x!=null&&x.account_id))return;di.debug("Setting up call listener for account:",x.account_id);const C=new Date().toISOString(),P=ie.channel("test-call-listener").on("postgres_changes",{event:"INSERT",schema:"public",table:"calls",filter:`account_id=eq.${x.account_id}`},A=>{di.debug("New call detected via realtime!",A),b(A.new)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"calls",filter:`account_id=eq.${x.account_id}`},A=>{di.debug("Call updated:",A);const E=A.new;E.id===o&&(u(E.status),E.status==="completed"&&_())}).subscribe(),k=setInterval(async()=>{if(!s)try{const{data:A}=await ie.from("calls").select("*").eq("account_id",x.account_id).gte("created_at",C).order("created_at",{ascending:!1}).limit(1);A&&A.length>0&&(di.debug("New call detected via polling!",A[0]),b(A[0]))}catch(A){di.error("Polling error:",A)}},3e3);return()=>{ie.removeChannel(P),clearInterval(k)}},[n,x==null?void 0:x.account_id,o,s]),v.useEffect(()=>{if(!o)return;di.debug("Setting up transcript listener for call:",o);const C=ie.channel("test-call-transcripts").on("postgres_changes",{event:"INSERT",schema:"public",table:"call_transcripts",filter:`call_id=eq.${o}`},P=>{di.debug("New transcript:",P);const k=P.new;f(A=>[...A,k])}).subscribe();return()=>{ie.removeChannel(C)}},[o]);const g=async()=>{if(x!=null&&x.account_id)try{const{data:C}=await ie.from("phone_numbers").select("phone_number").eq("account_id",x.account_id).eq("is_active",!0).maybeSingle();C&&t(C.phone_number)}catch(C){di.error("Error loading phone number:",C)}},b=async C=>{a(!0),l(C.id),u(C.status),p({title:"Call connected!",description:"Your AI agent is now talking to you."})},_=async()=>{r(!1),p({title:"Call completed!",description:"Great! Your AI agent is working perfectly."}),await new Promise(C=>setTimeout(C,2e3)),j()},j=async()=>{if(x!=null&&x.account_id){m(!0);try{const{error:C}=await ie.from("accounts").update({is_onboarding_complete:!0,onboarding_completed_at:new Date().toISOString()}).eq("id",x.account_id);if(C)throw C;p({title:"Setup complete!",description:"Welcome to AnswerAfter. Let's go to your dashboard."}),await w.invalidateQueries({queryKey:["onboarding-status"]}),setTimeout(()=>{window.location.href="/dashboard?welcome=true"},1500)}catch(C){di.error("Error completing onboarding:",C),p({title:"Error",description:"Failed to complete setup. Please try again.",variant:"destructive"}),m(!1)}}},S=()=>{j()},N=()=>{j()};return e?i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"border-b bg-card/50",children:i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary flex items-center justify-center",children:i.jsx(Ga,{className:"w-5 h-5 text-primary-foreground"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"font-display font-semibold text-lg",children:qc.nameCamelCase}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Step 4 of 5  Test your AI agent"})]})]})})}),i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:[i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-4",children:i.jsx(ft,{className:"w-8 h-8 text-success"})}),i.jsx("h2",{className:"font-display text-2xl sm:text-3xl font-bold mb-3",children:"Test Your AI Agent"}),i.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto",children:"Give your new number a call to hear your AI agent in action!"})]}),i.jsxs(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-gradient-to-br from-primary/10 to-accent/10 border-2 border-primary rounded-xl p-8 mb-6 text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Your Lead Capture Number"}),i.jsx("a",{href:`tel:${e}`,className:"text-4xl font-bold text-primary hover:text-primary/80 transition-colors inline-block",children:Ti(e)}),i.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Tap to call from your mobile device"})]}),i.jsxs(Of,{mode:"wait",children:[!n&&!s&&i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.2},className:"space-y-6",children:[i.jsxs("div",{className:"bg-card border rounded-xl p-6",children:[i.jsx("h3",{className:"font-semibold mb-3",children:"What to expect:"}),i.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-primary mt-0.5",children:"1."}),i.jsx("span",{children:"Your AI agent will greet you professionally"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-primary mt-0.5",children:"2."}),i.jsx("span",{children:"Try asking about your services or booking an appointment"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-primary mt-0.5",children:"3."}),i.jsx("span",{children:"You'll see the conversation transcript in real-time"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-primary mt-0.5",children:"4."}),i.jsx("span",{children:"Hang up when you're done to complete setup"})]})]})]}),i.jsxs(G,{size:"lg",className:"w-full",onClick:()=>{p({title:"Great!",description:"Your AI agent is ready. Completing setup..."}),j()},children:[i.jsx(ba,{className:"w-5 h-5 mr-2"}),"I've Verified It Works"]}),i.jsx(G,{variant:"ghost",size:"sm",className:"w-full text-muted-foreground",onClick:S,children:"Skip for now"})]},"start"),n&&!s&&i.jsxs(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"space-y-4",children:[i.jsxs("div",{className:"bg-card border-2 border-primary rounded-xl p-8 text-center",children:[i.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-4",children:[i.jsx("div",{className:"absolute inset-0 bg-primary/20 rounded-full animate-ping"}),i.jsx("div",{className:"relative w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center",children:i.jsx(ft,{className:"w-12 h-12 text-primary animate-pulse"})})]}),i.jsx("h3",{className:"font-display text-xl font-bold mb-2",children:"Listening for your call..."}),i.jsxs("p",{className:"text-muted-foreground mb-2",children:["Go ahead and call"," ",i.jsx("span",{className:"font-semibold text-foreground",children:Ti(e)})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll automatically detect when your call connects"})]}),i.jsxs("div",{className:"bg-muted/50 border rounded-xl p-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-3 text-center",children:"Already made a test call and heard the AI agent?"}),i.jsxs(G,{variant:"default",className:"w-full",onClick:()=>{p({title:"Great!",description:"Your AI agent is ready. Completing setup..."}),j()},children:[i.jsx(ba,{className:"w-4 h-4 mr-2"}),"Yes, I've Tested My Agent"]})]}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx(G,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),i.jsx(G,{variant:"ghost",size:"sm",className:"text-muted-foreground",onClick:S,children:"Skip test call"})]})]},"listening"),s&&i.jsxs(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"space-y-4",children:[i.jsxs("div",{className:"bg-success/10 border-2 border-success rounded-xl p-6 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx("div",{className:"w-3 h-3 bg-success rounded-full animate-pulse"}),i.jsx("span",{className:"font-semibold text-success",children:c==="completed"?"Call Completed":"Call In Progress"})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:c==="completed"?"Your AI agent handled the call successfully!":"Your AI agent is talking to you now"})]}),i.jsxs("div",{className:"bg-card border rounded-xl overflow-hidden",children:[i.jsxs("div",{className:"px-4 py-3 border-b bg-muted/50 flex items-center gap-2",children:[i.jsx(Ds,{className:"w-4 h-4 text-muted-foreground"}),i.jsx("span",{className:"font-medium text-sm",children:"Live Transcript"}),d.length===0&&c!=="completed"&&i.jsx(Oe,{className:"w-3 h-3 animate-spin ml-auto text-muted-foreground"})]}),i.jsxs("div",{className:"p-4 max-h-[300px] overflow-y-auto space-y-3",children:[d.length===0?i.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:c==="completed"?"No transcript available for this call":"Waiting for conversation to start..."}):d.map(C=>i.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex gap-2 ${C.speaker==="agent"?"justify-start":"justify-end"}`,children:[C.speaker==="agent"&&i.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:i.jsx(uP,{className:"w-3 h-3 text-primary"})}),i.jsx("div",{className:`max-w-[80%] rounded-lg px-3 py-2 text-sm ${C.speaker==="agent"?"bg-muted":"bg-primary text-primary-foreground"}`,children:C.content}),C.speaker!=="agent"&&i.jsx("div",{className:"w-6 h-6 rounded-full bg-primary flex items-center justify-center flex-shrink-0",children:i.jsx(pP,{className:"w-3 h-3 text-primary-foreground"})})]},C.id)),i.jsx("div",{ref:y})]})]}),c==="completed"?i.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-4",children:[i.jsxs("div",{className:"bg-success/10 border border-success/20 rounded-lg p-4 text-center",children:[i.jsx(ba,{className:"w-8 h-8 text-success mx-auto mb-2"}),i.jsx("p",{className:"font-medium",children:"Test Complete!"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Your AI agent is ready to take real calls."})]}),h?i.jsxs("div",{className:"flex items-center justify-center gap-2 py-4",children:[i.jsx(Oe,{className:"w-5 h-5 animate-spin text-primary"}),i.jsx("span",{className:"text-muted-foreground",children:"Completing setup..."})]}):i.jsxs(G,{size:"lg",className:"w-full",onClick:j,children:["Continue to Dashboard",i.jsx(Yr,{className:"w-5 h-5 ml-2"})]})]}):i.jsx(G,{variant:"outline",className:"w-full",onClick:N,children:"Finish & Continue"})]},"active-call")]}),!s&&i.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-info/10 border border-info/20 rounded-lg p-4 mt-6",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",i.jsx("strong",{children:"Pro tip:"})," After setup, you can view all your calls, transcripts, and appointments from your dashboard."]})})]})]}):i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsx(Oe,{className:"w-8 h-8 animate-spin text-primary"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading your phone number..."})]})})}function MBe(){return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-50",children:i.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(tt,{to:"/",className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-hero",children:i.jsx(ft,{className:"w-5 h-5 text-primary-foreground"})}),i.jsxs("span",{className:"font-display font-bold text-xl",children:["Answer",i.jsx("span",{className:"text-gradient",children:"After"})]})]}),i.jsx(G,{variant:"ghost",asChild:!0,children:i.jsxs(tt,{to:"/",className:"gap-2",children:[i.jsx(Td,{className:"w-4 h-4"}),"Back to Home"]})})]})})}),i.jsxs("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 max-w-4xl",children:[i.jsx("h1",{className:"font-display text-4xl font-bold mb-8",children:"Privacy Policy"}),i.jsx("p",{className:"text-muted-foreground mb-8",children:"Last updated: December 25, 2025"}),i.jsxs("div",{className:"prose prose-neutral dark:prose-invert max-w-none space-y-8",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"font-display text-2xl font-semibold mb-4",children:"1. Introduction"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'Answer After ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our AI-powered lead capture and call handling service.'})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"font-display text-2xl font-semibold mb-4",children:"2. Information We Collect"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We collect information in the following ways:"}),i.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Account Information:"})," Name, email address, phone number, and business details when you create an account."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Call Data:"})," Call recordings, transcripts, caller information, and appointment details processed through our service."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Usage Data:"})," Information about how you interact with our service, including log data and analytics."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Payment Information:"})," Billing details processed securely through our payment providers."]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"font-display text-2xl font-semibold mb-4",children:"3. How We Use Your Information"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We use the collected information to:"}),i.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[i.jsx("li",{children:"Provide and maintain our AI call handling service"}),i.jsx("li",{children:"Process and schedule appointments on your behalf"}),i.jsx("li",{children:"Send you service-related notifications and updates"}),i.jsx("li",{children:"Improve our AI models and service quality"}),i.jsx("li",{children:"Process payments and manage your subscription"}),i.jsx("li",{children:"Respond to your inquiries and support requests"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"font-display text-2xl font-semibold mb-4",children:"4. Data Sharing and Disclosure"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We do not sell your personal information. We may share your information with:"}),i.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Service Providers:"})," Third-party vendors who assist in operating our service (e.g., cloud hosting, payment processing)."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Legal Requirements:"})," When required by law or to protect our rights and safety."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Business Transfers:"})," In connection with a merger, acquisition, or sale of assets."]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"font-display text-2xl font-semibold mb-4",children:"5. Data Security"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We implement industry-standard security measures to protect your information, including encryption in transit and at rest, access controls, and regular security audits. However, no method of transmission over the Internet is 100% secure."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"font-display text-2xl font-semibold mb-4",children:"6. Data Retention"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We retain your information for as long as your account is active or as needed to provide services. Call recordings and transcripts are retained according to your subscription plan settings. You may request deletion of your data at any time."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"font-display text-2xl font-semibold mb-4",children:"7. Your Rights"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Depending on your location, you may have the right to:"}),i.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[i.jsx("li",{children:"Access and receive a copy of your personal data"}),i.jsx("li",{children:"Request correction of inaccurate data"}),i.jsx("li",{children:"Request deletion of your data"}),i.jsx("li",{children:"Object to or restrict processing of your data"}),i.jsx("li",{children:"Data portability"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"font-display text-2xl font-semibold mb-4",children:"8. HIPAA Compliance"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"For healthcare-related businesses, Answer After offers HIPAA-compliant plans with additional safeguards including Business Associate Agreements (BAA), enhanced encryption, and audit logging."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"font-display text-2xl font-semibold mb-4",children:"9. Children's Privacy"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Our service is not intended for individuals under 18 years of age. We do not knowingly collect personal information from children."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"font-display text-2xl font-semibold mb-4",children:"10. Changes to This Policy"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new policy on this page and updating the "Last updated" date.'})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"font-display text-2xl font-semibold mb-4",children:"11. Contact Us"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"If you have questions about this Privacy Policy, please contact us at:"}),i.jsxs("p",{className:"text-muted-foreground mt-2",children:["Email: ",am.general]})]})]})]}),i.jsx("footer",{className:"border-t border-border py-8 mt-12",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," ",qc.name,". All rights reserved."]})})]})}function RBe(){return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-50",children:i.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(tt,{to:"/",className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-hero",children:i.jsx(ft,{className:"w-5 h-5 text-primary-foreground"})}),i.jsxs("span",{className:"font-display font-bold text-xl",children:["Answer",i.jsx("span",{className:"text-gradient",children:"After"})]})]}),i.jsx(G,{variant:"ghost",asChild:!0,children:i.jsxs(tt,{to:"/",className:"gap-2",children:[i.jsx(Td,{className:"w-4 h-4"}),"Back to Home"]})})]})})}),i.jsxs("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 max-w-4xl",children:[i.jsx("h1",{className:"font-display text-4xl font-bold mb-8",children:"Terms of Service"}),i.jsx("p",{className:"text-muted-foreground mb-8",children:"Last updated: December 25, 2025"}),i.jsxs("div",{className:"prose prose-neutral dark:prose-invert max-w-none space-y-8",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"font-display text-2xl font-semibold mb-4",children:"1. Acceptance of Terms"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:`By accessing or using Answer After's AI-powered lead capture and call handling service ("Service"), you agree to be bound by these Terms of Service ("Terms"). If you do not agree to these Terms, you may not use the Service.`})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"font-display text-2xl font-semibold mb-4",children:"2. Description of Service"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Answer After provides an AI-powered lead capture and call handling service that ensures instant response to every inquiry, schedules appointments, and manages customer follow-ups 24/7. The Service includes voice AI technology, appointment scheduling, and integration with your business systems."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"font-display text-2xl font-semibold mb-4",children:"3. Account Registration"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"To use the Service, you must:"}),i.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[i.jsx("li",{children:"Create an account with accurate and complete information"}),i.jsx("li",{children:"Maintain the security of your account credentials"}),i.jsx("li",{children:"Be at least 18 years of age"}),i.jsx("li",{children:"Have the authority to bind your business to these Terms"})]}),i.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"You are responsible for all activities that occur under your account."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"font-display text-2xl font-semibold mb-4",children:"4. Subscription and Payment"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"The Service is provided on a subscription basis. By subscribing, you agree to:"}),i.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[i.jsx("li",{children:"Pay all fees associated with your chosen subscription plan"}),i.jsx("li",{children:"Provide valid payment information"}),i.jsx("li",{children:"Authorize recurring charges according to your billing cycle"}),i.jsx("li",{children:"Pay for any additional usage beyond your plan limits"})]}),i.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"Subscription fees are non-refundable except as required by law or as explicitly stated in these Terms."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"font-display text-2xl font-semibold mb-4",children:"5. Acceptable Use"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You agree not to use the Service to:"}),i.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[i.jsx("li",{children:"Violate any applicable laws or regulations"}),i.jsx("li",{children:"Transmit harmful, fraudulent, or deceptive content"}),i.jsx("li",{children:"Interfere with or disrupt the Service or servers"}),i.jsx("li",{children:"Attempt to gain unauthorized access to any systems"}),i.jsx("li",{children:"Use the Service for any illegal telemarketing or spam purposes"}),i.jsx("li",{children:"Impersonate any person or entity"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"font-display text-2xl font-semibold mb-4",children:"6. AI and Call Handling"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You acknowledge and agree that:"}),i.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[i.jsx("li",{children:"The Service uses artificial intelligence to handle calls, which may occasionally produce errors or misunderstandings"}),i.jsx("li",{children:"You are responsible for reviewing AI-scheduled appointments and call summaries"}),i.jsx("li",{children:"You will inform callers that they may be interacting with an AI system where required by law"}),i.jsx("li",{children:"Call recordings and transcripts are stored according to your subscription plan and our Privacy Policy"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"font-display text-2xl font-semibold mb-4",children:"7. Intellectual Property"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"The Service, including all software, AI models, designs, and content, is owned by Answer After and protected by intellectual property laws. You are granted a limited, non-exclusive license to use the Service for your business purposes. You may not copy, modify, distribute, or reverse engineer any part of the Service."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"font-display text-2xl font-semibold mb-4",children:"8. Limitation of Liability"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"TO THE MAXIMUM EXTENT PERMITTED BY LAW, ANSWER AFTER SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, INCLUDING LOSS OF PROFITS, DATA, OR BUSINESS OPPORTUNITIES. OUR TOTAL LIABILITY SHALL NOT EXCEED THE AMOUNT YOU PAID FOR THE SERVICE IN THE TWELVE MONTHS PRECEDING THE CLAIM."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"font-display text-2xl font-semibold mb-4",children:"9. Disclaimer of Warranties"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'THE SERVICE IS PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT WARRANTIES OF ANY KIND, EXPRESS OR IMPLIED. WE DO NOT GUARANTEE THAT THE SERVICE WILL BE UNINTERRUPTED, ERROR-FREE, OR COMPLETELY SECURE.'})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"font-display text-2xl font-semibold mb-4",children:"10. Termination"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Either party may terminate this agreement at any time. You may cancel your subscription through your account settings. We may suspend or terminate your access for violation of these Terms. Upon termination, your right to use the Service ceases, and we may delete your data according to our data retention policies."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"font-display text-2xl font-semibold mb-4",children:"11. Changes to Terms"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We may modify these Terms at any time. We will notify you of material changes via email or through the Service. Continued use of the Service after changes constitutes acceptance of the modified Terms."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"font-display text-2xl font-semibold mb-4",children:"12. Governing Law"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"These Terms are governed by the laws of the State of Delaware, United States, without regard to conflict of law principles. Any disputes shall be resolved in the courts of Delaware."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"font-display text-2xl font-semibold mb-4",children:"13. Contact Us"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"If you have questions about these Terms of Service, please contact us at:"}),i.jsxs("p",{className:"text-muted-foreground mt-2",children:["Email: ",am.general]})]})]})]}),i.jsx("footer",{className:"border-t border-border py-8 mt-12",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," ",qc.name,". All rights reserved."]})})]})}const IBe=bf("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),AA=v.forwardRef(({className:e,variant:t,...n},r)=>i.jsx("div",{ref:r,role:"alert",className:ee(IBe({variant:t}),e),...n}));AA.displayName="Alert";const $Be=v.forwardRef(({className:e,...t},n)=>i.jsx("h5",{ref:n,className:ee("mb-1 font-medium leading-none tracking-tight",e),...t}));$Be.displayName="AlertTitle";const TA=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:ee("text-sm [&_p]:leading-relaxed",e),...t}));TA.displayName="AlertDescription";const DBe=1e4,LBe=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(!0),[s,a]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(""),{toast:h}=Gn(),m=v.useRef(null),y=v.useMemo(()=>{if(!d.trim())return e;const _=d.toLowerCase();return e.filter(j=>{var C,P,k,A,E;const S=(C=j.users)==null?void 0:C[0],N=(P=j.phone_numbers)==null?void 0:P[0];return j.name.toLowerCase().includes(_)||j.slug.toLowerCase().includes(_)||j.id.toLowerCase().includes(_)||((k=S==null?void 0:S.email)==null?void 0:k.toLowerCase().includes(_))||((A=S==null?void 0:S.full_name)==null?void 0:A.toLowerCase().includes(_))||((E=N==null?void 0:N.phone_number)==null?void 0:E.includes(_))})},[e,d]),p=v.useCallback(async(_=!1)=>{try{_||r(!0),console.log("[AccountsManagement] Fetching accounts",{isRefresh:_});const{data:j,error:S}=await ie.functions.invoke("admin-list-accounts",{method:"GET"});if(S)throw new Error(S.message||"Failed to fetch accounts");t((j==null?void 0:j.data)||[])}catch(j){console.error("Error fetching accounts:",j),h({title:"Error",description:j instanceof Error?j.message:"Failed to fetch accounts",variant:"destructive"})}finally{r(!1)}},[h]),x=v.useCallback(()=>{m.current||(m.current=setInterval(()=>{p(!0)},DBe))},[p]),w=v.useCallback(()=>{m.current&&(clearInterval(m.current),m.current=null)},[]);v.useEffect(()=>{p();const _=()=>{document.visibilityState==="visible"?(p(!0),x()):w()};return document.visibilityState==="visible"&&x(),document.addEventListener("visibilitychange",_),()=>{w(),document.removeEventListener("visibilitychange",_)}},[p,x,w]);const g=_=>{l(_),a(!0)},b=async()=>{if(o)try{u(!0);const{error:_}=await ie.functions.invoke("admin-delete-account",{body:{accountId:o.id}});if(_)throw new Error(_.message||"Failed to delete account");h({title:"Success",description:`Account "${o.name}" has been deleted`}),await p(),a(!1),l(null)}catch(_){console.error("Error deleting account:",_),h({title:"Error",description:_ instanceof Error?_.message:"Failed to delete account",variant:"destructive"})}finally{u(!1)}};return n?i.jsx(me,{children:i.jsx(ge,{className:"flex items-center justify-center py-12",children:i.jsx(Oe,{className:"h-8 w-8 animate-spin text-indigo-600"})})}):i.jsxs(i.Fragment,{children:[i.jsxs(me,{children:[i.jsxs(Ye,{children:[i.jsx(Xe,{children:"Accounts"}),i.jsxs(vt,{children:["Manage all accounts in the system. Total: ",e.length,d&&` (showing ${y.length})`]})]}),i.jsxs(ge,{children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"relative",children:[i.jsx(Qp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(Ae,{placeholder:"Search by name, slug, email, phone...",value:d,onChange:_=>f(_.target.value),className:"pl-10"})]})}),y.length===0?i.jsxs("div",{className:"text-center py-12 text-slate-500",children:[i.jsx(Am,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:d?"No accounts match your search":"No accounts found"})]}):i.jsx("div",{className:"space-y-4",children:y.map(_=>{var P,k,A,E;const j=(P=_.subscriptions)==null?void 0:P[0],S=(k=_.account_agents)==null?void 0:k[0],N=(A=_.phone_numbers)==null?void 0:A[0],C=(E=_.users)==null?void 0:E[0];return i.jsx(me,{className:"border-slate-200",children:i.jsx(ge,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h3",{className:"font-semibold text-lg",children:_.name}),_.is_onboarding_complete?i.jsx(It,{variant:"default",className:"bg-green-500",children:"Active"}):i.jsx(It,{variant:"secondary",children:"Onboarding"})]}),i.jsxs("p",{className:"text-sm text-slate-500",children:["/",_.slug]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[C&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Am,{className:"h-4 w-4"}),i.jsx("span",{children:C.full_name||C.email})]}),N&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(ft,{className:"h-4 w-4"}),i.jsx("span",{children:N.phone_number})]}),j&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Cv,{className:"h-4 w-4"}),i.jsxs("span",{className:"capitalize",children:[j.plan," - ",j.status]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Di,{className:"h-4 w-4"}),i.jsx("span",{children:new Date(_.created_at).toLocaleDateString()})]})]}),(S==null?void 0:S.elevenlabs_agent_id)&&i.jsxs("p",{className:"text-xs text-slate-500",children:["ElevenLabs Agent: ",S.elevenlabs_agent_id]}),i.jsx("p",{className:"text-xs text-slate-400 font-mono",children:_.id})]}),i.jsxs(G,{variant:"destructive",size:"sm",onClick:()=>g(_),className:"flex-shrink-0",children:[i.jsx(Rr,{className:"h-4 w-4 mr-1"}),"Delete"]})]})})},_.id)})})]})]}),i.jsx(Cg,{open:s,onOpenChange:a,children:i.jsxs(Yf,{children:[i.jsxs(Xf,{children:[i.jsxs(Zf,{className:"flex items-center gap-2",children:[i.jsx(hP,{className:"h-5 w-5 text-red-500"}),"Delete Account"]}),i.jsxs(Jf,{className:"space-y-2",children:[i.jsxs("p",{children:["Are you sure you want to delete ",i.jsx("strong",{children:o==null?void 0:o.name}),"?"]}),i.jsx(AA,{variant:"destructive",className:"mt-3",children:i.jsxs(TA,{children:["This will permanently delete:",i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"All database records (calls, appointments, transcripts, etc.)"}),i.jsx("li",{children:"ElevenLabs AI agent"}),i.jsx("li",{children:"User profiles and roles"}),i.jsx("li",{children:"Services and settings"}),i.jsx("li",{children:"Phone number database records"})]}),i.jsx("p",{className:"mt-2 font-semibold text-amber-700",children:"Note: Twilio phone numbers remain in your Twilio account for manual reuse/reassignment."})]})}),i.jsx("p",{className:"text-sm text-slate-600 mt-3",children:"This action cannot be undone."})]})]}),i.jsxs(Qf,{children:[i.jsx(th,{disabled:c,children:"Cancel"}),i.jsx(eh,{onClick:b,disabled:c,className:"bg-red-600 hover:bg-red-700",children:c?i.jsxs(i.Fragment,{children:[i.jsx(Oe,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):"Delete Account"})]})]})})]})},FBe=X6,BBe=Nk,VBe=Pk,UBe={agent_base_prompt:{title:"Base System Prompt",purpose:"The main instructions that define how the AI agent behaves. This is the core personality and behavior of the AI agent."},agent_first_message:{title:"First Message / Greeting",purpose:"The default greeting when a call starts. Used if the organization hasn't set a custom greeting."},agent_context_prefix:{title:"Context Section Header",purpose:"The header text that introduces the business-specific context section in the prompt."}},zBe=()=>{const[e,t]=v.useState([]),[n,r]=v.useState([]),[s,a]=v.useState([]),[o,l]=v.useState(""),[c,u]=v.useState(!0),[d,f]=v.useState(null),[h,m]=v.useState({}),[y,p]=v.useState({}),[x,w]=v.useState({}),[g,b]=v.useState(!1),[_,j]=v.useState(!1),[S,N]=v.useState({name:"",template:"",description:""}),{toast:C}=Gn();v.useEffect(()=>{P(),k(),A()},[]);const P=async()=>{try{u(!0);const{data:O,error:W}=await ie.functions.invoke("admin-prompt-templates",{method:"GET"});if(W)throw new Error(W.message||"Failed to fetch templates");t((O==null?void 0:O.data)||[])}catch(O){console.error("Error fetching templates:",O),C({title:"Error",description:O instanceof Error?O.message:"Failed to fetch templates",variant:"destructive"})}finally{u(!1)}},k=async()=>{try{const{data:O,error:W}=await ie.functions.invoke("admin-prompt-templates?action=placeholders",{method:"GET"});if(W){console.error("Error fetching placeholders:",W);return}r((O==null?void 0:O.data)||[])}catch(O){console.error("Error fetching placeholders:",O)}},A=async()=>{try{const{data:O,error:W}=await ie.functions.invoke("admin-list-accounts",{method:"GET"});if(W){console.error("Error fetching accounts:",W);return}const $=(O==null?void 0:O.data)||[];a($),$.length>0&&!o&&l($[0].id)}catch(O){console.error("Error fetching accounts:",O)}},E=v.useCallback(async(O,W)=>{if(!(!o||!W)){w($=>({...$,[O]:!0}));try{const{data:$,error:Y}=await ie.functions.invoke("admin-prompt-templates",{body:{action:"preview",template:W,accountId:o}});if(Y){console.error("Preview error:",Y);return}p(U=>({...U,[O]:$}))}catch($){console.error("Error fetching preview:",$)}finally{w($=>({...$,[O]:!1}))}}},[o]);v.useEffect(()=>{o&&e.forEach(O=>{const W=h[O.id]??O.template;E(O.id,W)})},[o,e]);const I=(O,W)=>{m(Y=>({...Y,[O]:W}));const $=setTimeout(()=>{E(O,W)},500);return()=>clearTimeout($)},D=O=>h[O.id]!==void 0&&h[O.id]!==O.template,V=async O=>{const W=h[O.id];if(!(!W||W===O.template))try{f(O.id);const{data:$,error:Y}=await ie.functions.invoke("admin-prompt-templates",{body:{id:O.id,template:W}});if(Y)throw new Error(Y.message||"Failed to update template");t(U=>U.map(ne=>ne.id===O.id?$.data:ne)),m(U=>{const{[O.id]:ne,...be}=U;return be}),C({title:"Saved",description:`Template "${O.name}" updated successfully`})}catch($){console.error("Error saving template:",$),C({title:"Error",description:$ instanceof Error?$.message:"Failed to save template",variant:"destructive"})}finally{f(null)}},B=O=>{m(W=>{const{[O.id]:$,...Y}=W;return Y}),E(O.id,O.template)},F=async()=>{if(!S.name||!S.template){C({title:"Error",description:"Name and template content are required",variant:"destructive"});return}try{j(!0);const{data:O,error:W}=await ie.functions.invoke("admin-prompt-templates",{method:"PUT",body:{name:S.name,template:S.template,description:S.description||null}});if(W)throw new Error(W.message||"Failed to create template");t($=>[...$,O.data]),N({name:"",template:"",description:""}),b(!1),C({title:"Created",description:`Template "${S.name}" created successfully`})}catch(O){console.error("Error creating template:",O),C({title:"Error",description:O instanceof Error?O.message:"Failed to create template",variant:"destructive"})}finally{j(!1)}},R=v.useMemo(()=>{const O={};return n.forEach(W=>{O[W.category]||(O[W.category]=[]),O[W.category].push(W)}),O},[n]),T=(O,W=60)=>O.length<=W?O:O.substring(0,W)+"...";return c?i.jsx(me,{children:i.jsx(ge,{className:"flex items-center justify-center py-12",children:i.jsx(Oe,{className:"h-8 w-8 animate-spin text-indigo-600"})})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs(me,{children:[i.jsxs(Ye,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ga,{className:"h-6 w-6 text-indigo-600"}),i.jsx(Xe,{children:"Prompt Templates"})]}),i.jsxs(ps,{open:g,onOpenChange:b,children:[i.jsx(n0,{asChild:!0,children:i.jsxs(G,{children:[i.jsx(qn,{className:"h-4 w-4 mr-2"}),"Create Template"]})}),i.jsxs(Xr,{className:"max-w-2xl",children:[i.jsxs(Qr,{children:[i.jsx(Jr,{children:"Create New Template"}),i.jsx(gs,{children:"Add a new prompt template to the system."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{children:"Template Name (snake_case)"}),i.jsx(Ae,{value:S.name,onChange:O=>N(W=>({...W,name:O.target.value})),placeholder:"e.g., agent_emergency_handler"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{children:"Description"}),i.jsx(Ae,{value:S.description,onChange:O=>N(W=>({...W,description:O.target.value})),placeholder:"What is this template used for?"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{children:"Template Content"}),i.jsx(bs,{value:S.template,onChange:O=>N(W=>({...W,template:O.target.value})),className:"font-mono min-h-[200px]",placeholder:"Enter template with {{placeholders}}..."})]})]}),i.jsxs(Zr,{children:[i.jsx(G,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),i.jsxs(G,{onClick:F,disabled:_,children:[_&&i.jsx(Oe,{className:"h-4 w-4 mr-2 animate-spin"}),"Create"]})]})]})]})]}),i.jsx(vt,{children:"Edit the system-wide AI agent prompt templates. Changes affect all new agent updates."})]}),i.jsxs(ge,{className:"space-y-4",children:[i.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(k3,{className:"h-5 w-5 text-amber-600 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"text-sm w-full",children:[i.jsx("p",{className:"font-medium text-amber-800 mb-3",children:"Available Placeholders"}),Object.entries(R).map(([O,W])=>i.jsxs("div",{className:"mb-3",children:[i.jsx("p",{className:"text-xs uppercase text-amber-600 font-semibold mb-2",children:O}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:W.map($=>i.jsxs("div",{className:"bg-white rounded px-3 py-2 border border-amber-200",children:[i.jsx("code",{className:"text-xs font-mono text-amber-700",children:$.placeholder}),i.jsx("p",{className:"text-xs text-slate-600 mt-1",children:$.description})]},$.placeholder))})]},O))]})]})}),i.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-lg border",children:[i.jsx(Am,{className:"h-5 w-5 text-slate-600"}),i.jsxs("div",{className:"flex-1",children:[i.jsx(pe,{className:"text-sm font-medium",children:"Preview with Account"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Select an account to see how templates render with real data"})]}),i.jsxs(vr,{value:o,onValueChange:l,children:[i.jsx(sr,{className:"w-[280px]",children:i.jsx(xr,{placeholder:"Select account"})}),i.jsx(ar,{children:s.map(O=>i.jsx(lt,{value:O.id,children:O.name},O.id))})]})]})]})]}),e.map(O=>{const W=UBe[O.name]||{title:O.name,purpose:""},$=h[O.id]??O.template,Y=D(O),U=y[O.id],ne=x[O.id];return i.jsxs(me,{className:Y?"ring-2 ring-indigo-500":"",children:[i.jsx(Ye,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Xe,{className:"text-lg",children:W.title}),i.jsx(It,{variant:"outline",className:"font-mono text-xs",children:O.name}),Y&&i.jsx(It,{className:"bg-indigo-500",children:"Unsaved"})]}),i.jsx(vt,{className:"mt-1",children:W.purpose||O.description})]}),i.jsx("div",{className:"flex items-center gap-2",children:Y&&i.jsxs(i.Fragment,{children:[i.jsxs(G,{variant:"outline",size:"sm",onClick:()=>B(O),children:[i.jsx(bX,{className:"h-4 w-4 mr-1"}),"Reset"]}),i.jsxs(G,{size:"sm",onClick:()=>V(O),disabled:d===O.id,children:[d===O.id?i.jsx(Oe,{className:"h-4 w-4 mr-1 animate-spin"}):i.jsx(Ec,{className:"h-4 w-4 mr-1"}),"Save"]})]})})]})}),i.jsx(ge,{children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(pe,{className:"flex items-center gap-2 text-sm font-medium",children:[i.jsx(Q2,{className:"h-4 w-4"}),"Template Editor"]}),i.jsx(bs,{value:$,onChange:be=>I(O.id,be.target.value),className:"font-mono text-sm min-h-[300px] resize-y",placeholder:"Enter template..."}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Last updated: ",new Date(O.updated_at).toLocaleString()]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(pe,{className:"flex items-center gap-2 text-sm font-medium",children:[i.jsx(Zh,{className:"h-4 w-4"}),"Live Preview",(U==null?void 0:U.organization)&&i.jsxs("span",{className:"text-xs text-slate-500 font-normal ml-2",children:["(",U.organization.name,")"]})]}),ne?i.jsx("div",{className:"flex items-center justify-center h-[300px] bg-slate-100 rounded-lg",children:i.jsx(Oe,{className:"h-6 w-6 animate-spin text-slate-400"})}):U!=null&&U.rendered?i.jsx("div",{className:"bg-slate-900 text-slate-100 p-4 rounded-lg font-mono text-sm whitespace-pre-wrap min-h-[300px] max-h-[400px] overflow-auto",children:U.rendered}):i.jsx("div",{className:"bg-slate-100 p-4 rounded-lg min-h-[300px] flex items-center justify-center text-slate-500",children:o?"Loading preview...":"Select an account to preview"}),(U==null?void 0:U.placeholderValues)&&i.jsxs(FBe,{children:[i.jsxs(BBe,{className:"flex items-center gap-1 text-sm text-slate-500 hover:text-slate-700",children:[i.jsx(wf,{className:"h-4 w-4"}),"View placeholder values"]}),i.jsx(VBe,{children:i.jsx("div",{className:"mt-2 text-xs bg-slate-50 p-3 rounded space-y-2 max-h-[200px] overflow-auto",children:Object.entries(U.placeholderValues).map(([be,re])=>i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("code",{className:"font-mono text-indigo-600 whitespace-nowrap",children:`{{${be}}}`}),i.jsx("span",{className:"text-slate-400",children:"="}),i.jsx("span",{className:"text-slate-700 break-all",children:re?T(String(re)):i.jsx("em",{className:"text-slate-400",children:"(empty)"})})]},be))})})]})]})]})})]},O.id)}),e.length===0&&i.jsx(me,{children:i.jsxs(ge,{className:"text-center py-12 text-slate-500",children:[i.jsx(Q2,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No prompt templates found in the database."}),i.jsx("p",{className:"text-sm mt-2",children:'Click "Create Template" to add one.'})]})})]})},WBe=()=>{const[e,t]=v.useState(!1),[n,r]=v.useState(""),[s,a]=v.useState(""),[o,l]=v.useState(""),c=u=>{u.preventDefault(),n==="a"&&s==="123"?(t(!0),l("")):(l("Invalid credentials"),a(""))};return e?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(oj,{className:"h-8 w-8 text-indigo-600"}),i.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"})]}),i.jsx("p",{className:"text-slate-600",children:"Manage accounts and view system configuration"})]}),i.jsxs(lq,{defaultValue:"accounts",className:"space-y-4",children:[i.jsxs(CA,{className:"grid w-full max-w-md grid-cols-2",children:[i.jsx(sc,{value:"accounts",children:"Accounts"}),i.jsx(sc,{value:"prompts",children:"Prompt Templates"})]}),i.jsx(ac,{value:"accounts",className:"space-y-4",children:i.jsx(LBe,{})}),i.jsx(ac,{value:"prompts",className:"space-y-4",children:i.jsx(zBe,{})})]})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center p-4",children:i.jsxs(me,{className:"w-full max-w-md",children:[i.jsxs(Ye,{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(oj,{className:"h-6 w-6 text-indigo-600"}),i.jsx(Xe,{className:"text-2xl",children:"Admin Access"})]}),i.jsx(vt,{children:"Enter admin credentials to continue"})]}),i.jsx(ge,{children:i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[o&&i.jsxs(AA,{variant:"destructive",children:[i.jsx(hP,{className:"h-4 w-4"}),i.jsx(TA,{children:o})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"username",className:"text-sm font-medium",children:"Username"}),i.jsx(Ae,{id:"username",type:"text",value:n,onChange:u=>r(u.target.value),placeholder:"Enter username",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),i.jsx(Ae,{id:"password",type:"password",value:s,onChange:u=>a(u.target.value),placeholder:"Enter password",required:!0})]}),i.jsx(G,{type:"submit",className:"w-full",children:"Sign In"})]})})]})})},HBe=new UJ,qBe=W0()==="prod",KBe=Kre,GBe=()=>i.jsx(KJ,{client:HBe,children:i.jsx(KBe,{children:i.jsxs(kP,{children:[i.jsx(cQ,{}),i.jsx(VQ,{}),i.jsx(Gre,{}),!ir(),i.jsx(tte,{basename:"/answer-after/",children:i.jsxs(Kee,{children:[i.jsx(Nt,{path:"/",element:i.jsx(mce,{})}),i.jsx(Nt,{path:"/privacy",element:i.jsx(MBe,{})}),i.jsx(Nt,{path:"/terms",element:i.jsx(RBe,{})}),i.jsx(Nt,{path:"/auth",element:i.jsx(w4,{})}),i.jsx(Nt,{path:"/login",element:i.jsx(w4,{})}),!qBe&&i.jsx(Nt,{path:"/adminaccess",element:i.jsx(WBe,{})}),i.jsx(Nt,{path:"/onboarding/select-plan",element:i.jsx(mn,{children:i.jsx(kBe,{})})}),i.jsx(Nt,{path:"/onboarding/upgrade",element:i.jsx(mn,{children:i.jsx(EBe,{})})}),i.jsx(Nt,{path:"/onboarding/phone",element:i.jsx(mn,{children:i.jsx(ABe,{})})}),i.jsx(Nt,{path:"/onboarding/setup",element:i.jsx(mn,{children:i.jsx(TBe,{})})}),i.jsx(Nt,{path:"/onboarding/test-call",element:i.jsx(mn,{children:i.jsx(OBe,{})})}),i.jsx(Nt,{path:"/dashboard",element:i.jsx(mn,{children:i.jsx(c5e,{})})}),i.jsx(Nt,{path:"/dashboard/calls",element:i.jsx(mn,{children:i.jsx(h5e,{})})}),i.jsx(Nt,{path:"/dashboard/calls/:id",element:i.jsx(mn,{children:i.jsx(I5e,{})})}),i.jsx(Nt,{path:"/dashboard/messages",element:i.jsx(mn,{children:i.jsx(y5e,{})})}),i.jsx(Nt,{path:"/dashboard/calendar",element:i.jsx(mn,{children:i.jsx(F3e,{})})}),i.jsx(Nt,{path:"/dashboard/customers",element:i.jsx(mn,{children:i.jsx(W3e,{})})}),i.jsx(Nt,{path:"/dashboard/leads",element:i.jsx(mn,{children:i.jsx(Q3e,{})})}),i.jsx(Nt,{path:"/dashboard/voice-behavior",element:i.jsx(mn,{children:i.jsx(gFe,{})})}),i.jsx(Nt,{path:"/dashboard/services",element:i.jsx(mn,{children:i.jsx(yFe,{})})}),i.jsx(Nt,{path:"/dashboard/team",element:i.jsx(mn,{children:i.jsx(bFe,{})})}),i.jsx(Nt,{path:"/dashboard/integrations",element:i.jsx(mn,{children:i.jsx(uFe,{})})}),i.jsx(Nt,{path:"/dashboard/account",element:i.jsx(mn,{children:i.jsx(cFe,{})})}),i.jsx(Nt,{path:"/dashboard/subscriptions",element:i.jsx(mn,{children:i.jsx(dFe,{})})}),i.jsx(Nt,{path:"/dashboard/campaigns",element:i.jsx(mn,{children:i.jsx(AFe,{})})}),i.jsx(Nt,{path:"/dashboard/campaigns/:id",element:i.jsx(mn,{children:i.jsx(RFe,{})})}),i.jsx(Nt,{path:"/dashboard/widget",element:i.jsx(mn,{children:i.jsx(IFe,{})})}),i.jsx(Nt,{path:"*",element:i.jsx(PBe,{})})]})})]})})}),Tq=()=>{const e=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("light",!e)};Tq();window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Tq);KL(document.getElementById("root")).render(i.jsx(GBe,{}));
